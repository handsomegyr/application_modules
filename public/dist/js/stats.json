{"errors":[],"warnings":[],"version":"1.12.1","hash":"62c858fe22f9fe050888","time":82,"publicPath":"./dist/js/","assetsByChunkName":{"cart":"cart.js","detail":"detail.js","help":"help.js","index":"index.js","login":"login.js","lottery":"lottery.js","memberindex":"memberindex.js","message":"message.js","news":"news.js","post":"post.js","qcbind":"qcbind.js","uMy":"uMy.js","common.js":"common.js"},"assets":[{"name":"memberindex.js","size":264947,"chunks":[6],"chunkNames":["memberindex"],"emitted":false},{"name":"cart.js","size":16629,"chunks":[0],"chunkNames":["cart"],"emitted":false},{"name":"help.js","size":22851,"chunks":[2],"chunkNames":["help"],"emitted":false},{"name":"index.js","size":69112,"chunks":[3],"chunkNames":["index"],"emitted":false},{"name":"login.js","size":23711,"chunks":[4],"chunkNames":["login"],"emitted":false},{"name":"lottery.js","size":69797,"chunks":[5],"chunkNames":["lottery"],"emitted":false},{"name":"detail.js","size":79290,"chunks":[1],"chunkNames":["detail"],"emitted":false},{"name":"message.js","size":15422,"chunks":[7],"chunkNames":["message"],"emitted":false},{"name":"news.js","size":13064,"chunks":[8],"chunkNames":["news"],"emitted":false},{"name":"post.js","size":72060,"chunks":[9],"chunkNames":["post"],"emitted":false},{"name":"qcbind.js","size":17852,"chunks":[10],"chunkNames":["qcbind"],"emitted":false},{"name":"uMy.js","size":67948,"chunks":[11],"chunkNames":["uMy"],"emitted":false},{"name":"common.js","size":115463,"chunks":[12],"chunkNames":["common.js"],"emitted":false}],"chunks":[{"id":0,"rendered":false,"initial":true,"entry":false,"extraAsync":false,"size":15422,"names":["cart"],"files":["cart.js"],"hash":"bd513c8db808929662ce","parents":[12],"origins":[{"moduleId":0,"module":"D:\\云购\\public\\js\\app\\cart.main.js","moduleIdentifier":"D:\\云购\\public\\js\\app\\cart.main.js","moduleName":"./js/app/cart.main.js","loc":"","name":"cart","reasons":[]}]},{"id":1,"rendered":false,"initial":true,"entry":false,"extraAsync":false,"size":75542,"names":["detail"],"files":["detail.js"],"hash":"be163b3390e864b65df8","parents":[12],"origins":[{"moduleId":0,"module":"D:\\云购\\public\\js\\app\\detail.main.js","moduleIdentifier":"D:\\云购\\public\\js\\app\\detail.main.js","moduleName":"./js/app/detail.main.js","loc":"","name":"detail","reasons":[]}]},{"id":2,"rendered":false,"initial":true,"entry":false,"extraAsync":false,"size":21514,"names":["help"],"files":["help.js"],"hash":"f047603d6856fe1b9f7a","parents":[12],"origins":[{"moduleId":0,"module":"D:\\云购\\public\\js\\app\\help.main.js","moduleIdentifier":"D:\\云购\\public\\js\\app\\help.main.js","moduleName":"./js/app/help.main.js","loc":"","name":"help","reasons":[]}]},{"id":3,"rendered":false,"initial":true,"entry":false,"extraAsync":false,"size":66263,"names":["index"],"files":["index.js"],"hash":"46f41e35079a28727a40","parents":[12],"origins":[{"moduleId":0,"module":"D:\\云购\\public\\js\\app\\index.main.js","moduleIdentifier":"D:\\云购\\public\\js\\app\\index.main.js","moduleName":"./js/app/index.main.js","loc":"","name":"index","reasons":[]}]},{"id":4,"rendered":false,"initial":true,"entry":false,"extraAsync":false,"size":22645,"names":["login"],"files":["login.js"],"hash":"68845b218c8a1ac1867d","parents":[12],"origins":[{"moduleId":0,"module":"D:\\云购\\public\\js\\app\\login.main.js","moduleIdentifier":"D:\\云购\\public\\js\\app\\login.main.js","moduleName":"./js/app/login.main.js","loc":"","name":"login","reasons":[]}]},{"id":5,"rendered":false,"initial":true,"entry":false,"extraAsync":false,"size":66300,"names":["lottery"],"files":["lottery.js"],"hash":"da11bfe6eecd5dfdec48","parents":[12],"origins":[{"moduleId":0,"module":"D:\\云购\\public\\js\\app\\lottery.main.js","moduleIdentifier":"D:\\云购\\public\\js\\app\\lottery.main.js","moduleName":"./js/app/lottery.main.js","loc":"","name":"lottery","reasons":[]}]},{"id":6,"rendered":false,"initial":true,"entry":false,"extraAsync":false,"size":255460,"names":["memberindex"],"files":["memberindex.js"],"hash":"5cde27c7ea1bc526d5e8","parents":[12],"origins":[{"moduleId":0,"module":"D:\\云购\\public\\js\\app\\memberindex.main.js","moduleIdentifier":"D:\\云购\\public\\js\\app\\memberindex.main.js","moduleName":"./js/app/memberindex.main.js","loc":"","name":"memberindex","reasons":[]}]},{"id":7,"rendered":false,"initial":true,"entry":false,"extraAsync":false,"size":14461,"names":["message"],"files":["message.js"],"hash":"9aa90306b0142eb60481","parents":[12],"origins":[{"moduleId":0,"module":"D:\\云购\\public\\js\\app\\message.main.js","moduleIdentifier":"D:\\云购\\public\\js\\app\\message.main.js","moduleName":"./js/app/message.main.js","loc":"","name":"message","reasons":[]}]},{"id":8,"rendered":false,"initial":true,"entry":false,"extraAsync":false,"size":12336,"names":["news"],"files":["news.js"],"hash":"56b4c939bd13a2dbb101","parents":[12],"origins":[{"moduleId":0,"module":"D:\\云购\\public\\js\\app\\news.main.js","moduleIdentifier":"D:\\云购\\public\\js\\app\\news.main.js","moduleName":"./js/app/news.main.js","loc":"","name":"news","reasons":[]}]},{"id":9,"rendered":false,"initial":true,"entry":false,"extraAsync":false,"size":68860,"names":["post"],"files":["post.js"],"hash":"eecac45bea90a6d3a70a","parents":[12],"origins":[{"moduleId":0,"module":"D:\\云购\\public\\js\\app\\post.main.js","moduleIdentifier":"D:\\云购\\public\\js\\app\\post.main.js","moduleName":"./js/app/post.main.js","loc":"","name":"post","reasons":[]}]},{"id":10,"rendered":false,"initial":true,"entry":false,"extraAsync":false,"size":16960,"names":["qcbind"],"files":["qcbind.js"],"hash":"e264b75e65237454747d","parents":[12],"origins":[{"moduleId":0,"module":"D:\\云购\\public\\js\\app\\qcbind.main.js","moduleIdentifier":"D:\\云购\\public\\js\\app\\qcbind.main.js","moduleName":"./js/app/qcbind.main.js","loc":"","name":"qcbind","reasons":[]}]},{"id":11,"rendered":false,"initial":true,"entry":false,"extraAsync":false,"size":64860,"names":["uMy"],"files":["uMy.js"],"hash":"aa21d18c40a336d294e7","parents":[12],"origins":[{"moduleId":0,"module":"D:\\云购\\public\\js\\app\\uMy.main.js","moduleIdentifier":"D:\\云购\\public\\js\\app\\uMy.main.js","moduleName":"./js/app/uMy.main.js","loc":"","name":"uMy","reasons":[]}]},{"id":12,"rendered":false,"initial":true,"entry":true,"extraAsync":false,"size":110585,"names":["common.js"],"files":["common.js"],"hash":"d572dddf97f562cb4e2b","parents":[],"origins":[]}],"modules":[{"id":0,"identifier":"D:\\云购\\public\\js\\app\\login.main.js","name":"./js/app/login.main.js","index":18,"index2":18,"size":13192,"cacheable":true,"built":false,"optional":false,"prefetched":false,"chunks":[4],"assets":[],"issuer":null,"failed":false,"errors":0,"warnings":0,"reasons":[],"source":"require(\"../libs/query\");\r\nrequire(\"./public\");\r\n$(function(){\r\n\r\n\t// 微信登录\r\n\t$(\"#a_return\").on('click', function(){\r\n\t\t$(\"#wxLogin\").animate({'right':\"-390px\"});\r\n\t});\r\n\r\n\t$(\"#wx_login_btn\").on('click', function(){\r\n\t\t$(\"#wxLogin\").animate({'right':\"0\"});\r\n\t});\r\n\r\n\tif( pageTrue==\"findcheck\" ){// 找回密码\r\n\t\t\r\n\t\t// 账号验证\r\n\t\tvar verifiedby = false;\r\n\t\t$(\"#txtUserName\").on('blur', function(){\r\n\t\t\tvar $this = $(this);\r\n\t\t\tvar thisParent = $this.parent();\r\n\t\t\tvar txtUserName = $this.val();\r\n\t\t\tvar testEmail = _email.test(txtUserName);\r\n\r\n\t\t\tif( txtUserName.length==11 && _sizeTel.test(txtUserName) ){\r\n\t\t\t\tajaxNum = 0;\r\n\t\t    }else if( testEmail ){\r\n\t\t    \tajaxNum = 1;\r\n\t\t    }else{\r\n\t\t    \tif( $this.val()=='' ) return;\r\n\t\t    \tlifocus(0,'请输入正确的手机号或邮箱地址');\r\n\t\t    \treturn;\r\n\t\t    }\r\n\r\n\t\t    checkEmailMobileFun(txtUserName,ajaxNum,function(data){\r\n\t\t    \tif( !data.success ){\r\n\t\t    \t\tverifiedby = true;\r\n\t\t        }else{\r\n\t\t        \tverifiedby = false;\r\n\t\t        \tthisParent.addClass('enter-focus error-text');\r\n\t\t\t\t\tthisParent.find('.orange').show().html('<i class=\"passport-icon transparent-png\"></i>账号不存在');\r\n\t\t        }\r\n\t\t    });\r\n\t\t});\r\n\r\n\t\t// 获取验证码\r\n\t\tvar snTrue = true;\r\n\t\t$(\"#btnSend\").on(click, function(){\r\n\t\t\tvar $this = $(this);\r\n\t\t\tvar $name = $(\"#txtUserName\");\r\n\t\t\tvar username = $name.val();\r\n\t\t\tvar testEmail = _email.test(username);\r\n\t\t\tvar ajaxNum;\r\n\r\n\t\t\t// 判断是否是手机\r\n\t\t\tif( username.length==11 && _sizeTel.test(username) ){\r\n\t\t\t\tajaxNum = 1;\r\n\t\t    }else if( testEmail ){\r\n\t\t    \tajaxNum = 0;\r\n\t\t    }else{\r\n\t\t    \t$name.focus();\r\n\t\t    \tlifocus(0,'请输入正确的手机号或邮箱地址');\r\n\t\t        return false;\r\n\t\t    }\r\n\t\t    if( !ajaxlack || !snTrue || !verifiedby ) return; ajaxlack = false; snTrue = false; verifiedby = false;\r\n\t\t    $name.parents(\"li\").find(\".orange\").hide();\r\n\r\n\t\t    ajaxCodeFun(username,ajaxNum,function(){\r\n\t\t\t\t$this.addClass(\"current\");\r\n\t        \tsetIntervalFun(120,function(_TIME){\r\n\t        \t\t$this.html('重新发送('+_TIME+')');\r\n\t        \t\tif( _TIME<=0 ){\r\n\t        \t\t\t$this.removeClass(\"current\");\r\n\t        \t\t\t$this.html('重新发送');\r\n\t        \t\t\tsnTrue = true;\r\n\t        \t\t}\r\n\t        \t});\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\t// 找回密码\r\n\t\t$(\"#findpasswordBtn\").on(click, function(){\r\n\t\t\tvar txtUserName = $(\"#txtUserName\").val();\r\n\t\t\tvar txtPwd = $(\"#txtPwd\").val();\r\n\t\t\tvar txtConPwd = $(\"#txtConPwd\").val();\r\n\t\t\tvar txtCode = $(\"#txtvcode\").val();\r\n\t\t\tvar testEmail = _email.test(txtUserName);\r\n\t\t\tvar dataObj;\r\n\r\n\t\t\tif( txtUserName.length==11 && _sizeTel.test(txtUserName) ){\r\n\t\t\t\tdataObj = {\r\n\t\t\t\t\tmobile : txtUserName,\r\n\t\t\t\t\tpassword : txtPwd,\r\n\t\t\t\t\tpassword_confirm : txtConPwd,\r\n\t\t\t\t\tvcode : txtCode\r\n\t\t\t\t}\r\n\t\t    }else if( testEmail ){\r\n\t\t    \tdataObj = {\r\n\t\t\t\t\tpassword : txtPwd,\r\n\t\t\t\t\temail : txtUserName,\r\n\t\t\t\t\tpassword_confirm : txtConPwd,\r\n\t\t\t\t\tvcode : txtCode\r\n\t\t\t\t}\r\n\t\t    }else{\r\n\t\t    \t$(\"#txtUserName\").focus();\r\n\t\t    \tlifocus(0,'请输入正确的手机号或邮箱地址');\r\n\t\t    \treturn;\r\n\t\t    }\r\n\r\n\t\t    if( txtUserName=='' ){\r\n\t\t    \t$(\"#txtUserName\").focus();\r\n\t\t    \tlifocus(0,'请输入您的手机号/邮箱地址');\r\n\t\t    \treturn;\r\n\t\t    }\r\n\r\n\t\t    if( txtCode==\"\" ){\r\n\t\t    \t$(\"#txtvcode\").focus();\r\n\t\t    \tlifocus(1,'请认真核对验证码是否正确');\r\n\t\t    \treturn;\r\n\t\t    }\r\n\r\n\t\t    if( txtPwd=='' ){\r\n\t\t    \t$(\"#txtPwd\").focus();\r\n\t\t    \tlifocus(2,'请设置登录密码');\r\n\t\t    \treturn;\r\n\t\t    }\r\n\r\n\t\t    if( txtConPwd==''||txtConPwd.length<8||txtConPwd.length>20 ){\r\n\t\t    \t$(\"#txtPwd\").focus();\r\n\t\t    \tlifocus(2,'密码由8-20位字母');\r\n\t\t    \treturn;\r\n\t\t    }\r\n\r\n\t\t    if( txtPwd!=txtConPwd ){\r\n\t\t    \t$(\"#txtConPwd\").focus();\r\n\t\t    \tlifocus(3,'两次输入的密码不一致');\r\n\t\t    \treturn;\r\n\t\t    }\r\n\r\n\t\t    resetpwdFun(dataObj);\r\n\t\t});\r\n\r\n\t\t// 找回密码函数\r\n\t\tfunction resetpwdFun(dataObj){\r\n\t\t\tif( !ajaxlack ) return; ajaxlack = false;\r\n\t\t\t$(\".register-form-con li\").find('.orange').hide();\r\n\t\t\t$.ajax({\r\n\t\t        url: \"/member/service/resetpwd\",\r\n\t\t        type: 'POST',\r\n\t\t        dataType: 'json',\r\n\t\t        data: dataObj\r\n\t\t    })\r\n\t\t    .done(function(data) {\r\n\t\t        console.log(data);\r\n\t\t        if( data.success ){\r\n\t\t        \t$(\".g-contentCon\").hide();\r\n\t\t        \t$(\".findresetsuccess\").show();\r\n\t\t        \tsetIntervalFun(3,function(_TIME){\r\n\t\t        \t\t$(\"#a_go\").html('<em>立即登录</em>（'+_TIME+'秒）');\r\n\t\t        \t\tif( _TIME==0 ){\r\n\t\t        \t\t\twindow.location.href = '/member/passport/login';\r\n\t\t        \t\t}\r\n\t\t        \t});\r\n\t\t        }else{\r\n\t\t        \tconsole.log(data.error_msg);\r\n\t\t        \tif( data.error_code==513 ){\r\n\t\t        \t\t$(\"#txtvcode\").focus();\r\n\t\t        \t\tlifocus(1,'请认真核对验证码是否正确');\r\n\t\t        \t}else{\r\n\t\t        \t\t\r\n\t\t        \t}\r\n\t\t        }\r\n\t\t    })\r\n\t\t    .fail(function() {\r\n\t\t        alert('网络错误！')\r\n\t\t    })\r\n\t\t    .always(function() {\r\n\t\t    \tajaxlack = true;\r\n\t\t    });\r\n\t\t}\r\n\r\n\t\t\r\n\r\n\t}else{ //登录--注册\r\n\t\t// 获取验证码\r\n\t\tvar snTrue = true;\r\n\t\t$(\"#btnSend\").on(click, function(){\r\n\t\t\tvar $this = $(this);\r\n\t\t\tvar $name = $(\"#txtUserName\");\r\n\t\t\tvar username = $name.val();\r\n\t\t\tvar testEmail = _email.test(username);\r\n\t\t\tvar ajaxNum;\r\n\r\n\t\t\t// 判断是否是手机\r\n\t\t\tif( username.length==11 && _sizeTel.test(username) ){\r\n\t\t\t\tajaxNum = 1;\r\n\t\t    }else if( testEmail ){\r\n\t\t    \tajaxNum = 0;\r\n\t\t    }else{\r\n\t\t    \t$name.focus();\r\n\t\t    \tlifocus(0,'请输入正确的手机号或邮箱地址');\r\n\t\t        return false;\r\n\t\t    }\r\n\t\t    if( !ajaxlack ||!snTrue ) return; ajaxlack = false; snTrue = false;\r\n\t\t    $name.parents(\"li\").find(\".orange\").hide();\r\n\r\n\t\t    ajaxCodeFun(username,ajaxNum,function(){\r\n\t\t\t\t$this.addClass(\"current\");\r\n\t        \tsetIntervalFun(120,function(_TIME){\r\n\t        \t\t$this.html('重新发送('+_TIME+')');\r\n\t        \t\tif( _TIME<=0 ){\r\n\t        \t\t\t$this.removeClass(\"current\");\r\n\t        \t\t\t$this.html('重新发送');\r\n\t        \t\t\tsnTrue = true;\r\n\t        \t\t}\r\n\t        \t});\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\t// 登录\r\n\t\t$(\"#btnSubmitLogin\").on(click, function(){\r\n\t\t\tloginFun();\r\n\t\t});\r\n\r\n\t\t$('#username, #pwd').keydown(function(e){\r\n\t\t\tif( e.keyCode==13 ){\r\n\t\t\t\tloginFun();\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t// 登录函数\r\n\t\tfunction loginFun(){\r\n\t\t\tvar username = $(\"#username\").val();\r\n\t\t\tvar password = $(\"#pwd\").val();\r\n\t\t\tvar testEmail = _email.test(username);\r\n\t\t\tvar dataObj;\t\t\r\n\t\t\t// 判断是否是手机\r\n\t\t\tif( username.length==11 && _sizeTel.test(username) ){\r\n\t\t\t\tdataObj = {\r\n\t\t\t\t\tmobile : username,\r\n\t\t\t\t\tpassword : password\r\n\t\t\t\t}\r\n\t\t    }else if( testEmail ){\r\n\t\t    \tdataObj = {\r\n\t\t\t\t\tpassword : password,\r\n\t\t\t\t\temail : username\r\n\t\t\t\t}\r\n\t\t    }else{\r\n\t\t    \t$(\"#username\").focus();\r\n\t\t    \t$(\"#dd_error_msg\").html(errorIcon+'请输入正确的手机号或邮箱地址').show();\r\n\t\t        return false;\r\n\t\t    }\t\r\n\r\n\t\t    if( password=='' ){\r\n\t\t    \t$(\"#pwd\").focus();\r\n\t\t\t\t$(\"#dd_error_msg\").html(errorIcon+'请输入登录密码').show();\r\n\t\t        return false;\r\n\t\t\t}\t\r\n\r\n\t\t\tif( !ajaxlack ) return; ajaxlack = false;\r\n\t\t\t$(\"#btnSubmitLogin\").html('正在登录···').css({\"letter-spacing\":\"0\"});\r\n\t\t\t$.ajax({\r\n\t\t        url: \"/member/service/userlogin\",\r\n\t\t        type: 'POST',\r\n\t\t        dataType: 'json',\r\n\t\t        data: dataObj\r\n\t\t    })\r\n\t\t    .done(function(data) {\r\n\t\t        console.log(data);\r\n\t\t        if( data.success ){\r\n\t\t        \tvar forward = decodeURIComponent($.query.get('forward'));\r\n\t\t        \tif( forward ){\r\n\t\t    \t\t\twindow.top.location.href = forward;\r\n\t\t        \t}else{\r\n\t\t        \t\twindow.location.href = '/member/index/index';\r\n\t\t        \t}\r\n\t\t        }else{\r\n\t\t        \t$(\"#dd_error_msg\").html(errorIcon+'用户名或密码有误，请重新输入').show();\r\n\t\t        }\r\n\t\t    })\r\n\t\t    .fail(function() {\r\n\t\t        alert('网络错误！')\r\n\t\t    })\r\n\t\t    .always(function() {\r\n\t\t    \tajaxlack = true;\r\n\t\t    \t$(\"#btnSubmitLogin\").html('登录').attr(\"style\",\"\");\r\n\t\t    });\r\n\t\t}\r\n\r\n\t\t// 注册\r\n\t\t$(\"#btnAgreeBtn\").on(click, function(){\r\n\t\t\tverificationFun();\r\n\t\t});\r\n\r\n\t\t// 验证\r\n\t\tfunction verificationFun(_focus){\r\n\t\t\tvar txtUserName = $(\"#txtUserName\").val();\r\n\t\t\tvar txtPwd = $(\"#txtPwd\").val();\r\n\t\t\tvar txtConPwd = $(\"#txtConPwd\").val();\r\n\t\t\tvar txtCode = $(\"#txtCode\").val();\r\n\t\t\tvar vcode = $(\"#txtvcode\").val();\r\n\t\t\tvar testEmail = _email.test(txtUserName);\r\n\t\t\tvar dataObj;\r\n\r\n\t\t\tif( txtUserName.length==11 && _sizeTel.test(txtUserName) ){\r\n\t\t\t\tdataObj = {\r\n\t\t\t\t\tmobile : txtUserName,\r\n\t\t\t\t\tpassword : txtPwd,\r\n\t\t\t\t\tpassword_confirm : txtConPwd,\r\n\t\t\t\t\tcaptcha : txtCode,\r\n\t\t\t\t\tvcode : vcode\r\n\t\t\t\t}\r\n\t\t    }else if( testEmail ){\r\n\t\t    \tdataObj = {\r\n\t\t\t\t\tpassword : txtPwd,\r\n\t\t\t\t\temail : txtUserName,\r\n\t\t\t\t\tpassword_confirm : txtConPwd,\r\n\t\t\t\t\tcaptcha : txtCode,\r\n\t\t\t\t\tvcode : vcode\r\n\t\t\t\t}\r\n\t\t    }else{\r\n\t\t    \t$(\"#txtUserName\").focus();\r\n\t\t    \tlifocus(0,'请输入正确的手机号或邮箱地址');\r\n\t\t    \treturn;\r\n\t\t    }\r\n\r\n\t\t    if( txtUserName=='' ){\r\n\t\t    \t$(\"#txtUserName\").focus();\r\n\t\t    \tlifocus(0,'请输入您的手机号/邮箱地址');\r\n\t\t    \treturn;\r\n\t\t    }\r\n\r\n\t\t    if( vcode==\"\" ){\r\n\t\t    \t$(\"#txtvcode\").focus();\r\n\t\t    \tlifocus(1,'请认真核对验证码是否正确');\r\n\t\t    \treturn;\r\n\t\t    }\r\n\r\n\t\t    if( txtPwd=='' ){\r\n\t\t    \t$(\"#txtPwd\").focus();\r\n\t\t    \tlifocus(2,'请设置登录密码');\r\n\t\t    \treturn;\r\n\t\t    }\r\n\r\n\t\t    if( txtConPwd==''||txtConPwd.length<8||txtConPwd.length>20 ){\r\n\t\t    \t$(\"#txtPwd\").focus();\r\n\t\t    \tlifocus(2,'密码由8-20位字母');\r\n\t\t    \treturn;\r\n\t\t    }\r\n\r\n\t\t    if( txtPwd!=txtConPwd ){\r\n\t\t    \t$(\"#txtConPwd\").focus();\r\n\t\t    \tlifocus(3,'两次输入的密码不一致');\r\n\t\t    \treturn;\r\n\t\t    }\r\n\r\n\t\t    if( txtCode=='' ){\r\n\t\t    \t$(\"#txtCode\").focus();\r\n\t\t    \tlifocus(4,'请输入验证码');\r\n\t\t    \treturn;\r\n\t\t    }\r\n\r\n\t\t    agreeFun(dataObj);\r\n\t\t}\r\n\r\n\t\tfunction lifocus(eq,text){\r\n\t\t\tvar $li = $(\".register-form-con li\");\r\n\t\t\t$li.eq(eq).addClass(\"enter-focus error-text\").find(\".orange\").html(errorIcon+text).show();\r\n\t\t}\r\n\r\n\t\t// 注册函数\r\n\t\tfunction agreeFun(dataObj){\r\n\t\t\tif( !ajaxlack ) return; ajaxlack = false;\r\n\t\t\t$(\".register-form-con li\").find('.orange').hide();\r\n\t\t\t$.ajax({\r\n\t\t        url: \"/member/service/saveregister\",\r\n\t\t        type: 'POST',\r\n\t\t        dataType: 'json',\r\n\t\t        data: dataObj\r\n\t\t    })\r\n\t\t    .done(function(data) {\r\n\t\t        console.log(data);\r\n\t\t        if( data.success ){\r\n\t\t        \t$(\".g-contentCon:eq(0)\").hide();\r\n\t\t        \t$(\".g-contentCon:eq(1)\").show();\r\n\t\t        \t$(\".blue\").html(txtUserName);\r\n\r\n\t\t        \tsetIntervalFun(3,function(_TIME){\r\n\t\t        \t\t$(\"#a_go\").html('<em>立即1元云购</em>（'+_TIME+'秒）');\r\n\t\t        \t\tif( _TIME==0 ){\r\n\t\t        \t\t\twindow.location.href = '/';\r\n\t\t        \t\t}\r\n\t\t        \t});\r\n\t\t        }else{\r\n\t\t        \tconsole.log(data.error_msg);\r\n\t\t        \tif( data.error_code==513 ){\r\n\t\t        \t\t$(\"#txtvcode\").focus();\r\n\t\t        \t\tlifocus(1,'请认真核对验证码是否正确');\r\n\t\t        \t}else if( data.error_code==597 ){\r\n\t\t\t\t\t\tlifocus(4,'请认真核对验证码是否正确');\r\n\t\t        \t}else{\r\n\t\t        \t\talert('提交失败，请重试！');\r\n\t\t        \t}\r\n\t\t        }\r\n\t\t    })\r\n\t\t    .fail(function() {\r\n\t\t        alert('网络错误！')\r\n\t\t    })\r\n\t\t    .always(function() {\r\n\t\t    \tajaxlack = true;\r\n\t\t    });\r\n\t\t}\r\n\r\n\r\n\t\t// 刷新验证码\r\n\t\t$(\"#imgCode, #btnChangeCode\").on(click, function(){\r\n\t\t\t$(\"#imgCode\").attr({\"src\":$(\"#imgCode\").attr(\"src\")});\r\n\t\t});\r\n\r\n\r\n\t\t// 账号验证\r\n\t\tvar verifiedby = true;\r\n\t\t$(\"#txtUserName\").on('blur', function(){\r\n\t\t\tvar $this = $(this);\r\n\t\t\tvar thisParent = $this.parent();\r\n\t\t\tvar txtUserName = $this.val();\r\n\t\t\tvar testEmail = _email.test(txtUserName);\r\n\r\n\t\t\tif( txtUserName.length==11 && _sizeTel.test(txtUserName) ){\r\n\t\t\t\tajaxNum = 0;\r\n\t\t    }else if( testEmail ){\r\n\t\t    \tajaxNum = 1;\r\n\t\t    }else{\r\n\t\t    \tif( $this.val()=='' ) return;\r\n\t\t    \tlifocus(0,'请输入正确的手机号或邮箱地址');\r\n\t\t    \treturn;\r\n\t\t    }\r\n\r\n\t\t    checkEmailMobileFun(txtUserName,ajaxNum,function(data){\r\n\t\t    \tif( data.success ){\r\n\t\t    \t\tverifiedby = false;\r\n\t\t    \t\tthisParent.removeClass('enter-focus error-text');\r\n\t\t    \t\tthisParent.find('.orange').show().html('');\r\n\t\t        }else{\r\n\t\t        \tverifiedby = true;\r\n\t\t        \tthisParent.addClass('enter-focus error-text');\r\n\t\t\t\t\tthisParent.find('.orange').show().html('<i class=\"passport-icon transparent-png\"></i>账号已注册，请更换或<a href=\"/member/passport/login\" class=\"blue\">立即登录</a>');\r\n\t\t        }\r\n\t\t    });\r\n\t\t    \r\n\t\t});\r\n\t}\r\n\r\n\r\n\r\n\t// 失去焦点\r\n\t$(\"#txtPwd\").on(\"blur\", function(){\r\n\t\tvar txtPwd = $(\"#txtPwd\").val();\r\n\t\tvar txtConPwd = $(\"#txtConPwd\").val();\r\n\t\tif( txtPwd=='' ) return;\r\n\t\t$(\"#pwdStrength\").hide();\r\n\t\tif( txtPwd.length<8||txtPwd.length>20 ){\r\n\t\t\tlifocus(2,'密码由8-20位字母');\r\n\t\t\t$(\".register-form-con li:eq(1)\").removeClass('correct-text');\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif( txtPwd.length>8&&txtPwd.length<20 ){\r\n\t\t\t$(\".register-form-con li:eq(1)\").addClass('correct-text').find(\".passport-icon\").show();\r\n\t\t\treturn;\r\n\t\t}\r\n\t});\r\n\r\n\t// 密码强度验证\r\n\t$(\"#txtPwd\").on(\"keyup\", function(){\r\n\t\tvar txtPwd = $(\"#txtPwd\").val();\r\n\t\tvar $div = $(\"#pwdStrength\");\r\n\t\tif( txtPwd.length>8&&txtPwd.length<=20 ){\r\n\t\t\tvar qiang = passwordsFun(txtPwd);\r\n\t\t\tconsole.log(passwordsFun(txtPwd));\r\n\t\t\t$div.show();\r\n\t\t\tif( qiang==\"弱\" ){\r\n\t\t\t\t$div.html(yellowTxt(0));\r\n\t\t\t}else if( qiang==\"中\" ){\r\n\t\t\t\t$div.html(yellowTxt(1));\r\n\t\t\t}else{\r\n\t\t\t\t$div.html(yellowTxt(2));\r\n\t\t\t}\r\n\t\t}else{\r\n\t\t\t$div.html(yellowTxt(0));\r\n\t\t}\r\n\t});\r\n\r\n\t$(\"#txtConPwd\").on(\"blur\", function(){\r\n\t\tvar txtPwd = $(\"#txtPwd\").val();\r\n\t\tvar txtConPwd = $(\"#txtConPwd\").val();\r\n\t\tif( txtConPwd=='' ) return;\r\n\t\tif( txtPwd==txtConPwd ){\r\n\t    \t$(\".register-form-con li:eq(2), .register-form-con li:eq(3)\").addClass('correct-text').find(\".passport-icon\").show();\r\n\t    }else{\r\n\t    \t$(\"#txtConPwd\").parent().addClass(\"enter-focus error-text\").find(\".orange\").html(errorIcon+'两次输入的密码不一致').show();\r\n\t    \t$(\"#txtConPwd\").parent().removeClass('correct-text');\r\n\t    }\r\n\t});\r\n\t\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n});"},{"id":0,"identifier":"D:\\云购\\public\\js\\app\\cart.main.js","name":"./js/app/cart.main.js","index":0,"index2":6,"size":135,"cacheable":true,"built":false,"optional":false,"prefetched":false,"chunks":[0],"assets":[],"issuer":null,"failed":false,"errors":0,"warnings":0,"reasons":[],"source":"require(\"./public\");\r\nrequire(\"./CartList\");\r\nrequire(\"./cartAjax\");\r\n$(function(){\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n})"},{"id":0,"identifier":"D:\\云购\\public\\js\\app\\post.main.js","name":"./js/app/post.main.js","index":31,"index2":31,"size":19964,"cacheable":true,"built":false,"optional":false,"prefetched":false,"chunks":[9],"assets":[],"issuer":null,"failed":false,"errors":0,"warnings":0,"reasons":[],"source":"require(\"../libs/query\");\r\nrequire(\"../libs/pagination-min\");\r\nrequire(\"../libs/jquery.lazyload\");\r\nrequire(\"./public\");\r\nrequire(\"./collectFun\");\r\nrequire(\"./bottomFun\");\r\nrequire(\"./cartAjax\");\r\n\r\n$(function(){\r\n\r\n\r\n\tvar postID = $.query.get(\"id\");\r\n\tvar floorID = 0;\r\n\t/*********************************************************************首页*****************************************************/\r\n\tif( pageTrue==\"postindex\" ){\r\n\t\t$(\"#div_category\").hover(function(){\r\n\t\t\t$(\".classification\").show();\r\n\t\t},function(){\r\n\t\t\t$(\".classification\").hide();\r\n\t\t});\r\n\t}\r\n\r\n\t// 羡慕\r\n    $(\"#p_xianmu, .p_xianmu\").on(\"click\",function(){\r\n    \tvar $this = $(this);\r\n    \tif( !ajaxlack||$this.hasClass(\"u-xianmu-past\") ) return; ajaxlack= false;\r\n    \t$.ajax({\r\n            url: \"/post/service/insertposthits\",\r\n            type: 'POST',\r\n            dataType: 'json',\r\n            data: { postid:( postID==\"\" ? $this.attr('postid') : postID ) }\r\n        })\r\n        .done(function(data) {\r\n            console.log(data);\r\n            if( data.success ){\r\n            \t$this.find(\".em\").html(eval($this.find(\".em\").attr(\"votenum\"))+1);\r\n            \t$this.addClass(\"u-xianmu-past\");\r\n            }else{\r\n\r\n            }\r\n        })\r\n        .fail(function() {\r\n\r\n        })\r\n        .always(function() {\r\n        \tajaxlack = true;\r\n        });\r\n    });\r\n\r\n    // 删除回复\r\n    $(document).on(\"click\",'.signDelete',function(){\r\n    \tvar id = $(this).attr(\"replayid\");\r\n    \t$(this).parents(\"ul\").removeClass(\"removeClass\");\r\n    \t$(this).parents(\".liClass\").addClass(\"removeClass\");\r\n    \ttanFun(282,110,'<div class=\"PopMsgC\"><s></s>确定要删除吗？</div>'\r\n\t    \t+'<div class=\"PopMsgbtn\">'\r\n\t    \t+'<a href=\"javascript:;\" id=\"btnMsgOK\" class=\"orangebut\" replayid=\"'+id+'\">确认</a>&nbsp;&nbsp;<a href=\"javascript:gotoClick();\" id=\"btnMsgCancel\" class=\"cancelBtn\">取消</a>'\r\n\t    \t+'</div>');\r\n    });\r\n\r\n    // 确认删除回复\r\n    $(document).on(\"click\",\"#btnMsgOK\",function(){\r\n    \tvar id = $(this).attr(\"replayid\");\r\n    \tif( !ajaxlack ) return; ajaxlack= false;\r\n    \tdeletepostreplyFun(id,function(data){\r\n    \t\tif( data.success ){\r\n    \t\t\tFailDialog(160,60,'删除成功！');\r\n    \t\t\t$(\".removeClass\").remove();\r\n    \t\t\tgotoClick();\r\n    \t\t\tajaxlack = true;\r\n    \t\t}\r\n    \t});\r\n    });\r\n\r\n\r\n    // 回复回复的回复\r\n    $(document).on(\"click\", \".signReply\",function(){\r\n    \treplyID = $(this).attr(\"replayid\");\r\n    \tfloorID = $(this).attr(\"floorID\");\r\n    \t$(\".from-to-close\").remove();\r\n    \t$(\".input-box\").prepend('<div name=\"comment-title\" class=\"from-to-close\" style=\"\"><span>对 '+floorID+'楼 说</span><a class=\"delete-close\" href=\"javascript:\"></a></div>')\r\n    });\r\n\r\n    // 关闭回复回复的回复\r\n    $(document).on(\"click\", \".delete-close\",function(){\r\n    \treplyID = replyinfoId;\r\n    \t$(\".from-to-close\").remove();\r\n    });\r\n\r\n\r\n\r\n\tif( pageTrue==\"postdetail\" ){\r\n\t\t// TA的其他晒单\r\n\t\tgetpostotherlistAjaxFun(1,10,postID);\r\n\t\tfunction getpostotherlistAjaxFun(page,limit,postid){\r\n\t        $.ajax({\r\n\t            url: \"/post/service/getpostotherlist\",\r\n\t            type: 'POST',\r\n\t            dataType: 'json',\r\n\t            data: { page:page, limit:limit, postid:postid }\r\n\t        })\r\n\t        .done(function(data) {\r\n\t            console.log(data);\r\n\t            if( data.success ){\r\n\t            \t$.each(data.result.datas, function(i,item){\r\n\t            \t\tvar codePeriod = item.codePeriod; //: \"1\"\r\n\t            \t\tvar postContent = item.postContent; //: \"嗯呵呵O(∩_∩)O~，货真价实的读卡器，包装很好~~~物流还不错，基本上都不错，没有什么问题\"\r\n\t            \t\tvar postID = item.postID; //: \"5688926f887c22054a8b45e3\"\r\n\t            \t\tvar postImg = item.postImg; //: \"/upload/post/5688bd6a887c22014a8b4692,/upload/post/5688bd68887c22024a8b46a0,/upload/post/5688bd61887c22054a8b45eb\"\r\n\t            \t\tvar postTime = item.postTime; //: \"2016-01-03 14:19:27\"\r\n\t            \t\tvar postTitle = item.postTitle; //: \"终于中奖啦123\"\r\n\t            \t\tvar reply_num = item.reply_num; //: \"0\"\r\n\t            \t\tvar userName = item.userName; //: \"15821****14\"\r\n\t            \t\tvar userPhoto = item.userPhoto; //: \"/upload/member/avatar/UserFace-160-0000.jpg\"\r\n\t            \t\tvar userSName = item.userSName; //: \"15821****14\"\r\n\t            \t\tvar userWeb = item.userWeb; //: \"56761153887c22184e8b45b5\"\r\n\t            \t\tvar vote_num = item.vote_num; // : \"0\"\r\n\r\n\t\t\t\t\t\t$(\".other-single dl\").append('<dd class=\"sig-xmjdh\">'\r\n\t\t\t\t\t\t\t+'<p><a href=\"detail.html\">'+postTitle+'</a></p>'\r\n                            +'<span class=\"sig-xmjdh\">'\r\n                                +'<a rel=\"nofollow\" href=\"/yungou/post/detail?id='+postID+'\" class=\"xianmu\"><i class=\"transparent-png\"></i>'+vote_num+'</a>'\r\n                                +'<a rel=\"nofollow\" href=\"/yungou/post/detail?id='+postID+'\" class=\"pinglun\"><i class=\"transparent-png\"></i>'+reply_num+'</a>'\r\n                            +'</span>'\r\n                        +'</dd>');\r\n\t\t\t\t\t});\r\n\t            }else{\r\n\r\n\t            }\r\n\t        })\r\n\t        .fail(function() {\r\n\r\n\t        })\r\n\t        .always(function() {\r\n\r\n\t        });\r\n\t    }\r\n\r\n\t    // 评论\r\n\t    window.wininsertpostreplyaFun = function(originalContent){\r\n\t    \tinsertpostreplyAjaxFun(postID,originalContent,'','',0,function(data){\r\n\t    \t\tif( data.success ){\r\n\t\t        \tajaxlack = true;\r\n\t\t        \tgetpostreplybyidFirstDataFun(1,8,postID);\r\n\t\t        \tFailDialog(160,60,'评论成功！');\r\n\t\t        }else{\r\n\t\t        \tFailDialog(160,60,'评论失败！');\r\n\t\t        }\r\n\t    \t});\r\n\t    }\r\n\r\n\t    function insertpostreplyAjaxFun(postid,originalContent,code,refReplyId,refFloor,Callback){\r\n\t\t\tif( !ajaxlack ) return; ajaxlack = false;\r\n\t\t\t$.ajax({\r\n\t\t        url: \"/post/service/insertpostreply\",\r\n\t\t        type: 'POST',\r\n\t\t        dataType: 'json',\r\n\t\t        data: { postid:postid, originalContent:originalContent, code:code, refReplyId:refReplyId, refFloor:refFloor  }\r\n\t\t    })\r\n\t\t    .done(function(data) {\r\n\t\t        console.log(data);\r\n\t\t        Callback(data);\r\n\t\t    })\r\n\t\t    .fail(function() {\r\n\t\t        alert('网络错误！')\r\n\t\t    })\r\n\t\t    .always(function() {\r\n\t\t    \tajaxlack = true;\r\n\t\t    });\r\n\t\t}\r\n\r\n\t\t// 评论回复\r\n\t    window.wininsertpostreplybFun = function(originalContent){\r\n\t    \tinsertpostreplyAjaxFun(postID,originalContent,'',replyID,floorID,function(data){\r\n\t    \t\tif( data.success ){\r\n\t\t        \tFailDialog(160,60,'评论成功！');\r\n\t\t        \tajaxlack = true;\r\n\t\t        \tgetpostreplyinfoFun();\r\n\t\t        }else{\r\n\t\t        \tFailDialog(160,60,'评论失败！');\r\n\t\t        }\r\n\t    \t});\r\n\t    }\r\n\r\n\r\n\r\n\r\n\r\n\t    // 评论列表\r\n        getpostreplybyidFirstDataFun(1,8,postID);\r\n\r\n\t\tfunction getpostreplybyidFirstDataFun(page,limit,postid){\r\n\t\t\tvar dataObj = {\r\n\t\t\t\tpage:page,\r\n\t\t\t\tlimit:limit,\r\n\t\t\t\tpostid:postid\r\n\t\t\t}\r\n\t\t\t// 数据加载 第一次\r\n\t\t\tgetpostreplybyidAjaxFun(dataObj,function(data){\r\n\t\t\t\tvar total = data.result.total;\r\n\t\t\t\tgetpostreplybyidAddDataFun(data);\r\n\t\t\t\t// 分页\r\n\t\t\t\tPageCreate('#g-pagination',total,limit,1,function(pageNumber){\r\n\t\t\t\t\tif( total!=null ){ total = null; return; }\r\n\t\t\t\t\tdataObj.page = pageNumber;\r\n\t\t\t\t\t// 翻页后数据加载\r\n\t\t\t\t\tgetpostreplybyidAjaxFun(dataObj,function(data){\r\n\t\t\t\t\t\tgetpostreplybyidAddDataFun(data);\r\n\t\t\t\t\t});\r\n\t\t\t    });\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\t// 数据插入\r\n\t\tfunction getpostreplybyidAddDataFun(data){\r\n\t\t\tif( data.success ){\r\n\t\t\t\tvar dataLi = '';\r\n\t\t    \t$.each(data.result.datas, function(i,item){\r\n\t\t    \t\t$(\"#em_ReplayCount\").html(data.result.total);\r\n\t\t    \t\tvar replyContent = item.replyContent;//: \"专业投-手，看上号码\"\r\n\t\t    \t\tvar replyCount = item.replyCount;//: \"0\"\r\n\t\t    \t\tvar replyID = item.replyID;//: \"1676004\"\r\n\t\t    \t\tvar replyTime = item.replyTime;//: \"5分钟前\"\r\n\t\t    \t\tvar replyUserName = item.replyUserName;//: \"1658538217\"\r\n\t\t    \t\tvar replyUserWeb = item.replyUserWeb;//: \"1012231163\"\r\n\t\t    \t\tvar userPhoto = item.userPhoto;//: \"20160103182127763.jpg\"\r\n\t\t    \t\tdataLi += '<li>'\r\n\t                    +'<div class=\"input-pic fl\">'\r\n\t                        +'<a replyUserWeb=\"'+replyUserWeb+'\" type=\"showCard\" href=\"/yungou/member/index?id='+replyUserWeb+'\" target=\"_blank\">'\r\n\t                            +'<img src=\"'+userPhoto+'\" alt=\"\">'\r\n\t                            +'<i class=\"transparent-png\"></i>'\r\n\t                        +'</a>'\r\n\t                    +'</div>'\r\n\t                    +'<div class=\"m-review fl\">'\r\n\t                        +'<dl>'\r\n\t                            +'<dt>'\r\n\t                                +'<a replyUserWeb=\"'+replyUserWeb+'\" type=\"showCard\" href=\"/yungou/member/index?id='+replyUserWeb+'\" target=\"_blank\">'+replyUserName+'</a>'+replyTime+'<em></em>'\r\n\t                            +'</dt>'\r\n\t                            +'<dd>'\r\n\t                                +'<span class=\"gray3\">'+replyContent+'</span>'\r\n\t                                +'<cite>'\r\n\t                                    +'<a href=\"javascript:;\" class=\"posthfbtn\" name=\"SignReplay\" replyID=\"'+replyID+'\">回复<em>'+( replyCount!=\"0\" ? \"(\"+replyCount+\")\" : \"\" )+'</em></a>'\r\n\t                                +'</cite>'\r\n\t                            +'</dd>'\r\n\t                        +'</dl>'\r\n\t                        +'<div name=\"ReplyBox\" class=\"reply-comment clrfix\" style=\"display:none;\">'\r\n\t                            +'<div name=\"ReplyForm\" class=\"replyform\"></div>'\r\n\t                            +'<div name=\"ReplyList\" class=\"comment-main clrfix replylist\" style=\"display:block;\"></div>'\r\n\t                       +'</div>'\r\n\t                   +' </div>'\r\n\t                +'</li>';\r\n\t\t    \t});\r\n\t\t\t\tif( dataLi=='' ){\r\n\t\t\t\t\t$(\"#g-pagination\").hide();\r\n\t\t\t\t\t$(\"#commentList li\").remove();\r\n\t\t\t\t\t$(\".null-data\").html('<div class=\"null-data\"><b class=\"gth-icon transparent-png\"></b>暂无记录！</div>');\r\n\t\t\t\t}else{\r\n\t\t\t\t\t$(\"#g-pagination\").show();\r\n\t\t\t\t\t$(\".null-data, #div_UserBuyList li\").remove();\r\n\t\t\t\t\t$(\"#commentList ul\").html(dataLi);\r\n\t\t\t\t}\r\n\t\t    }else{\r\n\r\n\t\t    }\r\n\t\t}\r\n\r\n\t\t//函数\r\n\t\tfunction getpostreplybyidAjaxFun(dataObj,Callback){\r\n\t\t\tif( !ajaxlack ) return; ajaxlack = false;\r\n\t\t\t$.ajax({\r\n\t\t        url: \"/post/service/getpostreplybyid\",\r\n\t\t        type: 'POST',\r\n\t\t        dataType: 'json',\r\n\t\t        data: dataObj\r\n\t\t    })\r\n\t\t    .done(function(data) {\r\n\t\t        console.log(data);\r\n\t\t        Callback(data);\r\n\t\t    })\r\n\t\t    .fail(function() {\r\n\t\t        //alert('网络错误！')\r\n\t\t    })\r\n\t\t    .always(function() {\r\n\t\t    \tajaxlack = true;\r\n\t\t    });\r\n\t\t}\r\n\r\n\t\t// 回复\r\n\t\t$(document).on(\"click\",'.posthfbtn',function(){\r\n\t\t\tvar parentsLi = $(this).parents(\"li\");\r\n\t\t\treplyID = $(this).attr('replyID');\r\n\t\t\treplyinfoId = replyID;\r\n\t\t\t$(\".from-to-close\").remove();\r\n\t\t\tif( parentsLi.find(\".reply-comment\").is(\":hidden\") ){ \r\n\t\t\t\t$(\"#commentList .reply-comment\").hide();\r\n\t\t\t}\r\n\t\t\tparentsLi.find(\".reply-comment\").toggle();\r\n\t\t\tif( logoTrue ){\r\n\t\t\t\tgetpostreplyinfoFun();\r\n\t\t\t\tparentsLi.find(\".replyform\").html('<div name=\"InputBox\" class=\"input-comment clrfix\">'\r\n\t\t\t\t    +'<div name=\"userFace\" class=\"input-pic fl\">'\r\n\t\t\t\t        +'<a target=\"_blank\" href=\"/yungou/member/index?id='+myuserWeb+'\">'\r\n\t\t\t\t            +'<img name=\"imgUserPhoto\" src=\"'+myuserPhoto+'\" alt=\"\"><i class=\"transparent-png\"></i>'\r\n\t\t\t\t        +'</a>'\r\n\t\t\t\t    +'</div>'\r\n\t\t\t\t    +'<div class=\"input-box fl\">'\r\n\t\t\t\t        +'<div class=\"textCon\">'\r\n\t\t\t\t            +'<iframe hidefocus=\"true\" name=\"myFrame\" frameborder=\"0\" scrolling=\"no\" src=\"/yungou/message.html?page=postdetailb\" style=\"width:486px; height: 155px;cursor:text;\"></iframe>'\r\n\t\t\t\t        +'</div>'\r\n\t\t\t\t    +'</div>'\r\n\t\t\t\t+'</div>');\r\n\t\t\t}else{\r\n\t\t\t\tparentsLi.find(\".replyform\").html('<div class=\"not-login clrfix\">'\r\n\t\t\t\t    +'<div name=\"userFace\" class=\"input-pic fl\">'\r\n\t\t\t\t        +'<img name=\"imgUserPhoto\" src=\"'+myuserPhoto+'\" alt=\"\">'\r\n\t\t\t\t        +'<i class=\"transparent-png\"></i>'\r\n\t\t\t\t    +'</div>'\r\n\t\t\t\t    +'<div class=\"point-box fl gray6\">'\r\n\t\t\t\t        +'请您<a href=\"javascript:;\" name=\"replyLoginBtn\" class=\"tan_login\">登录</a>或'\r\n\t\t\t\t        +'<a href=\"/member/passport/register\">注册</a>后再评论<b><s></s></b>'\r\n\t\t\t\t    +'</div>'\r\n\t\t\t\t+'</div>');\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t\t// 回复收起\r\n\t\t$(document).on(\"click\",\".put-away\",function(){\r\n\t\t\t$(\".reply-comment\").hide();\r\n\t\t});\r\n\r\n\t\t// 获取回复函数\r\n\t\tfunction getpostreplyinfoFun(){\r\n\t\t\t$.ajax({\r\n\t            url: \"/post/service/getpostreplyinfo\",\r\n\t            type: 'POST',\r\n\t            dataType: 'json',\r\n\t            data: { replyId:replyinfoId }\r\n\t        })\r\n\t        .done(function(data) {\r\n\t            console.log(data);\r\n\t            if( data.success ){\r\n\t\t\t\t\tvar dataLi = '';\r\n\t\t\t\t\t$.each(data.result.datas, function(i,item){\r\n\t\t\t    \t\tvar floorID = item.floorID;//: 1\r\n\t\t\t\t\t\tvar isDel = item.isDel;//: 1\r\n\t\t\t\t\t\tvar replyContent = item.replyContent;//: \"[s:13]\"\r\n\t\t\t\t\t\tvar replyID = item.replyID;//: 1692901\r\n\t\t\t\t\t\tvar replyRefFloor = item.replyRefFloor;//: 0\r\n\t\t\t\t\t\tvar replyTime = item.replyTime;//: \"1分钟前\"\r\n\t\t\t\t\t\tvar replyUserID = item.replyUserID;//: 9533390\r\n\t\t\t\t\t\tvar replyUserName = item.replyUserName;//: \"中个奖有这么困难嘛\"\r\n\t\t\t\t\t\tvar replyUserWeb = item.replyUserWeb;//: \"1010029819\"\r\n\t\t\t\t\t\tvar userPhoto = item.userPhoto;//: \"20151212152923647.jpg\"\r\n\t\t\t    \t\tdataLi += '<li class=\"liClass\">'\r\n\t\t\t\t\t\t        +'<div class=\"input-pic fl\">'\r\n\t\t\t\t\t\t            +'<a uweb=\"'+replyUserWeb+'\" type=\"showCard\" rel=\"nofollow\" href=\"/yungou/member/index?id='+replyUserWeb+'\" target=\"_blank\">'\r\n\t\t\t\t\t\t                +'<img src=\"'+userPhoto+'\" alt=\"\"><i class=\"transparent-png\"></i>'\r\n\t\t\t\t\t\t            +'</a>'\r\n\t\t\t\t\t\t        +'</div>'\r\n\t\t\t\t\t\t        +'<div class=\"m-review fl\">'\r\n\t\t\t\t\t\t            +'<dl>'\r\n\t\t\t\t\t\t                +'<dt>'\r\n\t\t\t\t\t\t                    +'<a replyUserWeb=\"'+replyUserWeb+'\" type=\"showCard\" href=\"/yungou/member/index?id='+replyUserWeb+'\" target=\"_blank\">'+replyUserName+'</a>'\r\n\t\t\t\t\t\t                    +( replyRefFloor!=\"0\" ? '<i class=\"f-tran-prev\">回复 '+replyRefFloor+'楼</i>' : \"\" )\r\n\t\t\t\t\t\t                    +'<i class=\"f-tran-prev\"></i>'+replyTime+'<em>'+floorID+'楼</em>'\r\n\t\t\t\t\t\t                +'</dt>'\r\n\t\t\t\t\t\t                +'<dd>'\r\n\t\t\t\t\t\t                    +'<span class=\"gray3\">'+replyContent+'</span>'+\r\n\t\t\t\t\t\t                    ( isDel==true ? '<cite><a href=\"javascript:;\" name=\"signDelete\" class=\"signDelete\" replayid=\"'+replyID+'\">删除</a></cite>' : '<cite><a href=\"javascript:;\" name=\"signReply\" class=\"signReply\" floorID=\"'+floorID+'\" replayid=\"'+replyID+'\">回复</a>' )\r\n\t\t\t\t\t\t                +'</dd>'\r\n\t\t\t\t\t\t            +'</dl>'\r\n\t\t\t\t\t\t        +'</div>'\r\n\t\t\t\t\t\t    +'</li>';\r\n\t\t\t    \t});\r\n\t\t\t\t\t\r\n\t\t\t\t\tif( dataLi=='' ){\r\n\t\t\t\t\t\t$(\".replylist\").html(\"\");\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\t$(\".replylist\").html('<ul>'+dataLi+'<div class=\"put-away\"><a href=\"javascript:;\">收起<b></b></a></div></ul>');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t        })\r\n\t        .fail(function() {\r\n\r\n\t        })\r\n\t        .always(function() {\r\n\r\n\t        });\r\n\t\t}\r\n\r\n\t\t// 删除评论回复\r\n\t\tfunction deletepostreplyFun(replyId,Callback){\r\n\t\t\t$.ajax({\r\n\t            url: \"/post/service/deletepostreply\",\r\n\t            type: 'POST',\r\n\t            dataType: 'json',\r\n\t            data: { replyId:replyId }\r\n\t        })\r\n\t        .done(function(data) {\r\n\t            console.log(data);\r\n\t            Callback(data);\r\n\t        })\r\n\t        .fail(function() {\r\n\r\n\t        })\r\n\t        .always(function() {\r\n\r\n\t        });\r\n\t\t}\r\n\r\n\r\n\r\n\t    // 其他获得者\r\n\t    var codeID = $(\"#dl_otherget\").attr(\"codeID\");\r\n\t    var pageNum = 1;\r\n\t    var pagetotal = 0;\r\n\r\n\t    $(\"#otherleft\").on(\"click\",function(){\r\n\t    \tif( pageNum<=1 ){\r\n\t    \t\t$(\"#otherleft\").addClass(\"other-left-none\");\r\n\t    \t\treturn;\r\n\t    \t}else{\r\n\t    \t\t$(\"#otherright\").removeClass(\"other-left-none\");\r\n\t    \t}\r\n\t    \tpageNum--;\r\n\t    \tgetpostoldperiodlistAjaxFun(pageNum,5,codeID);\r\n\t    });\r\n\r\n\t    $(\"#otherright\").on(\"click\",function(){\r\n\t    \tif( pageNum>=pagetotal ){\r\n\t    \t\t$(\"#otherright\").addClass(\"other-left-none\");\r\n\t    \t\treturn;\r\n\t    \t}else{\r\n\t    \t\t$(\"#otherleft\").removeClass(\"other-left-none\");\r\n\t    \t}\r\n\t    \tpageNum++;\r\n\t    \tgetpostoldperiodlistAjaxFun(pageNum,5,codeID);\r\n\t    });\r\n\r\n\t\tgetpostoldperiodlistAjaxFun(pageNum,5,codeID);\r\n\t\tfunction getpostoldperiodlistAjaxFun(page,limit,codeID){\r\n\t        $.ajax({\r\n\t            url: \"/post/service/getpostoldperiodlist\",\r\n\t            type: 'POST',\r\n\t            dataType: 'json',\r\n\t            data: { page:page, limit:limit, codeID:codeID }\r\n\t        })\r\n\t        .done(function(data) {\r\n\t            console.log(data);\r\n\t            if( data.success ){\r\n\t            \t$(\"#dl_otherget dd\").remove();\r\n\t            \tpagetotal = parseInt(data.result.total/5)+1;\r\n\t            \tif( pagetotal<=1 ){\r\n\t            \t\t$(\"#otherleft, #otherright\").addClass(\"other-left-none\");\r\n\t            \t}\r\n\t            \t$.each(data.result.datas, function(i,item){\r\n\t            \t\tvar codePeriod = item.codePeriod;//: \"2\"\r\n\t            \t\tvar postContent = item.postContent.substr(0,42)+\"...\"; //: \"嗯呵呵O(∩_∩)O~，货真价实的读卡器，包装很好~~~物流还不错...\"\r\n\t\t\t\t\t\tvar postID = item.postID; //: \"5688926f887c22054a8b45e3\"\r\n\t\t\t\t\t\tvar postImg = item.postImg.split(','); //: \"/upload/post/5688bd6a887c22014a8b4692,/upload/post/5688bd68887c22024a8b46a0,/upload/post/5688bd61887c22054a8b45eb\"\r\n\t\t\t\t\t\tvar postTime = item.postTime; //: \"2016-01-03 14:19:27\"\r\n\t\t\t\t\t\tvar postTitle = item.postTitle; //: \"终于中奖啦123\"\r\n\t\t\t\t\t\tvar userName = item.userName; //: \"15821****14\"\r\n\t\t\t\t\t\tvar userPhoto = item.userPhoto; //: \"/upload/member/avatar/UserFace-160-0000.jpg\"\r\n\t\t\t\t\t\tvar userWeb = item.userWeb; //: \"56761153887c22184e8b45b5\"\r\n\t\t\t\t\t\t$(\"#dl_otherget\").append('<dd><cite class=\"fl\"><a href=\"/yungou/member/index?id='+userWeb+'\" target=\"_blank\"><img src=\"'+userPhoto+'\"><s class=\"transparent-png\"></s></a></cite><span class=\"fl\"><p><em class=\"f-tran-prev\"><a href=\"/yungou/member/index?id='+userWeb+'\" target=\"_blank\">'+userName+'</a></em>获得了第'+codePeriod+'期</p><a href=\"/yungou/post/detail?id='+postID+'\" class=\"link-btn see-btn\">查看晒单</a></span></dd>');\r\n\t\t\t\t\t});\r\n\t            }else{\r\n\r\n\t            }\r\n\t        })\r\n\t        .fail(function() {\r\n\r\n\t        })\r\n\t        .always(function() {\r\n\r\n\t        });\r\n\t    }\r\n\r\n\t    // 最新晒单\r\n\t\tgetrecpostlistAjaxFun();\r\n\t\tfunction getrecpostlistAjaxFun(){\r\n\t        $.ajax({\r\n\t            url: \"/post/service/getrecpostlist\",\r\n\t            type: 'POST',\r\n\t            dataType: 'json',\r\n\t            data: { }\r\n\t        })\r\n\t        .done(function(data) {\r\n\t            console.log(data);\r\n\t            if( data.success ){\r\n\t            \t$.each(data.result.datas, function(i,item){\r\n\t            \t\tvar postContent = item.postContent.substr(0,42)+\"...\"; //: \"嗯呵呵O(∩_∩)O~，货真价实的读卡器，包装很好~~~物流还不错...\"\r\n\t\t\t\t\t\tvar postID = item.postID; //: \"5688926f887c22054a8b45e3\"\r\n\t\t\t\t\t\tvar postImg = item.postImg.split(','); //: \"/upload/post/5688bd6a887c22014a8b4692,/upload/post/5688bd68887c22024a8b46a0,/upload/post/5688bd61887c22054a8b45eb\"\r\n\t\t\t\t\t\tvar postTime = item.postTime; //: \"2016-01-03 14:19:27\"\r\n\t\t\t\t\t\tvar postTitle = item.postTitle; //: \"终于中奖啦123\"\r\n\t\t\t\t\t\tvar userName = item.userName; //: \"15821****14\"\r\n\t\t\t\t\t\tvar userPhoto = item.userPhoto; //: \"/upload/member/avatar/UserFace-160-0000.jpg\"\r\n\t\t\t\t\t\tvar userWeb = item.userWeb; //: \"56761153887c22184e8b45b5\"\r\n\t\t\t\t\t\t$(\".new-single ul\").append('<li>'\r\n                            +'<cite><i></i><em><a href=\"javascript:;\" title=\"'+postTitle+'\">'+postTitle+'</a></em></cite>'\r\n                            +'<a rel=\"nofollow\" href=\"/yungou/post/detail?id='+postID+'\"><span class=\"gray9\">'+postContent+'</span></a>'\r\n                            +'<p>'\r\n                                +'<a rel=\"nofollow\" href=\"/yungou/post/detail?id='+postID+'\"><img src=\"'+postImg[0]+'\" border=\"0\" alt=\"\"></a>'\r\n                                +'<a rel=\"nofollow\" href=\"/yungou/post/detail?id='+postID+'\"><img src=\"'+postImg[1]+'\" border=\"0\" alt=\"\"></a>'\r\n                                +'<a rel=\"nofollow\" href=\"/yungou/post/detail?id='+postID+'\"><img src=\"'+postImg[2]+'\" border=\"0\" alt=\"\"></a>'\r\n                            +'</p>'\r\n                        +'</li>');\r\n\t\t\t\t\t});\r\n\t            }else{\r\n\r\n\t            }\r\n\t        })\r\n\t        .fail(function() {\r\n\r\n\t        })\r\n\t        .always(function() {\r\n\r\n\t        });\r\n\t    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\t}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n})"},{"id":0,"identifier":"D:\\云购\\public\\js\\app\\news.main.js","name":"./js/app/news.main.js","index":30,"index2":30,"size":85,"cacheable":true,"built":false,"optional":false,"prefetched":false,"chunks":[8],"assets":[],"issuer":null,"failed":false,"errors":0,"warnings":0,"reasons":[],"source":"require(\"../libs/jquery.lazyload\");\r\nrequire(\"./public\");\r\nrequire(\"./bottomFun\");\r\n "},{"id":0,"identifier":"D:\\云购\\public\\js\\app\\message.main.js","name":"./js/app/message.main.js","index":28,"index2":29,"size":3656,"cacheable":true,"built":false,"optional":false,"prefetched":false,"chunks":[7],"assets":[],"issuer":null,"failed":false,"errors":0,"warnings":0,"reasons":[],"source":"require(\"../libs/query\");\r\nrequire(\"../libs/jquery.qqFace\");\r\nrequire(\"./public\");\r\n$(function(){\r\n\tvar pageGet = $.query.get(\"page\");\r\n\tvar forward = $.query.get(\"forward\");\r\n\tvar $btnSubmitMsg = $(\"#btnSubmitMsg\");\r\n\tvar $saytext = $(\"#saytext\");\r\n\t// 好友私信\r\n\tif( pageGet=='friend'||pageGet=='userprivmsgdetail' ){\r\n\t\tvar msgToUID = $.query.get(\"msgToUID\");\r\n\t\t$btnSubmitMsg.on('click',function(){\r\n\t\t\tif( $(this).hasClass(\"disBtn\") ) return;\r\n\t        var str = $(\"#saytext\").val();\r\n\t        insertuserprivatemsgAjaxFun(msgToUID,replace_em(str),function(data){\r\n\t        \tif( data.success ){\r\n\t\t\t\t\tif( pageGet=='friend' ){\r\n\t\t\t\t\t\tparent.window.friendMessageFun();\r\n\t\t\t\t\t}else if( pageGet=='userprivmsgdetail' ){\r\n\t\t\t\t\t\tparent.window.userprivmsgdetailMessageFun();\r\n\t\t\t\t\t}\r\n\t\t\t\t}else{\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t        });\r\n\t    });\r\n\r\n\t    // 私信好友\r\n\t\tfunction insertuserprivatemsgAjaxFun(msgToUID,msgContent,Callback){\r\n\t\t\tif( !ajaxlack ) return; ajaxlack = false;\r\n\t\t\t$.ajax({\r\n\t\t        url: \"/message/service/insertuserprivatemsg\",\r\n\t\t        type: 'POST',\r\n\t\t        dataType: 'json',\r\n\t\t        data: { msgToUID:msgToUID, msgContent:encodeURIComponent(msgContent) }\r\n\t\t    })\r\n\t\t    .done(function(data) {\r\n\t\t        console.log(data);\r\n\t\t        Callback(data);\r\n\t\t    })\r\n\t\t    .fail(function() {\r\n\t\t        alert('网络错误！')\r\n\t\t    })\r\n\t\t    .always(function() {\r\n\t\t    \tajaxlack = true;\r\n\t\t    });\r\n\t\t}\r\n\t}\r\n\r\n\t// 晒单回复\r\n\tif( pageGet==\"postdetaila\" ){\r\n\r\n\t\t$btnSubmitMsg.on('click',function(){\r\n\t\t\tif( $(this).hasClass(\"disBtn\") ) return;\r\n\t        var str = replace_em($(\"#saytext\").val());\r\n\t        parent.window.wininsertpostreplyaFun(encodeURIComponent(str));\r\n\t    });  \r\n\t}\r\n\r\n\t// 晒单回复回复\r\n\tif( pageGet==\"postdetailb\" ){\r\n\r\n\t\t$btnSubmitMsg.on('click',function(){\r\n\t\t\tif( $(this).hasClass(\"disBtn\") ) return;\r\n\t        var str = replace_em($(\"#saytext\").val());\r\n\t        parent.window.wininsertpostreplybFun(encodeURIComponent(str));\r\n\t    });  \r\n\t}\r\n\r\n\r\n\t// 个人主页发私信\r\n\tif( pageGet==\"uMy\" ){\r\n\t\tvar msgTouserWeb = $.query.get(\"msgTouserWeb\");\r\n\t\t$btnSubmitMsg.on('click',function(){\r\n\t\t\tif( $(this).hasClass(\"disBtn\") ) return;\r\n\t        var str = $(\"#saytext\").val();\r\n\t        insertmsgAjaxFun(msgTouserWeb,replace_em(str),function(data){\r\n\t        \tif( data.success ){\r\n\t\t\t\t\tparent.window.insertmsgFun();\r\n\t\t\t\t}else{\r\n\t\t\t\t\tFailDialog(180,60,'发送失败！');\r\n\t\t\t\t}\r\n\t        });\r\n\t    });   \r\n\r\n\t    // 私信好友\r\n\t\tfunction insertmsgAjaxFun(msgTouserWeb,msgContent,Callback){\r\n\t\t\tif( !ajaxlack ) return; ajaxlack = false;\r\n\t\t\t$.ajax({\r\n\t\t        url: \"/message/service/insertuserprivatemsg\",\r\n\t\t        type: 'POST',\r\n\t\t        dataType: 'json',\r\n\t\t        data: { msgTouserWeb:msgTouserWeb, msgContent:encodeURIComponent(msgContent) }\r\n\t\t    })\r\n\t\t    .done(function(data) {\r\n\t\t        console.log(data);\r\n\t\t        Callback(data);\r\n\t\t    })\r\n\t\t    .fail(function() {\r\n\t\t        alert('网络错误！')\r\n\t\t    })\r\n\t\t    .always(function() {\r\n\t\t    \tajaxlack = true;\r\n\t\t    });\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t$saytext.on(\"blur input keydown\", function() {\r\n\t\tif( $(this).val()!=''||$(this).val().length>2 ){\r\n\t\t\t$btnSubmitMsg.removeClass('disBtn');\r\n\t\t}else{\r\n\t\t\t$btnSubmitMsg.addClass('disBtn');\r\n\t\t}\t\r\n\t});\r\n\r\n\r\n\r\n\t$('.emotion').qqFace({\r\n\t    id : 'facebox', \r\n\t    assign:'saytext', \r\n\t    path:'/qqFace/arclist/' //表情存放的路径\r\n\t});\r\n\t//查看结果\r\n\tfunction replace_em(str){\r\n\t    str = str.replace(/\\</g,'&lt;');\r\n\t    str = str.replace(/\\>/g,'&gt;');\r\n\t    str = str.replace(/\\n/g,'<br/>');\r\n\t    str = str.replace(/\\[em_([0-9]*)\\]/g,'<img src=\"/qqFace/arclist/$1.gif\" border=\"0\" />');\r\n\t    return str;\r\n\t}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n});"},{"id":0,"identifier":"D:\\云购\\public\\js\\app\\memberindex.main.js","name":"./js/app/memberindex.main.js","index":20,"index2":27,"size":118890,"cacheable":true,"built":false,"optional":false,"prefetched":false,"chunks":[6],"assets":[],"issuer":null,"failed":false,"errors":0,"warnings":0,"reasons":[],"source":"require(\"../libs/query\");\r\nrequire(\"../libs/jquery-form\");\r\nrequire(\"../libs/jquery.Jcrop\");\r\nrequire(\"../libs/pagination-min\");\r\nrequire(\"../libs/bootstrap-datepicker\");\r\nrequire(\"./cartAjax\");\r\nrequire(\"./public\");\r\nrequire(\"./bottomFun\");\r\nrequire(\"./postsingle\");\r\nrequire(\"./memberPublic\");\r\nrequire(\"./address\");\r\nrequire(\"./userphoto\");\r\n$(function(){\r\n\r\n// 日历JS\r\nif( pageTrue==\"orderlist\"||pageTrue==\"userbuylist\"||pageTrue==\"userbalance\"||pageTrue==\"memberpoints\" ){\r\n\tvar checkin = $('#dpd1').datepicker({\r\n        format: 'yyyy-mm-dd'\r\n    }).on('changeDate', function(ev) {\r\n        checkin.hide();\r\n    }).data('datepicker');\r\n\r\n    var checkout = $('#dpd2').datepicker({\r\n        format: 'yyyy-mm-dd'\r\n    }).on('changeDate', function(ev) {\r\n        checkout.hide();\r\n    }).data('datepicker');\r\n}\r\n\r\n// 消息管理\r\nif( pageTrue==\"usermessage\"||pageTrue==\"friendsapply\"||pageTrue==\"replycommentsmsg\"||pageTrue==\"userprivmsg\" ){\r\n\tgetusermsgcountAjaxFun();\r\n\tfunction getusermsgcountAjaxFun(){\r\n\t\t$.ajax({\r\n\t        url: \"/message/service/getusermsgcount\",\r\n\t        type: 'POST',\r\n\t        dataType: 'json'\r\n\t    })\r\n\t    .done(function(data) {\r\n\t        console.log(data);\r\n\t        if( data.success ){\r\n\t        \tvar $ulMenuLi = $(\"#ul_menu li\");\r\n\t        \tvar FriendCount = data.result.FriendCount;\r\n\t        \tvar privMsgCount = data.result.privMsgCount;\r\n\t        \tvar replyMsgCount = data.result.replyMsgCount;\r\n\t        \tvar sysMsgCount = data.result.sysMsgCount;\r\n\t        \t$ulMenuLi.find(\"span\").remove();\r\n\t        \tif( FriendCount>0 ){ //好友\r\n\t        \t\t$ulMenuLi.eq(1).append('<span>'+FriendCount+'</span>');\r\n\t        \t}\r\n\t        \tif( privMsgCount>0 ){ //私信\r\n\t        \t\t$ulMenuLi.eq(3).append('<span>'+privMsgCount+'</span>');\r\n\t        \t}\r\n\t        \tif( replyMsgCount>0 ){ //评论回复\r\n\t        \t\t$ulMenuLi.eq(2).append('<span>'+replyMsgCount+'</span>');\r\n\t        \t}\r\n\t        \tif( sysMsgCount>0 ){ //系统\r\n\t        \t\t$ulMenuLi.eq(0).append('<span>'+sysMsgCount+'</span>');\r\n\t        \t}\r\n\t        }\r\n\t    })\r\n\t    .fail(function() {\r\n\t        //alert('网络错误！')\r\n\t    })\r\n\t    .always(function() {\r\n\r\n\t    });\r\n\t}\r\n}\r\n\r\n/**--------------------------------------系统消息------------------------------------**/\r\nif( pageTrue==\"usermessage\" ){\r\n\r\n\tgetusermessagelistFirstDataFun(1,5);\r\n\r\n\tfunction getusermessagelistFirstDataFun(page,limit){\r\n\t\t$(\"#ul_sysmsg\").html('<div class=\"loading-2015\"><em></em></div>');\r\n\t\tvar dataObj = {\r\n\t\t\tpage:page,\r\n\t\t\tlimit:limit\r\n\t\t}\r\n\t\t// 数据加载 第一次\r\n\t\tgetusermessagelistAjaxFun(dataObj,function(data){\r\n\t\t\tvar total = data.result.total;\r\n\t\t\tgetusermessagelistAddDataFun(data);\r\n\t\t\t// 分页\r\n\t\t\tPageCreate('#div_pagination',total,limit,1,function(pageNumber){\r\n\t\t\t\tif( total!=null ){ total = null; return; }\r\n\t\t\t\tdataObj.page = pageNumber;\r\n\t\t\t\t// 翻页后数据加载\r\n\t\t\t\t$(\"#ul_sysmsg\").html('<div class=\"loading-2015\"><em></em></div>');\r\n\t\t\t\tgetusermessagelistAjaxFun(dataObj,function(data){\r\n\t\t\t\t\tgetusermessagelistAddDataFun(data);\r\n\t\t\t\t});\r\n\t\t    });\r\n\t\t});\r\n\t}\r\n\r\n\t// 数据插入\r\n\tfunction getusermessagelistAddDataFun(data){\r\n\t\tif( data.success ){\r\n\t\t\tvar dataLi = '';\r\n\t    \t$.each(data.result.datas, function(i,item){\r\n\t    \t\tvar msgContent = item.msgContent;//: \"<a href=\"http://u.1yyg.com/1001851285\" class=\"blue\" target=\"_blank\">职业代买扣54387756</a> 已通过您的好友请求。\"\r\n\t\t\t\tvar msgID = item.msgID;//: 4511375\r\n\t\t\t\tvar msgRead = item.msgRead;//: 1\r\n\t\t\t\tvar showTime = item.showTime;//: \"2015-12-30 15:51\"\r\n\t    \t\tdataLi += '<li><span class=\"u-info\">'+msgContent+'</span><span class=\"u-time\">'+showTime+'</span>'\r\n\t\t\t        +'<a class=\"close-icon\" href=\"javascript:;\" msgid=\"'+msgID+'\"><i class=\"transparent-png\"></i></a>'\r\n\t\t\t        +'</li>';\r\n\t    \t});\r\n\t\t\tif( dataLi=='' ){\r\n\t\t\t\t$(\".fri-page-wrap\").hide();\r\n\t\t\t\t$(\"#div_pagination\").html('');\r\n\t\t\t\t$(\"#ul_sysmsg\").html('<div class=\"null-retips-wrapper\"><div class=\"gth-icon transparent-png\"></div><span>您还没有系统消息哦！</span></div>');\r\n\t\t\t}else{\r\n\t\t\t\t$(\".fri-page-wrap\").show();\r\n\t\t\t\t$(\"#ul_sysmsg\").html(dataLi);\r\n\t\t\t}\r\n\t    }else{\r\n\r\n\t    }\r\n\t}\r\n\r\n\t//函数\r\n\tfunction getusermessagelistAjaxFun(dataObj,Callback){\r\n\t\tif( !ajaxlack ) return; ajaxlack = false;\r\n\t\t$.ajax({\r\n\t        url: \"/message/service/getusermessagelist\",\r\n\t        type: 'POST',\r\n\t        dataType: 'json',\r\n\t        data: dataObj\r\n\t    })\r\n\t    .done(function(data) {\r\n\t        console.log(data);\r\n\t        Callback(data);\r\n\t    })\r\n\t    .fail(function() {\r\n\t        //alert('网络错误！')\r\n\t    })\r\n\t    .always(function() {\r\n\t    \tajaxlack = true;\r\n\t    });\r\n\t}\r\n\r\n\t$(document).on(\"click\",'.close-icon',function(){\r\n\t\tvar msgid = $(this).attr(\"msgid\");\r\n\t\t$(this).parents(\"ul\").find(\"li\").removeClass(\"removeClass\");\r\n    \t$(this).parents(\"li\").addClass(\"removeClass\");\r\n    \ttanFun(282,150,'<div class=\"z-pop-box clrfix\"><span class=\"gray3\">您确定要删除吗？</span><a id=\"btn01\" href=\"javascript:gotoClick();\" title=\"取消\" class=\"z-btn-cancel\">取消</a><a id=\"btn02\" href=\"javascript:;\" title=\"确定\" class=\"z-btn-determine\" msgid=\"'+msgid+'\">确定</a></div>');\r\n\t});\r\n\r\n\t// 确认删除回复消息\r\n    $(document).on(\"click\",\"#btn02\",function(){\r\n    \tvar msgid = $(this).attr(\"msgid\");\r\n    \tdeleteusermessageFun(msgid,function(data){\r\n    \t\tif( data.success ){\r\n    \t\t\tFailDialog(160,60,'删除成功！');\r\n    \t\t\t$(\".removeClass\").remove();\r\n    \t\t\tgotoClick();\r\n    \t\t\tajaxlack = true; \r\n    \t\t\tif( $(\"#ul_sysmsg li\").length<=0 ){\r\n    \t\t\t\t$(\".fri-page-wrap\").hide();\r\n    \t\t\t\t$(\"#ul_sysmsg\").html('<div class=\"null-retips-wrapper\"><div class=\"gth-icon transparent-png\"></div><span>您还没有系统消息哦！</span></div>');\r\n    \t\t\t}\r\n    \t\t}\r\n    \t});\r\n    });\r\n\r\n    // 清空所有\r\n    $(document).on(\"click\",\"#a_clear\",function(){\r\n    \tdeleteusermessageFun('',function(data){\r\n    \t\tif( data.success ){\r\n    \t\t\tFailDialog(160,60,'清空成功！',url);\r\n    \t\t}\r\n    \t});\r\n    });\r\n\r\n\t// 删除系统消息\r\n\tfunction deleteusermessageFun(msgID,Callback){\r\n\t\t$.ajax({\r\n\t        url: \"/message/service/deleteusermessage\", \r\n\t        type: 'POST',\r\n\t        dataType: 'json',\r\n\t        data: { msgID:msgID }\r\n\t    })\r\n\t    .done(function(data) {\r\n\t        console.log(data);\r\n\t        Callback(data);\r\n\t    })\r\n\t    .fail(function() {\r\n\t        //alert('网络错误！')\r\n\t    })\r\n\t    .always(function() {\r\n\r\n\t    });\r\n\t}\r\n}\r\n/**--------------------------------------系统消息结束------------------------------------**/\r\n\r\n/**--------------------------------------评论回复消息------------------------------------**/\r\nif( pageTrue==\"replycommentsmsg\" ){\r\n\r\n\r\n\tgetreplymsgpagebyuseridFirstDataFun(1,5);\r\n\r\n\tfunction getreplymsgpagebyuseridFirstDataFun(page,limit){\r\n\t\t$(\"#ul_msglist\").html('<div class=\"loading-2015\"><em></em></div>');\r\n\t\tvar dataObj = {\r\n\t\t\tpage:page,\r\n\t\t\tlimit:limit\r\n\t\t}\r\n\t\t// 数据加载 第一次\r\n\t\tgetreplymsgpagebyuseridAjaxFun(dataObj,function(data){\r\n\t\t\tvar total = data.result.total;\r\n\t\t\tgetreplymsgpagebyuseridAddDataFun(data);\r\n\t\t\t// 分页\r\n\t\t\tPageCreate('#div_pagination',total,limit,1,function(pageNumber){\r\n\t\t\t\tif( total!=null ){ total = null; return; }\r\n\t\t\t\tdataObj.page = pageNumber;\r\n\t\t\t\t// 翻页后数据加载\r\n\t\t\t\t$(\"#ul_msglist\").html('<div class=\"loading-2015\"><em></em></div>');\r\n\t\t\t\tgetreplymsgpagebyuseridAjaxFun(dataObj,function(data){\r\n\t\t\t\t\tgetreplymsgpagebyuseridAddDataFun(data);\r\n\t\t\t\t});\r\n\t\t    });\r\n\t\t});\r\n\t}\r\n\r\n\t// 数据插入\r\n\tfunction getreplymsgpagebyuseridAddDataFun(data){\r\n\t\tif( data.success ){\r\n\t\t\tvar dataLi = '';\r\n\t    \t$.each(data.result.datas, function(i,item){\r\n\t    \t\tvar heContent = item.heContent;// \"[s:13]\"\r\n\t\t\t\t\tvar msgID = item.msgID;// : 250143\r\n\t\t\t\t\tvar msgType = item.msgType;// : \"1\"\r\n\t\t\t\t\tvar relateID = item.relateID;// : \"133109\"\r\n\t\t\t\t\tvar replyTime = item.replyTime;// : \"01月04日 10:42\"\r\n\t\t\t\t\tvar replyUserID = item.replyUserID;// : \"9533390\"\r\n\t\t\t\t\tvar userName = item.userName;// : \"中个奖有这么困难嘛\"\r\n\t\t\t\t\tvar userWeb = item.userWeb;// : \"1010029819\"\r\n\t\t\t\t\tvar youContent = item.youContent;// : \"[s:13]\"\r\n\t\t    \t\tdataLi += '<li>'\r\n\t\t                +'<a target=\"_blank\" href=\"/yungou/member/index?id='+userWeb+'\" class=\"u-name\">'+userName+'</a>'\r\n\t\t                +'<span>'+( msgType==\"1\" ? '回复了您发表的晒单评论' : '回复了您发表的晒单' )+'</span>'\r\n\t\t                +'<a target=\"_blank\" href=\"/yungou/post/detail?id='+relateID+'\" class=\"u-title\">'+youContent+'</a>'\r\n\t\t                +'<span class=\"u-time\">'+replyTime+'</span>'\r\n\t\t                +'<a href=\"javascript:;\" msgid=\"'+msgID+'\" class=\"close-icon\"><i class=\"transparent-png\"></i></a>'\r\n\t\t            +'</li>';\r\n\t    \t});\r\n\t\t\tif( dataLi=='' ){\r\n\t\t\t\t$(\".fri-page-wrap\").hide();\r\n\t\t\t\t$(\"#ul_msglist\").html('<div class=\"null-retips-wrapper\"><div class=\"gth-icon transparent-png\"></div><span>您还没有回复消息哦！</span></div>');\r\n\t\t\t}else{\r\n\t\t\t\t$(\".fri-page-wrap\").show();\r\n\t\t\t\t$(\"#ul_msglist\").html(dataLi);\r\n\t\t\t}\r\n\t    }else{\r\n\r\n\t    }\r\n\t}\r\n\r\n\t//函数\r\n\tfunction getreplymsgpagebyuseridAjaxFun(dataObj,Callback){\r\n\t\tif( !ajaxlack ) return; ajaxlack = false;\r\n\t\t$.ajax({\r\n\t        url: \"/message/service/getreplymsgpagebyuserid\",\r\n\t        type: 'POST',\r\n\t        dataType: 'json',\r\n\t        data: dataObj\r\n\t    })\r\n\t    .done(function(data) {\r\n\t        console.log(data);\r\n\t        Callback(data);\r\n\t    })\r\n\t    .fail(function() {\r\n\t        //alert('网络错误！')\r\n\t    })\r\n\t    .always(function() {\r\n\t    \tajaxlack = true;\r\n\t    });\r\n\t}\r\n\r\n\t$(document).on(\"click\",'.close-icon',function(){\r\n\t\tvar msgid = $(this).attr(\"msgid\");\r\n\t\t$(this).parents(\"ul\").find(\"li\").removeClass(\"removeClass\");\r\n    \t$(this).parents(\"li\").addClass(\"removeClass\");\r\n    \ttanFun(282,150,'<div class=\"z-pop-box clrfix\"><span class=\"gray3\">您确定要删除吗？</span><a id=\"btn01\" href=\"javascript:gotoClick();\" title=\"取消\" class=\"z-btn-cancel\">取消</a><a id=\"btn02\" href=\"javascript:;\" title=\"确定\" class=\"z-btn-determine\" msgid=\"'+msgid+'\">确定</a></div>');\r\n\t});\r\n\r\n\t// 确认删除回复消息\r\n    $(document).on(\"click\",\"#btn02\",function(){\r\n    \tvar msgid = $(this).attr(\"msgid\");\r\n    \tdeletereplymsgbyuseridFun(msgid,function(data){\r\n    \t\tif( data.success ){\r\n    \t\t\tFailDialog(160,60,'删除成功！');\r\n    \t\t\t$(\".removeClass\").remove();\r\n    \t\t\tgotoClick();\r\n    \t\t\tajaxlack = true;\r\n    \t\t}\r\n    \t});\r\n    });\r\n\r\n    // 清空所有\r\n    $(document).on(\"click\",\"#a_clear\",function(){\r\n    \tdeletereplymsgbyuseridFun(0,function(data){\r\n    \t\tif( data.success ){\r\n    \t\t\tFailDialog(160,60,'清空成功！',url);\r\n    \t\t}\r\n    \t});\r\n    });\r\n\r\n\t// 删除回复消息\r\n\tfunction deletereplymsgbyuseridFun(msgID,Callback){\r\n\t\t$.ajax({\r\n\t        url: \"/post/service/deletereplymsgbyuserid\", \r\n\t        type: 'POST',\r\n\t        dataType: 'json',\r\n\t        data: { msgID:msgID }\r\n\t    })\r\n\t    .done(function(data) {\r\n\t        console.log(data);\r\n\t        Callback(data);\r\n\t    })\r\n\t    .fail(function() {\r\n\t        //alert('网络错误！')\r\n\t    })\r\n\t    .always(function() {\r\n\r\n\t    });\r\n\t}\r\n}\r\n/**--------------------------------------评论回复消息结束------------------------------------**/\r\n\r\n\r\n/**--------------------------------------会员首页------------------------------------**/\r\nif( pageTrue==\"memberingdex\" ){\r\n\t$(document).on(\"mouseover\",\".commodity-list ul\",function(){\r\n\t\t$(this).parents(\".productsCon\").addClass(\"products-hover\");\r\n\t\t$(this).find(\".hideShow\").hide();\r\n\t\t$(this).find(\".showHide\").show();\r\n\t});\r\n\r\n\t$(document).on(\"mouseout\",\".commodity-list ul\",function(){\r\n\t\t$(this).parents(\".productsCon\").removeClass(\"products-hover\");\r\n\t\t$(this).find(\".hideShow\").show();\r\n\t\t$(this).find(\".showHide\").hide();\r\n\t});\r\n\r\n\t// 加入购物车\r\n\t$(document).on(\"click\", \".list-ing\",function(){\r\n\t\tvar codeID = $(this).attr(\"codeID\");\r\n\t\tvar $em = $(\"#rightCartNum\");\r\n\t\tvar num = parseInt($em.text())+1;\r\n\t\tcartAddFun(codeID,1,function(){\r\n\t\t\tFailDialog(160,60,'添加成功！');\r\n\t\t\t$em.show().html(num);\r\n        });\r\n\t});\r\n\r\n\r\n\t// 云购记录\r\n\tgetmembercenterbuymessageAjaxFun(1,4,0,'','','');\r\n\tfunction getmembercenterbuymessageAjaxFun(page,limit){\r\n\t\t$.ajax({\r\n\t        url: \"/order/service/getmembercenterbuymessage\", \r\n\t        type: 'POST',\r\n\t        dataType: 'json',\r\n\t        data: { page:page, limit:limit }\r\n\t    })\r\n\t    .done(function(data) {\r\n\t        console.log(data);\r\n\t        if( data.success ){\r\n\t\t\t\tvar dataLi = '';\r\n\t\t\t\t$.each(data.result.datas, function(i,item){\r\n\t\t\t\t\tvar buyNum = item.buyNum//: \"2\"\r\n\t\t\t\t\tvar codeID = item.codeID//: \"5699d739887c2261708b45b5\"\r\n\t\t\t\t\tvar codePeriod = item.codePeriod//: \"2\"\r\n\t\t\t\t\tvar codePrice = item.codePrice//: \"2.00\"\r\n\t\t\t\t\tvar codeQuantity = item.codeQuantity//: 2\r\n\t\t\t\t\tvar codeRTime = item.codeRTime//: \"2016-01-17 12:00:01.746\"\r\n\t\t\t\t\tvar codeSales = item.codeSales//: 2\r\n\t\t\t\t\tvar codeState = item.codeState//: \"3\"\r\n\t\t\t\t\tvar codeType = item.codeType//: \"0\"\r\n\t\t\t\t\tvar goodsID = item.goodsID//: \"563728c07f50eab004000401\"\r\n\t\t\t\t\tvar goodsName = item.goodsName//: \"micmak马卡龙 法国进口料零食品糕点正宗法式马卡龙甜点12枚甜品\"\r\n\t\t\t\t\tvar goodsPic = item.goodsPic//: \"/service/file/index?id=1_1609826e82tb1ca5x___0-item_pic.jpg&upload_path=goods/1\"\r\n\t\t\t\t\tvar purchase_time = item.purchase_time//: \"2016-01-17 11:56:01.559\"\r\n\t\t\t\t\tvar refundNum = item.refundNum//: \"0\"\r\n\t\t\t\t\tvar userId = item.userId//: \"56761153887c22184e8b45b5\"\r\n\t\t\t\t\tvar userName = item.userName//: \"15821****14\"\r\n\t\t\t\t\tvar userWeb = item.userWeb//: \"56761153887c22184e8b45b5\"\r\n\r\n\t\t\t\t\tif( codeState==1 ){\r\n\t\t\t\t\t\tdataLi += '<div class=\"productsCon\">'\r\n\t\t\t\t\t\t\t+'<div class=\"proList\">'\r\n\t\t\t\t\t\t\t\t+'<ul>'\r\n\t\t\t\t\t\t\t\t\t+'<li class=\"list-pic\"><a target=\"_blank\" href=\"/yungou/product/index?id='+codeID+'\"><img src=\"'+goodsPic+'&w=130&h=130\"></a></li>'\r\n\t\t\t\t\t\t\t\t\t+'<li class=\"list-name\"><a target=\"_blank\" href=\"/yungou/product/index?id='+codeID+';\"> (第'+codePeriod+'云)'+goodsName+'</a></li>'\r\n\t\t\t\t\t\t\t\t\t+'<li class=\"g-progress hideShow\" style=\"display: list-item;\"><dl class=\"m-progress\"><dt><b style=\"width:'+(codeSales/codeQuantity)*100+'%;\"></b></dt></dl></li>'\r\n\t\t\t\t\t\t\t\t\t+'<li class=\"gray9 showHide\" style=\"display: none;\">您已参与'+buyNum+'人次</li>'\r\n\t\t\t\t\t\t\t\t\t+'<li class=\"list-add showHide\" codeid=\"'+codeID+'\" style=\"display: none;\"><a href=\"javascript:;\">追加</a></li>'\r\n\t\t\t\t\t\t\t\t+'</ul>'\r\n\t\t\t\t\t\t\t+'</div>'\r\n\t\t\t\t\t\t+'</div>';\r\n\t\t\t\t\t}else if( codeState==2 ){\r\n\t\t\t\t\t\tdataLi += '<div class=\"productsCon\">'\r\n\t\t\t\t\t\t\t+'<div class=\"proList\">'\r\n\t\t\t\t\t\t\t\t+'<ul>'\r\n\t\t\t\t\t\t\t\t\t+'<li class=\"list-pic\"><a target=\"_blank\" href=\"/yungou/lottery/detail?id='+codeID+'\"><img src=\"'+goodsPic+'&w=130&h=130\"></a></li>'\r\n\t\t\t\t\t\t\t\t\t+'<li class=\"list-name\"><a target=\"_blank\" href=\"/yungou/lottery/detail?id='+codeID+'\"> (第'+codePeriod+'云)'+goodsName+'</a></li>'\r\n\t\t\t\t\t\t\t\t\t+'<li class=\"list-over\"><a href=\"/yungou/lottery/detail?id='+codeID+'\"> 正在揭晓 </a></li>'\r\n\t\t\t\t\t\t\t\t+'</ul>'\r\n\t\t\t\t\t\t\t+'</div>'\r\n\t\t\t\t\t\t+'</div>';\r\n\t\t\t\t\t}else if( codeState==3 ){\r\n\t\t\t\t\t\tdataLi += '<div class=\"productsCon\">'\r\n\t\t\t\t\t\t\t+'<div class=\"proList\">'\r\n\t\t\t\t\t\t\t\t+'<ul>'\r\n\t\t\t\t\t\t\t\t\t+'<li class=\"list-pic\"><a target=\"_blank\" href=\"/yungou/product/detail?id='+codeID+'\"><img src=\"'+goodsPic+'&w=130&h=130\"></a></li>'\r\n\t\t\t\t\t\t\t\t\t+'<li class=\"list-name\"><a target=\"_blank\" href=\"/yungou/product/detail?id='+codeID+'\"> (第'+codePeriod+'云)'+goodsName+'</a></li>'\r\n\t\t\t\t\t\t\t\t\t+'<li class=\"list-over\"><a href=\"/yungou/product/detail?id='+codeID+'\"> 已经揭晓 </a></li>'\r\n\t\t\t\t\t\t\t\t+'</ul>'\r\n\t\t\t\t\t\t\t+'</div>'\r\n\t\t\t\t\t\t+'</div>';\r\n\t\t\t\t\t}\r\n\t\t    \t});\r\n\t\t\t\t\r\n\t\t\t\tif( dataLi=='' ){\r\n\t\t\t\t\t$(\"#g_buys_records\").hide();\r\n\t\t\t\t}else{\r\n\t\t\t\t\t$(\"#g_buys_records\").show();\r\n\t\t\t\t\t$(\"#div_UserBuyList\").html(dataLi);\r\n\t\t\t\t}\r\n\r\n\r\n\t        }else{\r\n\r\n\t        }\r\n\t    })\r\n\t    .fail(function() {\r\n\t        //alert('网络错误！')\r\n\t    })\r\n\t    .always(function() {\r\n\r\n\t    });\r\n\t}\r\n\r\n\r\n\t// 关注\r\n\tgetcollectgoodslistindexAjaxFun(1,4);\r\n\tfunction getcollectgoodslistindexAjaxFun(page,limit){\r\n\t\t$.ajax({\r\n\t        url: \"/goods/service/getcollectgoodslist\", \r\n\t        type: 'POST',\r\n\t        dataType: 'json',\r\n\t        data: { page:page, limit:limit }\r\n\t    })\r\n\t    .done(function(data) {\r\n\t        console.log(data);\r\n\t        if( data.success ){\r\n\t\t\t\tvar dataLi = '';\r\n\t\t\t\t$.each(data.result.datas, function(i,item){\r\n\t\t\t\t\tvar codeID = item.codeID//: \"5699cff6887c2261708b45a9\"\r\n\t\t\t\t\tvar codePeriod = item.codePeriod//: \"3\"\r\n\t\t\t\t\tvar codeType = item.codeType//: 0\r\n\t\t\t\t\tvar goodsID = item.goodsID//: \"563728c07f50eab004000404\"\r\n\t\t\t\t\tvar goodsName = item.goodsName//: \"【周黑鸭旗舰店_锁鲜装】盒装鸭翅190g*2 武汉特产官方食品零食\"\r\n\t\t\t\t\tvar goodsPic = item.goodsPic//: \"/service/file/index?id=1_161020d50ftb1ztcx___0-item_pic.jpg&upload_path=goods/1\"\r\n\t\t\t\t\tvar isSale = item.isSale//: \"1\"\r\n\t\t\t\t\tvar limitBuy = item.limitBuy//: 0\r\n\t\t\t\t\tvar quantity = item.quantity//: 2\r\n\t\t\t\t\tvar sales = item.sales//: 0\r\n\t\t\t\t\tif( isSale==1 ){\r\n\t\t\t    \t\tdataLi += '<div class=\"productsCon\">'\r\n\t\t\t\t\t\t    +'<div class=\"proList\">'\r\n\t\t\t\t\t\t        +'<ul>'\r\n\t\t\t\t\t\t            +'<li class=\"list-pic\"><a target=\"_blank\" href=\"/yungou/product/index?id='+goodsID+'\"><img src=\"'+goodsPic+'&w=130&h=130\"></a></li>'\r\n\t\t\t\t\t\t            +'<li class=\"list-name hideShow\" style=\"display: block;\"><a target=\"_blank\" href=\"javascript:;\">'+goodsName+'</a></li>'\r\n\t\t\t\t\t\t            +'<li style=\"display: none;\" class=\"g-progress showHide\"><dl class=\"m-progress\"><dt><b style=\"width:'+(sales/quantity)*100+'%;\"></b></dt></dl></li>'\r\n\t\t\t\t\t\t            +'<li style=\"display: none;\" class=\"list-ing showHide\" codeid=\"'+codeID+'\"><a href=\"javascript:;\">加入购物车</a></li>'\r\n\t\t\t\t\t\t            +'<li class=\"list-ing hideShow\" style=\"display: list-item;\"><a href=\"javascript:;\">第<em class=\"orange\">'+codePeriod+'</em>云进行中…</a></li>'\r\n\t\t\t\t\t\t        +'</ul>'\r\n\t\t\t\t\t\t    +'</div>'\r\n\t\t\t\t\t\t+'</div>';\r\n\t\t\t\t\t}\r\n\t\t    \t});\r\n\t\t\t\t\r\n\t\t\t\tif( dataLi=='' ){\r\n\t\t\t\t\t$(\".g-my-attention\").hide();\r\n\t\t\t\t}else{\r\n\t\t\t\t\t$(\".g-my-attention\").show();\r\n\t\t\t\t\t$(\"#div_AttentionList\").html(dataLi);\r\n\t\t\t\t}\r\n\t        }else{\r\n\r\n\t        }\r\n\t    })\r\n\t    .fail(function() {\r\n\t        //alert('网络错误！')\r\n\t    })\r\n\t    .always(function() {\r\n\r\n\t    });\r\n\t}\r\n\r\n\r\n\t// 最新晒单\r\n\tgetpagelistpostsingleindexAjaxFun(1,9);\r\n\tfunction getpagelistpostsingleindexAjaxFun(page,limit){\r\n\t\t$.ajax({\r\n\t        url: \"/post/service/getpagelistpostsingle\", \r\n\t        type: 'POST',\r\n\t        dataType: 'json',\r\n\t        data: { page:page, limit:limit }\r\n\t    })\r\n\t    .done(function(data) {\r\n\t        console.log(data);\r\n\t        if( data.success ){\r\n\t\t\t\tvar dataLi = '';\r\n\t\t\t\t$.each(data.result.datas, function(i,item){\r\n\t\t    \t\tdataLi += '<div class=\"m-single\">'\r\n\t\t\t\t\t\t+'<div class=\"single-list\">'\r\n\t\t\t\t\t\t\t+'<ul>'\r\n\t\t\t\t\t\t\t\t+'<li class=\"sig-pic\"><a target=\"_blank\" href=\"javascript:;\"> <img src=\".jpg\"></a></li>'\r\n\t\t\t\t\t\t\t\t+'<li class=\"sig-title\"><a target=\"_blank\" href=\"javascript:;\"> <b>中了！中了！！！ </b></a></li>'\r\n\t\t\t\t\t\t\t\t+'<li class=\"sig-text\">非常感谢云购！两元钱中了个电饭锅！！在我投入几百块后中的价值最高的一份！！感谢运气…</li>'\r\n\t\t\t\t\t\t\t\t+'<li>昨天 19:37</li>'\r\n\t\t\t\t\t\t\t\t+'<li class=\"sig-xmjdh\"><a href=\"javascript:;\"> <cite class=\"fl\"><img src=\".jpg\"><s></s></cite> <em class=\"fl\"> 18606****75 </em></a> <b class=\"curr-arrow\"> <s class=\"u-personal\"> </s></b></li>'\r\n\t\t\t\t\t\t\t+'</ul>'\r\n\t\t\t\t\t\t+'</div>'\r\n\t\t\t\t\t+'</div>';\r\n\t\t    \t});\r\n\t\t\t\t\r\n\t\t\t\tif( dataLi=='' ){\r\n\t\t\t\t\t$(\"#div_PostList\").html('<div class=\"null-data\" style=\"margin:40px 0;\"><b class=\"gth-icon\"></b>暂无云友购买记录！</div>');\r\n\t\t\t\t}else{\r\n\t\t\t\t\t$(\"#div_PostList\").html(dataLi);\r\n\t\t\t\t}\r\n\r\n\t        }else{\r\n\r\n\t        }\r\n\t    })\r\n\t    .fail(function() {\r\n\t        //alert('网络错误！')\r\n\t    })\r\n\t    .always(function() {\r\n\r\n\t    });\r\n\t}\r\n\r\n\t// 好友动态\r\n\tvar friendmsgLen = $(\"#ul_friendmsg li\").length;\r\n\tif( friendmsgLen>=9 ){\r\n\t\t// setInterval(function(){\r\n\t\t// \t$(\"#ul_friendmsg\").prepend(\"<li>\"+$(\"#ul_friendmsg li:last\").html()+\"</li>\").css({marginTop:\"-76px\"}).animate({marginTop:\"0\",function(){\r\n\t\t// \t\t$(\"#ul_friendmsg li:last\").remove();\r\n\t\t// \t}});\r\n\t\t// },3000);\r\n\t}\r\n\r\n\r\n\r\n}\r\n/**--------------------------------------会员首页结束------------------------------------**/\r\n\r\n\r\n/**--------------------------------------配货地址增加修改------------------------------------**/\r\nif( pageTrue==\"orderdetail\" ){\r\n\tvar AddressHTML = $(\"#shiAddress\").html();\r\n\t// 地址选择\r\n\t$(\"#ul_addrlist li\").on(\"click\", function(){\r\n\t\tvar $this = $(this);\r\n\t\tif( !$this.hasClass(\"new-address\") ){\r\n\t\t\t$this.addClass(\"z-che\").siblings().removeClass(\"z-che\");\r\n\t\t}else{\r\n\t\t\t// 新增地址\r\n\t\t\tconsole.log(AddressHTML);\r\n\t\t\ttanFun(765,466,AddressHTML);\r\n\t\t}\r\n\t});\r\n\r\n\t// 修改和新增地址确认\r\n\t$(document).on(\"click\", \"#btnSubmit\", function(){\r\n\t\tvar $zche = $(\"#ul_addrlist .z-che\");\r\n\t\tvar name = $zche.attr('name');\r\n\t\tvar tel = $zche.attr('tel');\r\n\t\tvar address = $zche.attr('address');\r\n\t\tvar id = $zche.attr('id');\r\n\t\ttanFun(600,250,'<div class=\"z-pop-box\"><h2 class=\"gray3\">确认地址后将不可修改，是否确认提交地址？</h2><span class=\"gray6 box-bgcolor\">'+name+'<i class=\"f-mar-left\">'+tel+'</i><br><em>'+address+'</em></span><a id=\"btnCancel\" href=\"javascript:gotoClick()\" title=\"取消\" class=\"z-btn-cancel\">取消</a><a id=\"btnOK\" href=\"javascript:;\" title=\"确定\" _id=\"'+id+'\" class=\"z-btn-determine\">确定</a></div>');\r\n\t});\r\n\r\n\t// 提交地址\r\n\t$(document).on(\"click\", \"#btnOK\", function(){\r\n\t\tvar id = $(this).attr('_id');\r\n\t\tif( !ajaxlack ) return; ajaxlack = false;\r\n\t\t$.ajax({\r\n\t        url: \"/order/service/confirmorderconsignee\", \r\n\t        type: 'POST',\r\n\t        dataType: 'json',\r\n\t        data: { order_no:$.query.get('orderno'), consignee_id:id, message:$(\"#txtRemark\").val() }\r\n\t    })\r\n\t    .done(function(data) {\r\n\t        console.log(data);\r\n\t        if( data.success ){\r\n\t        \ttanFun(518,270,'<div class=\"share-Pop-ups\"><h4><b><i class=\"u-personal\"></i>地址已提交！请您耐心等待发货</b></h4><p class=\"gray9\">向朋友们炫耀一下吧！</p><ul class=\"share-content\"><li class=\"f-share-icon\"><div class=\"bdsharebuttonbox bdshare-button-style2-16\" data-bd-bind=\"1450577368417\"><a href=\"javascript:;\" data-cmd=\"weixin\" class=\"z-wx-friends\" title=\"分享到微信\"></a><a href=\"javascript:;\" data-cmd=\"sqq\" class=\"z-wx-group\" title=\"分享到QQ好友\"></a><a href=\"javascript:;\" data-cmd=\"tsina\" class=\"z-sina\" title=\"分享到新浪微博\"></a><a href=\"javascript:;\" data-cmd=\"qzone\" class=\"z-qq\" title=\"分享到QQ空间\"></a></div></li></ul></div>');\r\n\t        }\r\n\t    })\r\n\t    .fail(function() {\r\n\t        //alert('网络错误！')\r\n\t    })\r\n\t    .always(function() {\r\n\t    \tajaxlack = true;\r\n\t    });\r\n\t});\r\n\r\n\t// 地址确认后刷新页面\r\n\t\r\n\r\n\t// 修改地址\r\n    $(\".z-alter\").on(\"click\",function(){\r\n    \tvar $this = $(this);\r\n    \tvar id = $this.attr(\"id\");\r\n    \tvar $thisLi = $this.parents(\"li\");\r\n    \tvar name = $thisLi.attr(\"name\");\r\n    \tvar tel = $thisLi.attr(\"tel\");\r\n    \tvar address = $thisLi.attr(\"address\").split(\" \");\r\n    \tvar code = $thisLi.attr(\"code\");\r\n    \tvar provinceID = $thisLi.attr('provinceID');\r\n    \tvar cityID = $thisLi.attr('cityID');\r\n    \tvar districtID = $thisLi.attr('districtID');\r\n\r\n    \ttanFun(765,466,AddressHTML);\r\n    \t\r\n    \t$(\"#btnSaveAddress\").attr({\"_id\":id});\r\n\t\t$(\"#selProvinceID .select-xiala\").html(address[0]+'<s class=\"u-personal\"></s>');\r\n\t\t$(\"#selCityID .select-xiala\").html(address[1]+'<s class=\"u-personal\"></s>');\r\n\t\t$(\"#selCountyID .select-xiala\").html(address[2]+'<s class=\"u-personal\"></s>');\r\n\r\n\t\t$(\"#selProvinceID input\").val(provinceID);\r\n\t\t$(\"#selCityID input\").val(cityID);\r\n\t\t$(\"#selCountyID input\").val(districtID);\r\n\r\n\t\t$(\"#txtAddress\").val(address[3]); //详细地址\r\n    \t$(\"#txtPostCode\").val(code); //邮政编码\r\n    \t$(\"#txtConsignee\").val(name); //收货人\r\n    \t$(\"#txtTel\").val(''); //固定电话\r\n    \t$(\"#txtMobile\").val(tel); //手机号码\r\n\r\n    \tif( $this.parents(\"li\").index()==0 ){\r\n    \t\t$(\"#a_default\").attr(\"value\",1);//默认地址\r\n    \t\t$(\".set-default\").addClass(\"z-click\");\r\n    \t}else{\r\n    \t\t$(\"#a_default\").attr(\"value\",0);//默认地址\r\n    \t\t$(\".set-default\").removeClass(\"z-click\");\r\n    \t}\r\n\r\n    \t// 城市接口\r\n\t\tvar selProvinceID = $(\"#selProvinceID\").find(\"input\").val(); //城市\r\n\t\tprovinceFun(selProvinceID,function(data){\r\n\t\t\t$(\"#selCityID .select-state\").html('');\r\n\t\t\tfor( var v in data.result ){\r\n\t\t\t\t$(\"#selCityID .select-state\").append('<a href=\"javascript:;\" value=\"'+v+'\">'+data.result[v]+'</a>');\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t// 城市区接口\r\n\t\tvar selCityID = $(\"#selCityID\").find(\"input\").val(); //区\r\n\t\tgetdistrictsFun(selCityID,function(data){\r\n\t\t\t$(\"#selCountyID .select-state\").html('');\r\n\t\t\tfor( var v in data.result ){\r\n\t\t\t\t$(\"#selCountyID .select-state\").append('<a href=\"javascript:;\" value=\"'+v+'\">'+data.result[v]+'</a>');\r\n\t\t\t}\r\n\t\t});\r\n    });\r\n\r\n\t// 确认收货\r\n\t$(\"#btnConfirmReceipt\").on(\"click\", function(){\r\n\t\tvar id = $(this).attr('_id');\r\n\t\tif( !ajaxlack ) return; ajaxlack = false;\r\n\t\t$.ajax({\r\n\t        url: \"/order/service/confirmorderreceive\", \r\n\t        type: 'POST',\r\n\t        dataType: 'json',\r\n\t        data: { order_no:$.query.get('orderno') }\r\n\t    })\r\n\t    .done(function(data) {\r\n\t        console.log(data);\r\n\t        if( data.success ){\r\n\t\t\t\tFailDialog(160,60,'确认成功！',url);\r\n\t        }else{\r\n\t        \tFailDialog(160,60,'确认失败！');\r\n\t        }\r\n\t    })\r\n\t    .fail(function() {\r\n\t        //alert('网络错误！')\r\n\t    })\r\n\t    .always(function() {\r\n\t    \tajaxlack = true;\r\n\t    });\r\n\t});\r\n\r\n}\r\n/**--------------------------------------配货地址增加修改结束------------------------------------**/\r\n\r\n\r\n/*******************************************************查找好友**************************************************/\r\nif( pageTrue==\"searchfriends\" ){\r\n\t// 标签切换\r\n\t$(\"#ul_menu li\").on(\"click\",function(){\r\n\t\tvar index = $(this).index();\r\n\t\t$(this).addClass(\"current\").siblings().removeClass(\"current\");\r\n\t\tif( index==0 ){\r\n\t\t\tsearchDataFun(index,'',1,9);\r\n\t\t\t$(\"#div_search, #div_title\").show();\r\n\t\t\t$(\"#div_change\").hide();\r\n\t\t\t$(\"#midNavLine\").animate({left:\"269px\",width:\"32px\"});\r\n\t\t}else if( index==1 ){\r\n\t\t\tsearchDataFun(index,'',1,9);\r\n\t\t\t$(\"#div_search, #div_title\").hide();\r\n\t\t\t$(\"#div_change\").show();\r\n\t\t\t$(\"#midNavLine\").animate({left:\"365px\",width:\"96px\"});\r\n\t\t}else if( index==2 ){\r\n\t\t\tsearchDataFun(index,'',1,9);\r\n\t\t\t$(\"#div_search, #div_title\").hide();\r\n\t\t\t$(\"#div_change\").show();\r\n\t\t\t$(\"#midNavLine\").animate({left:\"528px\",width:\"64px\"});\r\n\t\t}else if( index==3 ){\r\n\t\t\tsearchDataFun(index,'',1,9);\r\n\t\t\t$(\"#div_search, #div_title\").hide();\r\n\t\t\t$(\"#div_change\").show();\r\n\t\t\t$(\"#midNavLine\").animate({left:\"657px\",width:\"64px\"});\r\n\t\t}\r\n\t});\r\n\r\n\t// 换一批\r\n\t$(\"#div_change\").on(\"click\",function(){\r\n\t\tvar index = $(\"#ul_menu li.current\").index();\r\n\t\tconsole.log(index);\r\n\t\tsearchDataFun(0,'',1,9);\r\n\t});\r\n\r\n\t// 加好友\r\n\t$(document).on(\"click\",\".f-add\",function(){\r\n\t\tvar userid = $(this).attr(\"userid\");\r\n\t\tinsertuserfriendapplyAjaxFun(userid,function(data){\r\n\t\t\tif( data.success ){\r\n\t\t\t\tFailDialog(260,60,'申请成功，请等待对方通过！');\r\n\t\t\t}else{\r\n\t\t\t\tFailDialog(260,60,'申请失败，请重试！');\r\n\t\t\t}\r\n\t\t});\r\n\t});\r\n\r\n\tfunction insertuserfriendapplyAjaxFun(userID,Callback){\r\n\t\tif( !ajaxlack ) return; ajaxlack = false;\r\n\t\t$.ajax({\r\n\t        url: \"/member/service/insertuserfriendapply\",\r\n\t        type: 'POST',\r\n\t        dataType: 'json',\r\n\t        data: {userID:userID}\r\n\t    })\r\n\t    .done(function(data) {\r\n\t        console.log(data);\r\n\t        Callback(data);\r\n\t    })\r\n\t    .fail(function() {\r\n\t        //alert('网络错误！')\r\n\t    })\r\n\t    .always(function() {\r\n\t    \tajaxlack = true;\r\n\t    });\r\n\t}\r\n\t\r\n\t// 搜索\r\n\t$(\"#btnSearch\").on(\"click\",function(){\r\n\t\tvar type = 0;\r\n\t\tvar key = $(\"#txtKeyWord\").val();\r\n\t\tvar page = 1;\r\n\t\tvar limit = 9;\r\n\r\n\t\tif( key==\"\"||key.length<2 ){\r\n\t\t\tFailDialog(305,60,'请输入至少两个字符的昵称搜索！');\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tsearchDataFun(type,key,page,limit);\r\n\t});\r\n\tsearchDataFun(0,'',1,9);\r\n\tfunction searchDataFun(type,key,page,limit){\r\n\t\t$(\"#div_userlist\").html('<div style=\"text-align: center;\"><img src=\"/Images/loding.gif\"></div>');\r\n\t\tvar dataObj = {\r\n\t\t\ttype:type,\r\n\t\t\tkey:key,\r\n\t\t\tpage:page,\r\n\t\t\tlimit:limit\r\n\t\t}\r\n\t\tgetmembersearchfriendsAjaxFun(dataObj,function(data){\r\n\t\t\tvar total = data.result.total;\r\n\t\t\tdataListFun(data);\r\n\t\t\tPageCreate('#g-pagination',total,9,1,function(pageNumber){\r\n\t\t\t\tif( total!=null ){ total = null; return; }\r\n\t\t\t\tdataObj.page = pageNumber;\r\n\t\t\t\tgetmembersearchfriendsAjaxFun(dataObj,function(data){\r\n\t\t\t\t\tdataListFun(data);\r\n\t\t\t\t});\r\n\t\t    });\r\n\t\t});\r\n\t}\r\n\r\n\t// 数据插入\r\n\tfunction dataListFun(data){\r\n\t\tvar dataLi = '';\r\n\t\t$.each(data.result.datas, function(i,item){\r\n\t\t\tvar userWeb = item.userWeb;\r\n\t\t\tvar userPhoto = item.userPhoto=='' ? '/Images/UserFace-160-0000.jpg':item.userPhoto;\r\n\t\t\tvar gradeName = item.gradeName;\r\n\t\t\tvar address = item.address;\r\n\t\t\tvar sign = item.sign;\r\n\t\t\tvar userID = item.userID;\r\n\t\t\tvar userName = item.userName;\r\n\t\t\tdataLi += '<li><div class=\"pro\">'\r\n\t\t\t\t+'<a target=\"_blank\" href=\"'+userWeb+'\" class=\"h-pic\">'\r\n\t\t\t\t  \t+'<img src=\"'+userPhoto+'\" width=\"80\" height=\"80\">'\r\n\t\t\t\t+'</a>'\r\n\t\t\t\t+'<div class=\"tail\">'\r\n\t\t\t\t  +'<a target=\"_blank\" href=\"'+userWeb+'\" class=\"u-name\">'+userName+'</a>'\r\n\t\t\t\t  +'<p>'\r\n\t\t\t\t      +'<span class=\"level class-icon02\"><s></s>'+gradeName+'</span>'\r\n\t\t\t\t      +'<span class=\"u-address\">'\r\n\t\t\t\t        \t+'<i class=\"transparent-png\"></i>'+address\r\n\t\t\t\t      +'</span>'\r\n\t\t\t\t  +'</p>'\r\n\t\t\t\t  +'<p class=\"qm\">'+sign+'</p>'\r\n\t\t\t\t  +'<a href=\"javascript:;\" userid=\"'+userID+'\" class=\"f-add\"><i class=\"transparent-png\"></i>加好友</a>'\r\n\t\t\t\t+'</div>'\r\n\t\t\t+'</div></li>'\t\t\t\t    \r\n\t\t});\r\n\t\tif( dataLi=='' ){\r\n\t\t\t$(\"#div_userlist\").html('<div class=\"null-retips-wrapper\"><div class=\"gth-icon transparent-png\"></div><span>暂无记录</span></div>');\r\n\t\t}else{\r\n\t\t\t$(\"#div_userlist\").html('<ul class=\"fri-ship-list\"></ul>').find(\"ul\").html(dataLi);\r\n\t\t}\r\n\t}\r\n\r\n\t// 查找好友AJAX函数\r\n\tfunction getmembersearchfriendsAjaxFun(dataObj,Callback){\r\n\t\tif( !ajaxlack ) return; ajaxlack = false;\r\n\t\t$.ajax({\r\n\t        url: \"/member/service/getmembersearchfriends\",\r\n\t        type: 'POST',\r\n\t        dataType: 'json',\r\n\t        data: dataObj\r\n\t    })\r\n\t    .done(function(data) {\r\n\t        console.log(data);\r\n\t        Callback(data);\r\n\t    })\r\n\t    .fail(function() {\r\n\t        //alert('网络错误！')\r\n\t    })\r\n\t    .always(function() {\r\n\t    \tajaxlack = true;\r\n\t    });\r\n\t}\r\n}\r\n/*******************************************************查找好友结束*********************************************/\r\n\r\n\r\n\r\n/*******************************************************好友列表*********************************************/\r\nif( pageTrue==\"myfriends\" ){\r\n\t// 删除好友\r\n\t$(document).on(\"click\",\".f-del\",function(){\r\n\t\tvar friendID = $(this).attr('userID');\r\n\t\t$(this).parents(\"li\").addClass(\"deleteuserfriendclass\");\r\n\t\ttanFun(398,197,'<div class=\"z-popUp z-pop-box\">'\r\n            +'<span class=\"gray3\">确定要删除？</span>'\r\n            +'<a href=\"javascript:gotoClick();\" title=\"取消\" class=\"z-btn-cancel\">取消</a>'\r\n            +'<a href=\"javascript:;\" title=\"确定\" id=\"'+friendID+'\" class=\"z-btn-determine address-delete\">确定</a>'\r\n            +'</div>');\r\n\t});\r\n\r\n\t// 确认删除地址\r\n    $(document).on(\"click\",\".address-delete\",function(){\r\n        var id = $(this).attr(\"id\");\r\n        deleteuserfriendAjaxFun(id,function(){\r\n        \tgotoClick();\r\n\t\t\tif( data.success ){\r\n\t\t\t\tFailDialog(160,60,'删除成功！',url);\r\n\t\t\t\t$(\".deleteuserfriendclass\").remove();\r\n\t\t\t}else{\r\n\t\t\t\tFailDialog(260,60,'删除失败,请重试！');\r\n\t\t\t}\r\n\t\t});\r\n    });\r\n\r\n    // 发私信\r\n    $(document).on(\"click\",\".private_btn\",function(){\r\n        var _con = $(this).attr(\"_con\"); _con = '<iframe hidefocus=\"true\" frameborder=\"0\" scrolling=\"no\" src=\"/yungou/message.html'+_con+'\" style=\"width:100%;height:100%;\"></iframe>';\r\n        $(\"#pageDialogClose\").show();\r\n        $(\".title\").remove();\r\n        $(\"#pageDialogMain\").prepend('<div class=\"title\">对 '+$(this).attr(\"username\")+' 说：</div>');\r\n        tanFun(500,195,_con);\r\n    });\r\n\r\n\t// 搜索\r\n\t$(\"#btnSearch\").on(\"click\",function(){\r\n\t\tvar key = $(\"#txtKeyWord\").val();\r\n\t\tmyfriendsDataFun(key,1,9);\r\n\t});\r\n\tmyfriendsDataFun('',1,9);\r\n\tfunction myfriendsDataFun(key,page,limit){\r\n\t\t$(\"#div_userlist\").html('<div style=\"text-align: center;\"><img src=\"/Images/loding.gif\"></div>');\r\n\t\tvar dataObj = {\r\n\t\t\tkey:key,\r\n\t\t\tpage:1,\r\n\t\t\tlimit:9\r\n\t\t}\r\n\t\tgetmemberfriendsAjaxFun(dataObj,function(data){\r\n\t\t\tvar total = data.result.total;\r\n\t\t\tmyfriendsListFun(data);\r\n\t\t\tPageCreate('#g-pagination',total,9,1,function(pageNumber){\r\n\t\t\t\tif( total!=null ){ total = null; return; }\r\n\t\t\t\tdataObj.page = pageNumber;\r\n\t\t\t\tgetmemberfriendsAjaxFun(dataObj,function(data){\r\n\t\t\t\t\tmyfriendsListFun(data);\r\n\t\t\t\t});\r\n\t\t    });\r\n\t\t});\r\n\t}\r\n\r\n\t// 数据插入\r\n\tfunction myfriendsListFun(data){\r\n\t\tvar dataLi = '';\r\n\t\t$.each(data.result.datas, function(i,item){\r\n\t\t\tvar userWeb = item.userWeb;\r\n\t\t\tvar userPhoto = item.userPhoto=='' ? '/Images/UserFace-160-0000.jpg':item.userPhoto;\r\n\t\t\tvar gradeName = item.gradeName;\r\n\t\t\tvar address = item.address;\r\n\t\t\tvar sign = item.sign;\r\n\t\t\tvar userID = item.userID;\r\n\t\t\tvar userName = item.userName;\r\n\t\t\tdataLi += '<li><div class=\"pro\">'\r\n\t\t\t\t+'<a target=\"_blank\" href=\"'+userWeb+'\" class=\"h-pic\">'\r\n\t\t\t\t  \t+'<img src=\"'+userPhoto+'\" width=\"80\" height=\"80\">'\r\n\t\t\t\t+'</a>'\r\n\t\t\t\t+'<div class=\"tail\">'\r\n\t\t\t\t  +'<a target=\"_blank\" href=\"'+userWeb+'\" class=\"u-name\">'+userName+'</a>'\r\n\t\t\t\t  +'<p>'\r\n\t\t\t\t      +'<span class=\"level class-icon02\"><s></s>'+gradeName+'</span>'\r\n\t\t\t\t      +'<span class=\"u-address\">'\r\n\t\t\t\t        \t+'<i class=\"transparent-png\"></i>'+address\r\n\t\t\t\t      +'</span>'\r\n\t\t\t\t  +'</p>'\r\n\t\t\t\t  +'<p class=\"qm\">'+sign+'</p>'\r\n\t\t\t\t  +'<div class=\"f-option-wrap\">'\r\n                        +'<a href=\"javascript:;\" _con=\"?page=friend&msgToUID='+userID+'\" username=\"'+userName+'\" class=\"f-send private_btn\">'\r\n                            +'<i class=\"transparent-png\"></i>发私信'\r\n                        +'</a>'\r\n                        +'<a href=\"javascript:;\" userID=\"'+userID+'\" class=\"f-del\">删除</a>'\r\n                    +'</div>'\r\n\t\t\t\t+'</div>'\r\n\t\t\t+'</div></li>'\t\t\t\t    \r\n\t\t});\r\n\t\tif( dataLi=='' ){\r\n\t\t\t$(\"#div_myfriends\").html('<div class=\"null-retips-wrapper\"><div class=\"gth-icon transparent-png\"></div><span>暂无记录</span></div>');\r\n\t\t}else{\r\n\t\t\t$(\"#div_myfriends\").html('<ul class=\"fri-ship-list\"></ul>').find(\"ul\").html(dataLi);\r\n\t\t}\r\n\t}\r\n\r\n\t// 好友列表AJAX函数\r\n\tfunction getmemberfriendsAjaxFun(dataObj,Callback){\r\n\t\tif( !ajaxlack ) return; ajaxlack = false;\r\n\t\t$.ajax({\r\n\t        url: \"/member/service/getmemberfriends\",\r\n\t        type: 'POST',\r\n\t        dataType: 'json',\r\n\t        data: dataObj\r\n\t    })\r\n\t    .done(function(data) {\r\n\t        console.log(data);\r\n\t        Callback(data);\r\n\t    })\r\n\t    .fail(function() {\r\n\t        //alert('网络错误！')\r\n\t    })\r\n\t    .always(function() {\r\n\t    \tajaxlack = true;\r\n\t    });\r\n\t}\r\n\r\n\t// 删除好友\r\n\tfunction deleteuserfriendAjaxFun(friendID,Callback){\r\n\t\tif( !ajaxlack ) return; ajaxlack = false;\r\n\t\t$.ajax({\r\n\t        url: \"/member/service/deleteuserfriend\",\r\n\t        type: 'POST',\r\n\t        dataType: 'json',\r\n\t        data: { friendID:friendID }\r\n\t    })\r\n\t    .done(function(data) {\r\n\t        console.log(data);\r\n\t        Callback(data);\r\n\t    })\r\n\t    .fail(function() {\r\n\t        //alert('网络错误！')\r\n\t    })\r\n\t    .always(function() {\r\n\t    \tajaxlack = true;\r\n\t    });\r\n\t}\r\n\r\n\twindow.friendMessageFun = function(){\r\n\t\tgotoClick();\r\n\t\t$(\"#pageDialogMain .title\").hide();\r\n\t\tFailDialog(180,60,'发送成功！');\r\n\t}\r\n}\r\n/*******************************************************好友列表结束*********************************************/\r\n\r\n\r\n\r\n/*******************************************************获取好友列表**************************************************/\r\nif( pageTrue==\"friendsapply\" ){\r\n\t// 获取好友请求列表\r\n\tgetmemberfriendsapplyAjaxFun();\r\n\tfunction getmemberfriendsapplyAjaxFun(){\r\n\t\tvar page = 1;\r\n\t\tvar limit = 50;\r\n\t\t$.ajax({\r\n\t        url: \"/member/service/getmemberfriendsapply\",\r\n\t        type: 'POST',\r\n\t        dataType: 'json',\r\n\t        data: { page:page, limit:limit }\r\n\t    })\r\n\t    .done(function(data) {\r\n\t        console.log(data);\r\n\t        if( data.success ){\r\n\t\t\t\tvar dataLi = '';\r\n\t\t\t\t$.each(data.result.datas, function(i,item){\r\n\t\t\t\t\tvar applyID = item.applyID;\r\n\t\t\t\t\tvar userPhoto = item.userPhoto=='' ? '/Images/UserFace-160-0000.jpg':item.userPhoto;\r\n\t\t\t\t\tvar applyTime = item.applyTime;\r\n\t\t\t\t\tvar applyID = item.applyID;\r\n\t\t\t\t\tvar gradeName = item.gradeName;\r\n\t\t\t\t\tvar userName = item.userName;\r\n\t\t\t\t\tvar userID = item.userID;\r\n\t\t\t\t\tvar userWeb = item.userWeb;\r\n\t\t\t\t\tdataLi += '<li applyid=\"'+applyID+'\"><div class=\"fl\">'\r\n\t\t\t\t        +'<a target=\"_blank\" href=\"'+userWeb+'\" class=\"h-pic\"><img src=\"'+userPhoto+'\" width=\"80\" height=\"80\"></a>'\r\n\t\t\t\t        +'<div class=\"u-info\">'\r\n\t\t\t\t            +'<p class=\"u-name\"><a href=\"'+userWeb+'\">'+userName+'</a>请求您加为好友</p>'\r\n\t\t\t\t            +'<span class=\"level class-icon01\"><s></s>'+gradeName+'</span>'\r\n\t\t\t\t            // +'<p>51分钟前</p>'\r\n\t\t\t\t        +'</div>'\r\n\t\t\t\t    +'</div>'\r\n\t\t\t\t    +'<div class=\"u-btn-wrap\">'\r\n\t\t\t\t        +'<a id=\"d_agree\" herf=\"javascript:;\" applyid=\"'+applyID+'\" class=\"u-btn agree\">同意</a>'\r\n\t\t\t\t        +'<a id=\"d_ignore\" herf=\"javascript:;\" applyid=\"'+applyID+'\" class=\"u-btn elide\">忽略</a>'\r\n\t\t\t\t    +'</div>'\r\n\t\t\t\t+'</li>';\t\t\t    \r\n\t\t\t\t});\r\n\t\t\t\tif( dataLi=='' ){\r\n\t\t\t\t\t$(\".fri-page-wrap\").hide();\r\n\t\t\t\t\t$(\"#ul_friendsapply\").html('<div class=\"null-retips-wrapper\"><div class=\"gth-icon transparent-png\"></div><span>您还没有好友请求哦！</span></div>');\r\n\t\t\t\t}else{\r\n\t\t\t\t\t$(\".fri-page-wrap\").show();\r\n\t\t\t\t\t$(\"#ul_friendsapply\").html(dataLi);\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\tgetmemberfriendsapplyAjaxFun();\r\n\t\t\t}\r\n\t    })\r\n\t    .fail(function() {\r\n\t        //alert('网络错误！')\r\n\t    })\r\n\t    .always(function() {\r\n\t    \t\r\n\t    });\r\n\t}\r\n\r\n\t// 同意加好友\r\n\t$(document).on(\"click\",\"#d_agree\",function(){\r\n\t\tvar applyid = $(this).attr(\"applyid\");\r\n\t\tagreeuserfriendAjaxFun(applyid,function(data){\r\n\t\t\tif( data.success ){\r\n\t\t\t\tFailDialog(200,60,'已成为好友！',url);\r\n\t\t\t}else{\r\n\t\t\t\tFailDialog(260,60,'处理失败,请重试！');\r\n\t\t\t}\r\n\t\t});\r\n\t});\r\n\r\n\t// 全部同意加好友\r\n\t$(document).on(\"click\",\"#a_agree\",function(){\r\n\t\tvar applyid = 0;\r\n\t\tagreeuserfriendAjaxFun(applyid,function(data){\r\n\t\t\tif( data.success ){\r\n\t\t\t\tFailDialog(160,60,'已全部加为好友！',url);\r\n\t\t\t}else{\r\n\t\t\t\tFailDialog(260,60,'处理失败,请重试！');\r\n\t\t\t}\r\n\t\t});\r\n\t});\r\n\r\n\t// 忽略加好友\r\n\t$(document).on(\"click\",\"#d_ignore\",function(){ \r\n\t\tvar applyid = $(this).attr(\"applyid\");\r\n\t\tignoreuserfriendAjaxFun(applyid,function(data){\r\n\t\t\tif( data.success ){\r\n\t\t\t\tFailDialog(180,60,'忽略成功！',url);\r\n\t\t\t}else{\r\n\t\t\t\tFailDialog(260,60,'忽略失败,请重试！');\r\n\t\t\t}\r\n\t\t});\r\n\t});\r\n\r\n\t// 全部忽略加好友\r\n\t$(document).on(\"click\",\"#a_ignore\",function(){ \r\n\t\tvar applyid = 0;\r\n\t\tignoreuserfriendAjaxFun(applyid,function(data){\r\n\t\t\tif( data.success ){\r\n\t\t\t\tFailDialog(180,60,'全部忽略成功！',url);\r\n\t\t\t}else{\r\n\t\t\t\tFailDialog(260,60,'全部忽略失败,请重试！');\r\n\t\t\t}\r\n\t\t});\r\n\t});\r\n\r\n\t// 循环获取ID\r\n\tfunction agreeForFun(_ID,name){\r\n\t\tvar $ID = $(_ID);\r\n\t\tvar nameArr = '';\r\n\t\tfor ( var i=0; i<$ID.length; i++ ) {\r\n\t\t\tnameArr =  (nameArr==\"\" ? $ID.eq(i).attr(name) : nameArr+','+$ID.eq(i).attr(name) );\r\n\t\t};\r\n\t\treturn nameArr;\r\n\t}\r\n\r\n\t// 同意\r\n\tfunction agreeuserfriendAjaxFun(applyID,Callback){\r\n\t\tif( !ajaxlack ) return; ajaxlack = false;\r\n\t\t$.ajax({\r\n\t        url: \"/member/service/agreeuserfriend\",\r\n\t        type: 'POST',\r\n\t        dataType: 'json',\r\n\t        data: { applyID:applyID }\r\n\t    })\r\n\t    .done(function(data) {\r\n\t        console.log(data);\r\n\t        Callback(data);\r\n\t    })\r\n\t    .fail(function() {\r\n\t        //alert('网络错误！')\r\n\t    })\r\n\t    .always(function() {\r\n\t    \tajaxlack = true;\r\n\t    });\r\n\t}\r\n\r\n\t// 忽略\r\n\tfunction ignoreuserfriendAjaxFun(applyID,Callback){\r\n\t\tif( !ajaxlack ) return; ajaxlack = false;\r\n\t\t$.ajax({\r\n\t        url: \"/member/service/ignoreuserfriend\",\r\n\t        type: 'POST',\r\n\t        dataType: 'json',\r\n\t        data: { applyID:applyID }\r\n\t    })\r\n\t    .done(function(data) {\r\n\t        console.log(data);\r\n\t        Callback(data);\r\n\t    })\r\n\t    .fail(function() {\r\n\t        //alert('网络错误！')\r\n\t    })\r\n\t    .always(function() {\r\n\t    \tajaxlack = true;\r\n\t    });\r\n\t}\r\n\r\n\r\n}\r\n/*******************************************************获取好友列表结束*********************************************/\r\n\r\n\r\n/*******************************************************私信列表**************************************************/\r\nif( pageTrue==\"userprivmsg\" ){\r\n\r\n\tgetuserprivmsglistAjaxFun();\r\n\t// 私信列表\r\n\tfunction getuserprivmsglistAjaxFun(){\r\n\t\tif( !ajaxlack ) return; ajaxlack = false;\r\n\t\t$.ajax({\r\n\t        url: \"/message/service/getuserprivmsglist\",\r\n\t        type: 'POST',\r\n\t        dataType: 'json',\r\n\t        data: { page:1,limit:20 }\r\n\t    })\r\n\t    .done(function(data) {\r\n\t        console.log(data);\r\n\t        if( data.success ){\r\n\t        \tvar dataLi = '';\r\n\t        \t$.each(data.result.datas, function(i,item){\r\n\t        \t\tvar msgContents = item.msgContents;\r\n\t\t\t\t\tvar userPhoto = item.userPhoto=='' ? '/Images/UserFace-160-0000.jpg':item.userPhoto;\r\n\t\t\t\t\tvar msgNum = item.msgNum;\r\n\t\t\t\t\tvar senderUserID = item.senderUserID;\r\n\t\t\t\t\tvar showTime = item.showTime;\r\n\t\t\t\t\tvar unReadNum = item.unReadNum;\r\n\t\t\t\t\tvar userName = item.userName;\r\n\t\t\t\t\tvar userWeb = item.userWeb;\r\n\t\t\t\t\tvar is_me = item.is_me;\r\n\t        \t\tdataLi += '<li><a class=\"h-pic\" href=\"/member/index/userprivmsgdetail?senderUserID='+senderUserID+'\" target=\"_blank\">'\r\n\t\t                  +'<img width=\"50\" height=\"50\" src=\"'+userPhoto+'\">'\r\n\t\t              +'</a>'\r\n\t\t              +'<div class=\"info\">'\r\n\t\t                  +(is_me==1 ? '<span class=\"gray9\">我对</span><a class=\"u-name\" href=\"javascript:;\">'+userName+'</a><span class=\"gray9\">说：</span><span>'+msgContents+'</span>' : '<a class=\"u-name\" href=\"javascript:;\">'+userName+'</a><span class=\"gray9\">对您说：</span><span>'+msgContents+'</span>')\r\n\t\t              +'</div>'\r\n\t\t              +'<div class=\"time-wrap\">'\r\n\t\t                  +'<span class=\"gray9\">'+showTime+'</span>'\r\n\t\t                  +'<span class=\"fr\">'\r\n\t\t                      +'<a href=\"/member/index/userprivmsgdetail?senderUserID='+senderUserID+'\">共'+msgNum+'条私信</a>'\r\n\t\t                      +'&nbsp;&nbsp;'\r\n\t\t                      +'<a href=\"/member/index/userprivmsgdetail?senderUserID='+senderUserID+'\">回复</a>'\r\n\t\t                  +'</span>'\r\n\t\t              +'</div>'\r\n\t\t              +'<a class=\"close-btn\" href=\"javascript:;\" senderuserid=\"'+senderUserID+'\"><span></span></a></li>';\r\n\t        \t});\r\n\t\t\t\tif( dataLi=='' ){\r\n\t\t\t\t\t$(\".fri-page-wrap\").hide();\r\n\t\t\t\t\t$(\"#ul_primsg\").html('<div class=\"null-retips-wrapper\"><div class=\"gth-icon transparent-png\"></div><span>您还没有好友私信哦！</span></div>');\r\n\t\t\t\t}else{\r\n\t\t\t\t\t$(\".fri-page-wrap\").show();\r\n\t\t\t\t\t$(\"#ul_primsg\").html(dataLi);\r\n\t\t\t\t}\r\n\t        }else{\r\n\r\n\t        }\r\n\t    })\r\n\t    .fail(function() {\r\n\t        //alert('网络错误！')\r\n\t    })\r\n\t    .always(function() {\r\n\t    \tajaxlack = true;\r\n\t    });\r\n\t}\r\n\r\n\r\n}\r\n/*******************************************************私信列表结束*********************************************/\r\n\r\n/*******************************************************私信详细页**************************************************/\r\nif( pageTrue==\"userprivmsgdetail\" ){\r\n\tvar sendUserID = $.query.get(\"senderUserID\");\r\n\t$(\".text-wrap\").html('<iframe hidefocus=\"true\" name=\"myFrame\" frameborder=\"0\" scrolling=\"no\" src=\"/yungou/message.html?page=userprivmsgdetail&msgToUID='+sendUserID+'\" style=\"width:100%;height:100%;\"></iframe>');\r\n\t\r\n\twindow.userprivmsgdetailMessageFun = function(){\r\n\t\tFailDialog(180,60,'发送成功！');\r\n\t}\r\n\r\n\tdetailDataFun(1,8);\r\n\tfunction detailDataFun(page,limit){\r\n\t\t$(\"#ul_msglist\").html('<div style=\"text-align: center;\"><img src=\"/Images/loding.gif\"></div>');\r\n\t\tvar dataObj = {\r\n\t\t\tpage:page,\r\n\t\t\tlimit:limit,\r\n\t\t\tsendUserID:sendUserID\r\n\t\t}\r\n\t\tgetuserprivmsgdetaillistAjaxFun(dataObj,function(data){\r\n\t\t\tvar total = data.result.total;\r\n\t\t\tgetuserprivmsgdetaillistDataFun(data);\r\n\t\t\tPageCreate('#g-pagination',total,limit,1,function(pageNumber){\r\n\t\t\t\tif( total!=null ){ total = null; return; }\r\n\t\t\t\tdataObj.page = pageNumber;\r\n\t\t\t\tgetuserprivmsgdetaillistAjaxFun(dataObj,function(data){\r\n\t\t\t\t\tgetuserprivmsgdetaillistDataFun(data);\r\n\t\t\t\t});\r\n\t\t    });\r\n\t\t});\r\n\t}\r\n\r\n\t// 数据插入\r\n\tfunction getuserprivmsgdetaillistDataFun(data){\r\n\t\tif( data.success ){\r\n\t    \tvar dataLi = '';\r\n\t    \t$.each(data.result.datas, function(i,item){\r\n\t    \t\tvar msgContents = item.msgContents;\r\n\t\t\t\tvar userPhoto = item.userPhoto=='' ? '/Images/UserFace-160-0000.jpg':item.userPhoto;\r\n\t\t\t\tvar msgID = item.msgID;\r\n\t\t\t\tvar senderUserID = item.senderUserID;\r\n\t\t\t\tvar showTime = item.showTime;\r\n\t\t\t\tvar userName = item.userName;\r\n\t\t\t\tvar userWeb = item.userWeb;\r\n\t\t\t\tvar is_me = item.is_me;\r\n\t    \t\tdataLi += '<li class=\"'+(is_me==1 ? \"mine\" : \"other\")+' clrfix\">'\r\n\t              +'<a class=\"h-pic\" href=\"javascript:;\" target=\"_blank\">'\r\n\t                  +'<img width=\"50\" height=\"50\" src=\"'+userPhoto+'\">'\r\n\t              +'</a>'\r\n\t              +'<div class=\"info-tail\">'\r\n\t                  +'<p>'\r\n\t                      +'<a class=\"blue\" href=\"javascript:;\" target=\"_blank\">'+userName+'</a>：<span>'+msgContents+'</span>'\r\n\t                  +'</p>'\r\n\t                  +'<span class=\"gray9\">'+showTime+'</span>'\r\n\t                  +'<b><b></b></b>'\r\n\t                  +'<a class=\"close-btn\" href=\"javascript:;\" oppuserid=\"'+msgID+'\"><span></span></a>'\r\n\t              +'</div>'\r\n\t          +'</li>';\r\n\t    \t});\r\n\t\t\tif( dataLi=='' ){\r\n\t\t\t\t$(\"#g-pagination\").hide();\r\n\t\t\t\t$(\"#ul_msglist\").html('<div class=\"null-retips-wrapper\"><div class=\"gth-icon transparent-png\"></div><span>您还没有好友私信哦！</span></div>');\r\n\t\t\t}else{\r\n\t\t\t\t$(\"#g-pagination\").show();\r\n\t\t\t\t$(\"#ul_msglist\").html(dataLi);\r\n\t\t\t}\r\n\t    }else{\r\n\r\n\t    }\r\n\t}\r\n\r\n\t// 私信详细列表函数\r\n\tfunction getuserprivmsgdetaillistAjaxFun(dataObj,Callback){\r\n\t\tif( !ajaxlack ) return; ajaxlack = false;\r\n\t\t$.ajax({\r\n\t        url: \"/message/service/getuserprivmsgdetaillist\",\r\n\t        type: 'POST',\r\n\t        dataType: 'json',\r\n\t        data: dataObj\r\n\t    })\r\n\t    .done(function(data) {\r\n\t        console.log(data);\r\n\t        Callback(data);\r\n\t    })\r\n\t    .fail(function() {\r\n\t        //alert('网络错误！')\r\n\t    })\r\n\t    .always(function() {\r\n\t    \tajaxlack = true;\r\n\t    });\r\n\t}\r\n\r\n}\r\n/*******************************************************私信详细页结束*********************************************/\r\n\r\n/*******************************************************关注列表页**************************************************/\r\nif( pageTrue==\"collectlist\" ){\r\n\tgetcollectgoodslistDataFun(1,8);\r\n\tfunction getcollectgoodslistDataFun(page,limit){\r\n\t\t$(\"#div_collectlist ul\").html('<div style=\"text-align: center;\"><img src=\"/Images/loding.gif\"></div>');\r\n\t\tvar dataObj = {\r\n\t\t\tpage:page,\r\n\t\t\tlimit:limit\r\n\t\t}\r\n\t\tgetcollectgoodslistAjaxFun(dataObj,function(data){\r\n\t\t\tvar total = data.result.total;\r\n\t\t\tgetcollectgoodslistAddDataFun(data);\r\n\t\t\tPageCreate('#g-pagination',total,limit,1,function(pageNumber){\r\n\t\t\t\tif( total!=null ){ total = null; return; }\r\n\t\t\t\tdataObj.page = pageNumber;\r\n\t\t\t\tgetcollectgoodslistAjaxFun(dataObj,function(data){\r\n\t\t\t\t\tgetcollectgoodslistAddDataFun(data);\r\n\t\t\t\t});\r\n\t\t    });\r\n\t\t});\r\n\t}\r\n\r\n\t// 数据插入\r\n\tfunction getcollectgoodslistAddDataFun(data){\r\n\t\tif( data.success ){\r\n\t    \tvar dataLi = '';\r\n\t    \t$.each(data.result.datas, function(i,item){\r\n\t    \t\tvar codeID = item.codeID//: \"5699cff6887c2261708b45a9\"\r\n\t\t\t\tvar codePeriod = item.codePeriod//: \"3\"\r\n\t\t\t\tvar codeType = item.codeType//: 0\r\n\t\t\t\tvar goodsID = item.goodsID//: \"563728c07f50eab004000404\"\r\n\t\t\t\tvar goodsName = item.goodsName//: \"【周黑鸭旗舰店_锁鲜装】盒装鸭翅190g*2 武汉特产官方食品零食\"\r\n\t\t\t\tvar goodsPic = item.goodsPic//: \"/service/file/index?id=1_161020d50ftb1ztcx___0-item_pic.jpg&upload_path=goods/1\"\r\n\t\t\t\tvar isSale = item.isSale//: \"1\"\r\n\t\t\t\tvar limitBuy = item.limitBuy//: 0\r\n\t\t\t\tvar quantity = item.quantity//: 2\r\n\t\t\t\tvar sales = item.sales//: 0\r\n\r\n\t\t\t\tvar percentage = (sales/quantity)*100 //销量百分比\r\n\r\n\t\t\t\tif( isSale==0 ){\r\n\t\t\t\t\tdataLi += '<li issale=\"0\" class=\"n-pro-gray\">'\r\n\t\t\t\t\t  +'<div class=\"n-pro-img\">'\r\n\t\t\t\t\t    +'<a target=\"_blank\" href=\"javascript:;\"><img src=\"'+goodsPic+'&w=176&h=176\"><s></s></a>'\r\n\t\t\t\t\t  +'</div>'\r\n\t\t\t\t\t  +'<div class=\"n-info-wrapper\">'\r\n\t\t\t\t\t    +'<p class=\"gray3\">'+goodsName+'</p>'\r\n\t\t\t\t\t    +'<div class=\"n-pro-pass\">已失效</div><a style=\"display: none;\" href=\"javascript:;\" goodsid=\"'+goodsID+'\" codeID=\"'+codeID+'\" class=\"n-btn-del u-personal\"></a>'\r\n\t\t\t\t\t  +'</div>'\r\n\t\t\t\t\t+'</li>';\r\n\t\t\t\t}else{\r\n\t\t\t\t\tdataLi += '<li><div class=\"n-pro-img\">'\r\n\t                    +'<a target=\"_blank\" href=\"/yungou/product/detail?id='+codeID+'\">'\r\n\t                        +'<img src=\"'+goodsPic+'&w=176&h=176\"><s></s>'\r\n\t                    +'</a></div>'\r\n\t                +'<div class=\"n-info-wrapper n-info-wrapper01\" style=\"display: block;\">'\r\n\t                    +'<p class=\"gray3\">'+goodsName+'</p>'\r\n\t                    +'<div class=\"n-pro-num\">第<span class=\"orange\">'+codePeriod+'</span>云&nbsp;进行中<span class=\"dotting\"></span></div>'\r\n\t                +'</div>'\r\n\t                +'<div class=\"n-info-wrapper n-info-wrapper02\" style=\"display: none;\">'\r\n\t                    +'<div class=\"n-line-wrapper\">'\r\n\t                        +'<div class=\"n-line-inner\">'\r\n\t                            +'<div class=\"line\" style=\"width:'+percentage+'%\"></div>'\r\n\t                        +'</div>'\r\n\t                    +'</div>'\r\n\t                    +'<a href=\"javascript:;\" goodsid=\"'+goodsID+'\" codeID=\"'+codeID+'\" class=\"n-pro-add\">加入购物车</a>'\r\n\t                    +'<a href=\"javascript:;\" goodsid=\"'+goodsID+'\" codeID=\"'+codeID+'\" class=\"n-btn-del u-personal\"></a>'\r\n\t                +'</div></li>';\r\n\t\t\t\t}\r\n\t    \t});\r\n\t\t\t\r\n\t\t\tif( dataLi=='' ){\r\n\t\t\t\t$(\"#g-pagination\").hide();\r\n\t\t\t\t$(\"#div_collectlist ul\").html('');\r\n\t\t\t\t$(\".null-data\").show();\r\n\t\t\t}else{\r\n\t\t\t\t$(\"#g-pagination\").show();\r\n\t\t\t\t$(\"#div_collectlist ul\").html(dataLi);\r\n\t\t\t\t$(\".null-data\").hide();\r\n\t\t\t}\r\n\t    }else{\r\n\r\n\t    }\r\n\t}\r\n\r\n\t//函数\r\n\tfunction getcollectgoodslistAjaxFun(dataObj,Callback){\r\n\t\tif( !ajaxlack ) return; ajaxlack = false;\r\n\t\t$.ajax({\r\n\t        url: \"/goods/service/getcollectgoodslist\",\r\n\t        type: 'POST',\r\n\t        dataType: 'json',\r\n\t        data: dataObj\r\n\t    })\r\n\t    .done(function(data) {\r\n\t        console.log(data);\r\n\t        Callback(data);\r\n\t    })\r\n\t    .fail(function() {\r\n\t        //alert('网络错误！')\r\n\t    })\r\n\t    .always(function() {\r\n\t    \tajaxlack = true;\r\n\t    });\r\n\t}\r\n\r\n\t//删除关注函数\r\n\tfunction delcollectgoodslistAjaxFun(dataObj,Callback){\r\n\t\tif( !ajaxlack ) return; ajaxlack = false;\r\n\t\t$.ajax({\r\n\t        url: \"/goods/service/delcollectgoods\",\r\n\t        type: 'POST',\r\n\t        dataType: 'json',\r\n\t        data: dataObj\r\n\t    })\r\n\t    .done(function(data) {\r\n\t        console.log(data);\r\n\t        Callback(data);\r\n\t    })\r\n\t    .fail(function() {\r\n\t        //alert('网络错误！')\r\n\t    })\r\n\t    .always(function() {\r\n\t    \tajaxlack = true;\r\n\t    });\r\n\t}\r\n\r\n\t// 鼠标放上去效果\r\n\t$(document).on(\"mousemove\", \"#div_collectlist li\",function(){\r\n\t\t$(this).find('.n-info-wrapper01').hide();\r\n\t\t$(this).find('.n-info-wrapper02').show();\r\n\t});\r\n\t// 鼠标移开\r\n\t$(document).on(\"mouseout\", \"#div_collectlist li\",function(){\r\n\t\t$(this).find('.n-info-wrapper01').show();\r\n\t\t$(this).find('.n-info-wrapper02').hide();\r\n\t});\r\n\t// 删除关注\r\n\t$(document).on(\"click\", \".n-btn-del\",function(){\r\n\t\tvar goodsid = $(this).attr(\"goodsid\");\r\n\t\tvar codeID = $(this).attr(\"codeID\");\r\n\t\t$(this).parents('ul').find(\"li\").removeClass(\"delData\");\r\n\t\t$(this).parents('li').addClass(\"delData\");\r\n\t\ttanFun(300,160,'<div class=\"z-popUp z-pop-box\">'\r\n            +'<span class=\"gray3\">确定要删除所选的商品？</span>'\r\n            +'<a href=\"javascript:gotoClick();\" title=\"取消\" class=\"z-btn-cancel\">取消</a>'\r\n            +'<a href=\"javascript:;\" title=\"确定\" goodsid=\"'+goodsid+'\" codeID=\"'+codeID+'\" class=\"z-btn-determine\" id=\"guanzhuDelBtn\">确定</a>'\r\n            +'</div>');\r\n\t});\r\n\t// 删除关注\r\n\t$(document).on(\"click\", \"#guanzhuDelBtn\",function(){\r\n\t\tvar goodsid = $(this).attr(\"goodsid\");\r\n\t\tvar codeID = $(this).attr(\"codeID\");\r\n\t\tvar dataObj = {\r\n\t\t\tgoodsID:goodsid\r\n\t\t}\r\n\t\tdelcollectgoodslistAjaxFun(dataObj,function(data){\r\n\t\t\tgotoClick();\r\n\t\t\tif( data.success ){\r\n\t\t\t\tFailDialog(160,60,'删除成功！',url);\r\n\t\t\t\t// if( $(\"#div_collectlist li\").length<=0 ){\r\n\t\t\t\t// \t$(\".null-data\").show();\r\n\t\t\t\t// }else{\r\n\t\t\t\t// \t$(\".delData\").remove();\r\n\t\t\t\t// }\r\n\t\t\t}else{\r\n\t\t\t\tFailDialog(160,60,'删除失败！');\r\n\t\t\t}\r\n\t\t});\r\n\t});\r\n\r\n\t// 加入购物车\r\n\t$(document).on(\"click\", \".n-pro-add\",function(){\r\n\t\tvar goodsid = $(this).attr(\"goodsid\");\r\n\t\tvar codeID = $(this).attr(\"codeID\");\r\n\t\tvar $em = $(\"#rightCartNum\");\r\n\t\tvar num = parseInt($em.text())+1;\r\n\t\tcartAddFun(codeID,1,function(){\r\n\t\t\tFailDialog(160,60,'添加成功！');\r\n\t\t\t$em.show().html(num);\r\n        });\r\n\t});\r\n}\r\n/*******************************************************关注列表页结束*********************************************/\r\n\r\n// 会员筛选拉下\r\nfunction memberXialaFun(callback){\r\n\tvar thisVal = '全部状态';\r\n\t$(\".u-select-con .select-state a\").on(\"click\",function(){\r\n\t\tvar state = $(this).attr(\"state\");\r\n\t\t$(this).parents('span').find('.gray6').html($(this).text()+'<s class=\"u-personal\"></s>');\r\n\t\tthisVal = $(this).text();\r\n\t\t$(this).parent().hide();\r\n\t\tcallback(state);\r\n\t\t$(\".a-screen li a\").removeClass(\"z-checked\");\r\n\t\tif( state==\"3\"||state==\"4\" ){\r\n\t\t\t$(\".a-screen li:eq(\"+(parseInt(state)-1)+\")\").find('a').addClass(\"z-checked\");\r\n\t\t}else{\r\n\t\t\t$(\".a-screen li:eq(\"+state+\") a\").addClass(\"z-checked\");\r\n\t\t}\r\n\t});\r\n\r\n\t$(\".u-select-con .gray6\").on(\"click\",function(){\r\n\t\tthisVal = '全部状态';\r\n\t\t$(this).html(thisVal+'<s class=\"u-personal\"></s>');\r\n\t\tcallback(0);\r\n\t\t$(\".a-screen li a\").removeClass(\"z-checked\");\r\n\t\t$(\".a-screen li:eq(0) a\").addClass(\"z-checked\");\r\n\t});\r\n\r\n\t$(\".a-screen li\").on(\"click\",function(){\r\n\t\tvar finda = $(this).find(\"a\");\r\n\t\tvar text = finda.attr(\"stateText\");\r\n\t\t$(this).parents(\"ul\").find(\"a\").removeClass(\"z-checked\");\r\n\t\tfinda.addClass(\"z-checked\");\r\n\t\tcallback(finda.attr(\"state\"));\r\n\t\tif( text!=undefined ){\r\n\t\t\t$('.u-select-con .gray6').html(text+'<s class=\"u-personal\"></s>');\r\n\t\t}\r\n\t});\r\n\r\n\t$(\".u-select-con\").hover(function(){\r\n\t\t$(this).find(\".gray6\").html('全部状态<s class=\"u-personal\"></s>');\r\n\t\t$(this).addClass(\"z-checked\");\r\n\t\t$(this).find(\".select-state\").show();\r\n\t},function(){\r\n\t\t$(this).find(\".gray6\").html(thisVal+'<s class=\"u-personal\"></s>');\r\n\t\t$(this).removeClass(\"z-checked\");\r\n\t\t$(this).find(\".select-state\").hide();\r\n\t});\r\n\r\n\t// 日期选择筛选\r\n\t$(\"#a_serach\").on(\"click\",function(){\r\n\t\tvar dpd1 = $(\"#dpd1\").val();\r\n\t\tvar dpd2 = $(\"#dpd2\").val();\r\n\t\tif( timeGetTimeFun(dpd1)>timeGetTimeFun(dpd2) ){\r\n\t\t\tFailDialog(280,60,'开始时间不能大于结束时间！');\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tcallback(11,dpd1,dpd2);\r\n\t\t$(\"#ul_region li a\").removeClass('z-checked');\r\n\t});\r\n}\r\n\r\n\r\n/*******************************************************云购记录**************************************************/\r\nif( pageTrue==\"userbuylist\" ){\r\n\r\n\t// 时间获取\r\n\tvar period1 = $(\"#ul_region li:eq(0) a\").attr(\"period\").split(\"|\");\r\n\tvar period3 = $(\"#ul_region li:eq(1) a\").attr(\"period\").split(\"|\");\r\n\tvar state = 0;\r\n\tvar beginTime = period3[0];\r\n\tvar endTime = period3[1];\r\n\t\r\n\tmemberXialaFun(function(e,begin,end){\r\n\t\tswitch(e){\r\n\t\tcase \"0\": //全部\r\n\t\t\tstate = 0;\r\n\t\t\tbreak;\r\n\t\tcase \"1\": //进行中\r\n\t\t\tstate = 1;\r\n\t\t\tbreak;\r\n\t\tcase \"3\": //已揭晓\r\n\t\t\tstate = 3;\r\n\t\t\tbreak;\r\n\t\tcase \"4\": //已退订\r\n\t\t\tstate = 4;\r\n\t\t\tbreak;\r\n\t\tcase \"9\": //1个月\r\n\t\t\tbeginTime = period1[0];\r\n\t\t\tendTime = period1[1];\r\n\t\t\tbreak;\r\n\t\tcase \"10\":  //3个月\r\n\t\t\tbeginTime = period3[0];\r\n\t\t\tendTime = period3[1];\r\n\t\t\tbreak;\r\n\t\tcase 11:  //选择时间\r\n\t\t\tbeginTime = begin;\r\n\t\t\tendTime = end;\r\n\t\t\tbreak;\r\n\t\t}\r\n\t\tuserbuylistFirstDataFun(1,5,state,beginTime,endTime,'');\r\n\t});\r\n\r\n\tuserbuylistFirstDataFun(1,5,state,beginTime,endTime,'');\r\n\r\n\tfunction userbuylistFirstDataFun(page,limit,state,beginTime,endTime,keyWords){\r\n\t\t$(\"#div_UserBuyList dd, .null-data\").remove();\r\n\t\t$(\"#div_UserBuyList dl\").append('<div class=\"loading-2015\"><em></em></div>');\r\n\t\tvar dataObj = {\r\n\t\t\tpage:page,\r\n\t\t\tlimit:limit,\r\n\t\t\tstate:state,\r\n\t\t\tbeginTime:beginTime,\r\n\t\t\tendTime:endTime,\r\n\t\t\tkeyWords:keyWords\r\n\t\t}\r\n\t\t// 数据加载 第一次\r\n\t\tuserbuylistAjaxFun(dataObj,function(data){\r\n\t\t\tvar total = data.result.total;\r\n\t\t\tuserbuylistAddDataFun(data);\r\n\t\t\t// 分页\r\n\t\t\tPageCreate('#g-pagination',total,limit,1,function(pageNumber){\r\n\t\t\t\tif( total!=null ){ total = null; return; }\r\n\t\t\t\t$(\"#div_UserBuyList dd, .null-data\").remove();\r\n\t\t\t\t$(\"#div_UserBuyList dl\").append('<div class=\"loading-2015\"><em></em></div>');\r\n\t\t\t\tdataObj.page = pageNumber;\r\n\t\t\t\t// 翻页后数据加载\r\n\t\t\t\tuserbuylistAjaxFun(dataObj,function(data){\r\n\t\t\t\t\tuserbuylistAddDataFun(data);\r\n\t\t\t\t});\r\n\t\t    });\r\n\t\t});\r\n\t}\r\n\r\n\t// 数据插入\r\n\tfunction userbuylistAddDataFun(data){\r\n\t\tif( data.success ){\r\n\t    \tvar dataLi = '';\r\n\t    \t$.each(data.result.datas, function(i,item){\r\n\t    \t\tvar buyNum = item.buyNum;//: \"1\"\r\n\t    \t\tvar codeID = item.codeID;//: \"2710789\"\r\n\t    \t\tvar codePeriod = item.codePeriod;//: \"10341\"\r\n\t    \t\tvar codePrice = item.codePrice;//: \"3488.00\"\r\n\t    \t\tvar codeQuantity = item.codeQuantity;//: \"3488\"\r\n\t    \t\tvar codeRTime = item.codeRTime;//: \"2016-01-02 14:39:47.595\"\r\n\t    \t\tvar codeSales = item.codeSales;//: \"3488\"\r\n\t    \t\tvar codeState = item.codeState;//: \"3\"\r\n\t    \t\tvar codeType = item.codeType;//: \"0\"\r\n\t    \t\tvar goodsID = item.goodsID;//: \"21976\"\r\n\t    \t\tvar goodsName = item.goodsName;//: \"苹果（Apple）iPad Air 2 9.7英寸平板电脑 16G WiFi版\"\r\n\t    \t\tvar goodsPic = item.goodsPic;//: \"20141024155736176.jpg\"\r\n\t    \t\tvar refundNum = item.refundNum;//: \"0\"\r\n\t    \t\tvar userName = item.userName;//: \"169257-猪头Q\"\r\n\t    \t\tvar userWeb = item.userWeb;//: \"1012509077\"\r\n\r\n\r\n\t    \t\tif( codeState==\"1\" ){\r\n\t    \t\t\tdataLi += '<dd class=\"\">'\r\n\t\t                +'<span class=\"u-commodity-pic\">'\r\n\t\t                    +'<a target=\"_blank\" href=\"javascript:;\">'\r\n\t\t                        +'<img src=\"'+goodsPic+'\">'\r\n\t\t                        +'<i class=\"u-personal\"></i>'\r\n\t\t                    +'</a>'\r\n\t\t                +'</span>'\r\n\t\t                +'<span class=\"u-commodity-name gray9\">'\r\n\t\t                    +'<h3><a target=\"_blank\" href=\"javascript:;\" class=\"gray3\">(第'+codePeriod+'云)'+goodsName+'</a></h3>'\r\n\t\t                    +'<em>价值：￥'+codePrice+'</em>'\r\n\t\t                    +'<div class=\"g-progress\"><dl class=\"m-progress\"><dt><b style=\"width:'+(buyNum/codeQuantity)*100+'%;\"></b></dt></dl></div>'\r\n\t\t                +'</span>'\r\n\t\t                +'<span class=\"u-select-con\">'\r\n\t\t                \t+'进行中<i class=\"dotting\"></i><br><a href=\"javascript:;\" codeid=\"'+codeID+'\" class=\"z-append\">追加</a>'\r\n\t\t                +'</span>'\r\n\t\t                +'<span class=\"u-buy-num\" codeid=\"'+codeID+'\">'\r\n\t\t                    +'<a href=\"javascript:;\" class=\"gray6\">'+buyNum+'人次</a>'\r\n\t\t                +'</span>'\r\n\t\t                +'<span class=\"u-operation\">'\r\n\t\t                    +'<a target=\"_blank\" href=\"javascript:;\" class=\"z-see-details\">查看所有云购码</a>'\r\n\t\t                +'</span>'\r\n\t\t                +'<span class=\"u-to-share\" goodsid=\"'+goodsID+'\">'\r\n\t\t                    +'<a href=\"javascript:;\">一键分享</a>'\r\n\t\t                +'</span>'\r\n\t\t            +'</dd>';\r\n\t    \t\t}else{\r\n\t    \t\t\tdataLi += '<dd class=\"\"><span class=\"u-commodity-pic\">'\r\n\t                    +'<a target=\"_blank\" href=\"javascript:;\">'\r\n\t                        +'<img src=\"'+goodsPic+'\"><i class=\"u-personal\"></i>'\r\n\t                    +'</a>'\r\n\t                +'</span>'\r\n\t                +'<span class=\"u-commodity-name gray9\">'\r\n\t                    +'<h3><a target=\"_blank\" href=\"javascript:;\" class=\"gray3\">(第'+codePeriod+'云)'+goodsName+'</a></h3>'\r\n\t                    +'<em>价值：￥'+codePrice+'</em>获得者：<a href=\"javascript:;\" class=\"z-winner-gray\" target=\"_blank\">'+userName+'</a>'\r\n\t                +'</span>'\r\n\t                +'<span class=\"u-select-con\"><a href=\"javascript:;\" class=\"gray9\">已揭晓</a></span>'\r\n\t                +'<span class=\"u-buy-num\" codeid=\"'+codeID+'\">'\r\n\t                    +'<a href=\"javascript:;\" class=\"gray6\">'+buyNum+'人次</a>'\r\n\t                +'</span>'\r\n\t                +'<span class=\"u-operation\">'\r\n\t                    +'<a target=\"_blank\" href=\"javascript:;\" class=\"z-see-details\">查看所有云购码</a>'\r\n\t                +'</span></dd>';\r\n\t    \t\t}\r\n\t    \t});\r\n\t\t\t\r\n\t\t\tif( dataLi=='' ){\r\n\t\t\t\t$(\"#g-pagination\").hide();\r\n\t\t\t\t$(\"#div_UserBuyList dd, .loading-2015\").remove();\r\n\t\t\t\t$(\"#div_UserBuyList\").append('<div class=\"null-data\"><b class=\"gth-icon transparent-png\"></b>暂无记录！</div>');\r\n\t\t\t}else{\r\n\t\t\t\t$(\"#g-pagination\").show();\r\n\t\t\t\t$(\".null-data, #div_UserBuyList dd, .loading-2015\").remove();\r\n\t\t\t\t$(\"#div_UserBuyList\").append(dataLi);\r\n\t\t\t}\r\n\t    }else{\r\n\r\n\t    }\r\n\t}\r\n\r\n\t//函数\r\n\tfunction userbuylistAjaxFun(dataObj,Callback){\r\n\t\tif( !ajaxlack ) return; ajaxlack = false;\r\n\t\t$.ajax({\r\n\t        url: \"/order/service/getmembercenterbuymessage\",\r\n\t        type: 'POST',\r\n\t        dataType: 'json',\r\n\t        data: dataObj\r\n\t    })\r\n\t    .done(function(data) {\r\n\t        console.log(data);\r\n\t        Callback(data);\r\n\t    })\r\n\t    .fail(function() {\r\n\t        //alert('网络错误！')\r\n\t    })\r\n\t    .always(function() {\r\n\t    \tajaxlack = true;\r\n\t    });\r\n\t}\r\n}\r\n/*******************************************************云购记录结束*********************************************/\r\n\r\n/*******************************************************获得的商品记录**************************************************/\r\nif( pageTrue==\"orderlist\" ){\r\n\r\n\t// 时间获取\r\n\tvar period1 = $(\"#ul_region li:eq(0) a\").attr(\"period\").split(\"|\");\r\n\tvar period3 = $(\"#ul_region li:eq(1) a\").attr(\"period\").split(\"|\");\r\n\tvar state = 0;\r\n\tvar beginTime = period3[0];\r\n\tvar endTime = period3[1];\r\n\t\r\n\tmemberXialaFun(function(e,begin,end){\r\n\t\tswitch(e){\r\n\t\tcase \"0\": //全部\r\n\t\t\tstate = 0;\r\n\t\t\tbreak;\r\n\t\tcase \"1\": //待确认的地址\r\n\t\t\tstate = 1;\r\n\t\t\tbreak;\r\n\t\tcase \"2\": //待发货\r\n\t\t\tstate = 2;\r\n\t\t\tbreak;\r\n\t\tcase \"3\": //待收货\r\n\t\t\tstate = 3;\r\n\t\t\tbreak;\r\n\t\tcase \"4\": //待晒单\r\n\t\t\tstate = 4;\r\n\t\t\tbreak;\r\n\t\tcase \"9\": //1个月\r\n\t\t\tbeginTime = period1[0];\r\n\t\t\tendTime = period1[1];\r\n\t\t\tbreak;\r\n\t\tcase \"10\":  //3个月\r\n\t\t\tbeginTime = period3[0];\r\n\t\t\tendTime = period3[1];\r\n\t\t\tbreak;\r\n\t\tcase 11:  //选择时间\r\n\t\t\tbeginTime = begin;\r\n\t\t\tendTime = end;\r\n\t\t\tbreak;\r\n\t\t}\r\n\t\torderlistFirstDataFun(1,5,state,beginTime,endTime);\r\n\t});\r\n\r\n\torderlistFirstDataFun(1,5,state,beginTime,endTime);\r\n\r\n\tfunction orderlistFirstDataFun(page,limit,state,beginTime,endTime){\r\n\t\t$(\"#div_OrderList dd, .loading-2015, .null-data\").remove();\r\n\t\t$(\"#div_OrderList\").append('<div class=\"loading-2015\"><em></em></div>');\r\n\t\tvar dataObj = {\r\n\t\t\tpage:page,\r\n\t\t\tlimit:limit,\r\n\t\t\torderState:state,\r\n\t\t\tbeginTime:beginTime,\r\n\t\t\tendTime:endTime\r\n\t\t}\r\n\t\t// 数据加载 第一次\r\n\t\torderlistAjaxFun(dataObj,function(data){\r\n\t\t\tvar total = data.result.total;\r\n\t\t\torderlistAddDataFun(data);\r\n\t\t\t// 分页\r\n\t\t\tPageCreate('#g-pagination',total,limit,1,function(pageNumber){\r\n\t\t\t\tif( total!=null ){ total = null; return; }\r\n\t\t\t\tdataObj.page = pageNumber;\r\n\t\t\t\t// 翻页后数据加载\r\n\t\t\t\t$(\"#div_OrderList dd, .loading-2015\").remove();\r\n\t\t\t\t$(\"#div_OrderList dl\").append('<div class=\"loading-2015\"><em></em></div>');\r\n\t\t\t\torderlistAjaxFun(dataObj,function(data){\r\n\t\t\t\t\torderlistAddDataFun(data);\r\n\t\t\t\t});\r\n\t\t    });\r\n\t\t});\r\n\t}\r\n\r\n\t// 数据插入\r\n\tfunction orderlistAddDataFun(data){\r\n\t\tif( data.success ){\r\n\t    \tvar dataLi = '';\r\n\t    \t$.each(data.result.datas, function(i,item){\r\n\t    \t\tvar IsPostSingle = item.IsPostSingle;//: \"0\"\r\n\t\t\t\tvar actAddTime = item.actAddTime;//: \"20160101\"\r\n\t\t\t\tvar buyNum = item.buyNum;//: 1\r\n\t\t\t\tvar codeID = item.codeID;//: \"56861a56887c22014a8b4684\"\r\n\t\t\t\tvar codePeriod = item.codePeriod;//: \"1\"\r\n\t\t\t\tvar codePrice = item.codePrice;//: \"1.00\"\r\n\t\t\t\tvar codeRNO = item.codeRNO;//: \"10000002\"\r\n\t\t\t\tvar codeRTime = item.codeRTime;//: \"2016-01-01 15:49:30.747\"\r\n\t\t\t\tvar codeType = item.codeType;//: 0\r\n\t\t\t\tvar goodsID = item.goodsID;//: \"563728c07f50eab004000404\"\r\n\t\t\t\tvar goodsName = item.goodsName;//: \"【周黑鸭旗舰店_锁鲜装】盒装鸭翅190g*2 武汉特产官方食品零食\"\r\n\t\t\t\tvar goodsPic = item.goodsPic;//: \"1_161020d50ftb1ztcx___0-item_pic.jpg\"\r\n\t\t\t\tvar orderActDesc = item.orderActDesc;//: \"\"\r\n\t\t\t\tvar orderAddTime = item.orderAddTime;//: \"2016-01-01 15:49:30\"\r\n\t\t\t\tvar orderNo = item.orderNo;//: \"\"\r\n\t\t\t\tvar orderState = item.orderState;//: \"0\"\r\n\t\t\t\tvar orderType = item.orderType;//: 0\r\n\t\t\t\tvar ordersaleprice = item.ordersaleprice;//: \"1.00\"\r\n\t\t\t\tvar btnHtml = '';\r\n\t\t\t\tvar btnText = '<a target=\"_blank\" href=\"/member/index/orderdetail?orderno='+orderNo+'\" class=\"z-see-details\">查看详情</a>';\r\n\r\n\t\t\t\tswitch(orderState){\r\n\t\t\t\t\tcase \"1\":\r\n\t\t\t\t\tbtnHtml = '<a href=\"/member/index/orderdetail?orderno='+orderNo+'\" class=\"z-perfect-address\">完善收货地址</a>'+btnText;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"2\":\r\n\t\t\t\t\tbtnHtml = '<a href=\"/member/index/orderdetail?orderno='+orderNo+'\" class=\"z-gray-button z-wait\">待发货</a>'+btnText;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"3\":\r\n\t\t\t\t\tbtnHtml = '<a href=\"/member/index/orderdetail?orderno='+orderNo+'\" class=\"z-determine\">确认收货</a>'+btnText;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"4\":\r\n\t\t\t\t\tbtnHtml = '<a href=\"/member/index/orderdetail?orderno='+orderNo+'\" class=\"z-gray-button z-wait\">已确认收货</a>'+btnText;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"10\":\r\n\t\t\t\t\tbtnHtml = '<a href=\"/member/index/orderdetail?orderno='+orderNo+'\" class=\"z-determine\">晒单赢福分</a>';\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"11\":\r\n\t\t\t\t\tbtnHtml = '<a href=\"javascript:;\" class=\"z-gray-button z-wait\">已取消</a>';\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\r\n\t    \t\tdataLi += '<dd class=\"has-announced\"><span class=\"u-commodity-pic\">'\r\n\t                    +'<a target=\"_blank\" href=\"/yungou/lottery/detail?id='+codeID+'\"><img src=\"'+goodsPic+'\"><i class=\"u-personal\"></i></a>'\r\n\t                +'</span>'\r\n\t                +'<span class=\"u-commodity-name gray9\"><h3><a target=\"_blank\" href=\"/yungou/lottery/detail?id='+codeID+'\" class=\"gray3\">'+goodsName+'</a></h3>价值：￥'+ordersaleprice+'<br />幸运云购码：'+codeRNO+'<br/>揭晓时间：'+codeRTime+'</span>'\r\n\t                +'<span class=\"u-order-number\">'+orderNo+'</span>'\r\n\t                +'<span class=\"u-operation\">'\r\n\t\t                +btnHtml\r\n\t                +'</span>'\r\n\t            +'</dd>';\r\n\t    \t});\r\n\t\t\t\r\n\t\t\tif( dataLi=='' ){\r\n\t\t\t\t$(\"#g-pagination\").hide();\r\n\t\t\t\t$(\".loading-2015\").remove();\r\n\t\t\t\t$(\"#div_OrderList\").append('<div class=\"null-data\"><b class=\"gth-icon transparent-png\"></b>暂无记录！</div>');\r\n\t\t\t}else{\r\n\t\t\t\t$(\".loading-2015\").remove();\r\n\t\t\t\t$(\"#g-pagination\").show();\r\n\t\t\t\t$(\"#div_OrderList dl\").html('<dt><span class=\"u-commodity-pic\">商品图片</span><span class=\"u-commodity-name\">商品名称</span><span class=\"u-order-number\">订单号</span><span class=\"u-operation\">操作</span></dt>'+dataLi);\r\n\t\t\t\t$(\".null-data\").hide();\r\n\t\t\t}\r\n\t    }else{\r\n\r\n\t    }\r\n\t}\r\n\r\n\t//函数\r\n\tfunction orderlistAjaxFun(dataObj,Callback){\r\n\t\tif( !ajaxlack ) return; ajaxlack = false;\r\n\t\t$.ajax({\r\n\t        url: \"/order/service/getmembercenteruserwinlist\",\r\n\t        type: 'POST',\r\n\t        dataType: 'json',\r\n\t        data: dataObj\r\n\t    })\r\n\t    .done(function(data) {\r\n\t        console.log(data);\r\n\t        Callback(data);\r\n\t    })\r\n\t    .fail(function() {\r\n\t        //alert('网络错误！')\r\n\t    })\r\n\t    .always(function() {\r\n\t    \tajaxlack = true;\r\n\t    });\r\n\t}\r\n}\r\n/*******************************************************获得的商品记录结束*********************************************/\r\n\r\n/*******************************************************晒单管理**************************************************/\r\nif( pageTrue==\"postsinglelist\" ){\r\n\tmemberXialaFun(function(e){\r\n\t\tpostsinglelistFirstDataFun(1,8,e);\r\n\t});\r\n\r\n\tpostsinglelistFirstDataFun(1,8,'');\r\n\r\n\tfunction postsinglelistFirstDataFun(page,limit,state){\r\n\t\tvar dataObj = {\r\n\t\t\tpage:page,\r\n\t\t\tlimit:limit,\r\n\t\t\tstate:state\r\n\t\t}\r\n\t\t// 数据加载 第一次\r\n\t\tpostsinglelistAjaxFun(dataObj,function(data){\r\n\t\t\tvar total = data.result.total;\r\n\t\t\tpostsinglelistAddDataFun(data);\r\n\t\t\t// 分页\r\n\t\t\tPageCreate('#g-pagination',total,limit,1,function(pageNumber){\r\n\t\t\t\tif( total!=null ){ total = null; return; }\r\n\t\t\t\tdataObj.page = pageNumber;\r\n\t\t\t\t// 翻页后数据加载\r\n\t\t\t\tpostsinglelistAjaxFun(dataObj,function(data){\r\n\t\t\t\t\tpostsinglelistAddDataFun(data);\r\n\t\t\t\t});\r\n\t\t    });\r\n\t\t});\r\n\t}\r\n\r\n\t// 数据插入\r\n\tfunction postsinglelistAddDataFun(data){\r\n\t\tif( data.success ){\r\n\t    \tvar dataLi = '';\r\n\t    \t$(\"#ul_state li:eq(1) i\").html(data.result.postCount);\r\n\t    \t$(\"#ul_state li:eq(2) i\").html(data.result.unPostCount);\r\n\t    \t$.each(data.result.datas, function(i,item){\r\n\t    \t\tvar codeID = item.codeID;// : \"56888c43887c22044a8b45e0\"\r\n\t    \t\tvar codePeriod = item.codePeriod;// : \"1\"\r\n\t    \t\tvar codePrice = item.codePrice;// : \"2.00\"\r\n\t    \t\tvar codeRNO = item.codeRNO;// : \"10000001\"\r\n\t    \t\tvar codeRTime = item.codeRTime;// : \"2016-01-03 10:55:48.756\"\r\n\t    \t\tvar codeType = item.codeType;// : 0\r\n\t    \t\tvar goodsID = item.goodsID;// : \"563728c07f50eab004000404\"\r\n\t    \t\tvar goodsPic = item.goodsPic;// : \"/upload/goods/1/1_161020d50ftb1ztcx___0-item_pic.jpg\"\r\n\t    \t\tvar goodsSName = item.goodsSName;// : \"【周黑鸭旗舰店_锁鲜装】盒装鸭翅190g*2 武汉特产官方食品零食\"\r\n\t    \t\tvar postContent = item.postContent;// : \"\"\r\n\t    \t\tvar postFailReason = item.postFailReason;// : \"\"\r\n\t    \t\tvar postId = item.postId;// : \"5688926f887c22054a8b45e3\"\r\n\t    \t\tvar postPic = item.postPic.split(',')[0];// : \"\"\r\n\t    \t\tvar postPoint = item.postPoint;// : \"0\"\r\n\t    \t\tvar postState = item.postState;// : \"-1\"\r\n\t    \t\tvar postTime = item.postTime;// : \"-0001-11-30 00:00:00\"\r\n\t    \t\tvar postTitle = item.postTitle;// : \"\"\r\n\t    \t\tvar text = '';\r\n\t    \t\tvar btnText = '';\r\n\r\n\t    \t\tif( postState==0 ){\r\n\t    \t\t\ttext = '<span class=\"u-select-con\">审核中</span>';\r\n\t    \t\t\tbtnText = '<a target=\"_blank\" href=\"/member/index/postsingleadd?goods_id='+codeID+'\" class=\"z-determine\">修改</a>';\r\n\t    \t\t}\r\n\t    \t\tif( postState==1 ){\r\n\t    \t\t\ttext = '<span class=\"u-select-con orange\">未通过<br><em>您的晒单内容涉及违规信息<br>请重新修改处理</em></span>';\r\n\t    \t\t\tbtnText = '<a target=\"_blank\" href=\"/member/index/postsingleadd?goods_id='+codeID+'\" class=\"z-determine\">修改</a>';\r\n\t    \t\t}\r\n\t    \t\tif( postState==2 ){\r\n\t    \t\t\ttext = '<span class=\"u-select-con green\">审核通过<br><em class=\"gray9\">奖励'+postPoint+'福分</em></span>';\r\n\t    \t\t\tbtnText = '<a target=\"_blank\" href=\"javascript:;\" class=\"z-see-details\">查看详情</a>';\r\n\t    \t\t}\r\n\r\n\t    \t\tif( postState==-1 ){\r\n\t    \t\t\tdataLi += '<dd>'\r\n\t\t    \t\t\t+'<span class=\"u-commodity-pic\">'\r\n\t\t                    +'<a target=\"_blank\" href=\"javascript:;\"><img src=\"'+goodsPic+'\"><i class=\"u-personal\"></i></a>'\r\n\t\t                +'</span>'\r\n\t\t                +'<span class=\"u-commodity-name gray9\">'\r\n\t\t                    +'<h3><a target=\"_blank\" href=\"javascript:;\" class=\"gray3\">'+goodsSName+'</a></h3>价值：￥'+codePrice+'<br />幸运云购码：'+codeRNO+'<br/>揭晓时间：'+codeRTime\r\n\t\t                +'</span>'\r\n\t\t                +'<span class=\"u-select-con\">暂未晒单</span>'\r\n\t\t                +'<span class=\"u-operation\"><a target=\"_blank\" href=\"/member/index/postsingleadd?goods_id='+codeID+'\" class=\"z-perfect-address\">立即晒单</a></span>'\r\n\t\t            +'</dd>';\r\n\t    \t\t}else{\r\n\t    \t\t\tdataLi = '<dd>'\r\n\t\t                +'<span class=\"u-commodity-pic\">'\r\n\t\t                    +'<a target=\"_blank\" href=\"javascript:;\">'\r\n\t\t                        +'<img src=\"'+postPic+'\">'\r\n\t\t                        +'<i class=\"u-personal\"></i>'\r\n\t\t                    +'</a>'\r\n\t\t                +'</span>'\r\n\t\t                +'<span class=\"u-commodity-name gray9\">'\r\n\t\t                    +'<div class=\"f-already clrfix\">'\r\n\t\t                        +'<h3 class=\"fl\"><a target=\"_blank\" href=\"javascript:;\" class=\"gray3\">'+postTitle+'</a></h3>'\r\n\t\t                        +'<cite class=\"fl\">'+postTime+'</cite>'\r\n\t\t                    +'</div>'\r\n\t\t                    +'<p class=\"gray9\">'+postContent+'</p>'\r\n\t\t                +'</span>'+text\r\n\t\t                +'<span class=\"u-operation\">'\r\n\t\t                    +btnText\r\n\t\t                +'</span>'\r\n\t\t            +'</dd>';\r\n\t    \t\t}\r\n\t    \t\t\r\n\t    \t});\r\n\t\t\t\r\n\t\t\tif( dataLi=='' ){\r\n\t\t\t\t$(\"#g-pagination\").hide();\r\n\t\t\t\t$(\"#div_PostList dd, .null-data\").remove();\r\n\t\t\t\t$(\"#div_PostList dl\").append('<div class=\"null-data\"><b class=\"gth-icon transparent-png\"></b>暂无记录！</div>');\r\n\t\t\t}else{\r\n\t\t\t\t$(\"#div_PostList dd\").remove();\r\n\t\t\t\t$(\"#g-pagination\").show();\r\n\t\t\t\t$(\"#div_PostList dl\").append(dataLi);\r\n\t\t\t\t$(\".null-data\").remove();\r\n\t\t\t}\r\n\t    }else{\r\n\r\n\t    }\r\n\t}\r\n\r\n\t//函数\r\n\tfunction postsinglelistAjaxFun(dataObj,Callback){\r\n\t\tif( !ajaxlack ) return; ajaxlack = false;\r\n\t\t$.ajax({\r\n\t        url: \"/post/service/getmembercenteruserpostsingle\",\r\n\t        type: 'POST',\r\n\t        dataType: 'json',\r\n\t        data: dataObj\r\n\t    })\r\n\t    .done(function(data) {\r\n\t        console.log(data);\r\n\t        Callback(data);\r\n\t    })\r\n\t    .fail(function() {\r\n\t        //alert('网络错误！')\r\n\t    })\r\n\t    .always(function() {\r\n\t    \tajaxlack = true;\r\n\t    });\r\n\t}\r\n}\r\n/*******************************************************晒单管理结束*********************************************/\r\n\r\n/*******************************************************我的福分**************************************************/\r\nif( pageTrue==\"memberpoints\" ){\r\n\tvar fen = $(\".yu\").text();\r\n\tvar rmb = eval($(\".yu\").attr(\"rmb\"));\r\n\tif( rmb<1 ){\r\n\t\t$(\"#a_applycz\").hide();\r\n\t}\r\n\t// 福分充值账户\r\n\t$(\"#a_applycz\").on(\"click\",function(){\r\n\t\ttanFun(420,262,'<div class=\"cz-wrap\">'\r\n        +'<div class=\"cz-inner\">'\r\n            +'<div class=\"cz-title\">充值到我的云购账户</div>'\r\n                +'<ul class=\"cz-list\">'\r\n                    +'<li>'\r\n                        +'<span class=\"cz-label\">可用福分：</span>'\r\n                        +'<span class=\"cz-txt\"><ins class=\"orange\">'+fen+'</ins>&nbsp;&nbsp;&nbsp;可充值'+rmb+'元，100福分=1元</span>'\r\n                    +'</li>'\r\n                    +'<li>'\r\n                        +'<span class=\"cz-label gray9\">充值金额：</span>'\r\n                        +'<span class=\"cz-txt\"><b><input id=\"txtAmount\" class=\"cz-value\" maxlength=\"7\" value=\"\">&nbsp;&nbsp;元</b>&nbsp;&nbsp;&nbsp;以整数为单位<p id=\"p_tips\" style=\"color:#f60\"></p></span>'\r\n                    +'</li>'\r\n                    +'<li>'\r\n                        +'<span class=\"cz-label\"></span>'\r\n                        +'<span class=\"cz-txt\"><a id=\"btnApply\" href=\"javascript:;\" class=\"submit-btn\">确定充值</a></span>'\r\n                    +'</li>'\r\n                +'</ul><a id=\"a_close\" href=\"javascript:gotoClick();\" class=\"close-wrap\"><span class=\"close-btn\"></span></a>'\r\n            +'</div>'\r\n        +'</div>');\r\n\t});\r\n\r\n\t$(document).on(\"click\",\"#btnApply\",function(){\r\n\t\tvar  predeposit = $(\"#txtAmount\").val();\r\n\t\tif( predeposit>rmb ){\r\n\t\t\t$(\"#p_tips\").html(\"福分不够!\");\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tvar re = /^(?:0|[1-9][0-9]?|10000000)$/;\r\n\t    if( !re.test(predeposit) ){\r\n\t        $(\"#p_tips\").html(\"只允许输入整数!\");\r\n\t        return false;\r\n\t    }\r\n\t    if( predeposit<1 ){\r\n\t        $(\"#p_tips\").html(\"输入的数不能小于1\");\r\n\t        return false;\r\n\t    }\r\n\t\tif( !ajaxlack ) return; ajaxlack = false;\r\n\t\t$(\"#p_tips\").html(\"\");\r\n\t\t$.ajax({\r\n\t        url: \"/points/service/rechargepredeposit\",\r\n\t        type: 'POST',\r\n\t        dataType: 'json',\r\n\t        data: { predeposit:predeposit }\r\n\t    })\r\n\t    .done(function(data) {\r\n\t        console.log(data);\r\n\t        if( data.success ){\r\n\t        \tFailDialog(162,60,\"充值成功！\",'/member/index/userbalance');\r\n\t        }else{\r\n\t        \t$(\"#p_tips\").html(data.error_msg);\r\n\t        }\r\n\t    })\r\n\t    .fail(function() {\r\n\t        //alert('网络错误！')\r\n\t    })\r\n\t    .always(function() {\r\n\t    \tajaxlack = true;\r\n\t    });\r\n\t});\r\n\r\n\r\n\r\n\t// 时间获取\r\n\tvar period1 = $(\"#ul_region li:eq(0) a\").attr(\"period\").split(\"|\");\r\n\tvar period3 = $(\"#ul_region li:eq(1) a\").attr(\"period\").split(\"|\");\r\n\tvar beginTime = period3[0];\r\n\tvar endTime = period3[1];\r\n\t\r\n\tmemberXialaFun(function(e,begin,end){\r\n\t\tswitch(e){\r\n\t\tcase \"9\": //1个月\r\n\t\t\tbeginTime = period1[0];\r\n\t\t\tendTime = period1[1];\r\n\t\t\tbreak;\r\n\t\tcase \"10\":  //3个月\r\n\t\t\tbeginTime = period3[0];\r\n\t\t\tendTime = period3[1];\r\n\t\t\tbreak;\r\n\t\tcase 11:  //选择时间\r\n\t\t\tbeginTime = begin;\r\n\t\t\tendTime = end;\r\n\t\t\tbreak;\r\n\t\t}\r\n\t\tgetuserpointsdetaillistFirstDataFun(1,10,beginTime,endTime);\r\n\t});\r\n\r\n\tgetuserpointsdetaillistFirstDataFun(1,10,beginTime,endTime);\r\n\r\n\tfunction getuserpointsdetaillistFirstDataFun(page,limit,beginTime,endTime){\r\n\t\t$(\"#ul_points\").html('');\r\n\t\t$(\"#g-pagination\").hide();\r\n\t\t$(\"#ul_points\").html('<div class=\"loading-2015\"><em></em></div>');\r\n\t\tvar dataObj = {\r\n\t\t\tpage:page,\r\n\t\t\tlimit:limit,\r\n\t\t\tbeginTime:beginTime,\r\n\t\t\tendTime:endTime\r\n\t\t}\r\n\t\t// 数据加载 第一次\r\n\t\tgetuserpointsdetaillistAjaxFun(dataObj,function(data){\r\n\t\t\tvar total = data.result.total;\r\n\t\t\tgetuserpointsdetaillistAddDataFun(data);\r\n\t\t\t// 分页\r\n\t\t\tPageCreate('#g-pagination',total,limit,1,function(pageNumber){\r\n\t\t\t\tif( total!=null ){ total = null; return; }\r\n\t\t\t\tdataObj.page = pageNumber;\r\n\t\t\t\t// 翻页后数据加载\r\n\t\t\t\t$(\"#ul_points\").html('');\r\n\t\t\t\t$(\".null-data, #g-pagination\").hide();\r\n\t\t\t\t$(\"#ul_points\").append('<div class=\"loading-2015\"><em></em></div>');\r\n\t\t\t\tgetuserpointsdetaillistAjaxFun(dataObj,function(data){\r\n\t\t\t\t\tgetuserpointsdetaillistAddDataFun(data);\r\n\t\t\t\t});\r\n\t\t    });\r\n\t\t});\r\n\t}\r\n\r\n\t// 数据插入\r\n\tfunction getuserpointsdetaillistAddDataFun(data){\r\n\t\tif( data.success ){\r\n\t    \tvar dataLi = '';\r\n\t    \t$.each(data.result.datas, function(i,item){\r\n\t    \t\tvar logDescript = item.logDescript;//: \"云购商品编码(2710789)福分抵扣\"\r\n\t\t\t\tvar logPointNum = item.logPointNum;//: \"-100\";\r\n\t\t\t\tvar logTime = item.logTime;//: \"2016.01.02 14:35:42\"\r\n\t\t\t\tvar className = (eval(logPointNum)>0 ? 'add' : \"mius\");\r\n\t\t\t\tdataLi += '<li><span class=\"time\">'+logTime+'</span><span class=\"order '+className+'\"><em>'+logPointNum+'</em></span><span class=\"protail\">'+logDescript+'</span></li>';\t    \t\t\r\n\t    \t});\r\n\t\t\t\r\n\t\t\tif( dataLi=='' ){\r\n\t\t\t\t$(\"#g-pagination\").hide();\r\n\t\t\t\t$(\"#ul_points li, .loading-2015\").remove();\r\n\t\t\t\t$(\"#ul_points\").html('<div class=\"null-data\" style=\"margin-top: 130px;\"><b class=\"gth-icon transparent-png\"></b>暂无记录！</div>');\r\n\t\t\t}else{\r\n\t\t\t\t$(\"#g-pagination\").show();\r\n\t\t\t\t$(\"#ul_points li, .null-data, .loading-2015\").remove();\r\n\t\t\t\t$(\"#ul_points\").html(dataLi);\r\n\t\t\t}\r\n\t    }else{\r\n\r\n\t    }\r\n\t}\r\n\r\n\t//函数\r\n\tfunction getuserpointsdetaillistAjaxFun(dataObj,Callback){\r\n\t\tif( !ajaxlack ) return; ajaxlack = false;\r\n\t\t$.ajax({\r\n\t        url: \"/points/service/getuserpointsdetaillist\",\r\n\t        type: 'POST',\r\n\t        dataType: 'json',\r\n\t        data: dataObj\r\n\t    })\r\n\t    .done(function(data) {\r\n\t        console.log(data);\r\n\t        Callback(data);\r\n\t    })\r\n\t    .fail(function() {\r\n\t        //alert('网络错误！')\r\n\t    })\r\n\t    .always(function() {\r\n\t    \tajaxlack = true;\r\n\t    });\r\n\t}\r\n}\r\n/*******************************************************我的福分结束*********************************************/\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/*******************************************************常用设置**************************************************/\r\nif( pageTrue==\"noticesettings\" ){\r\n\t$(\"#btnSave\").on(\"click\",function(){\r\n    \tvar ckSysMsg = $(\"#ckSysMsg\").find(\"input\").val();\r\n    \tvar ckWxMail = $(\"#ckWxMail\").find(\"input\").val();\r\n    \tvar dataObj = {\r\n    \t\tsysMsgSet:ckSysMsg,\r\n    \t\twxMailSet:ckWxMail\r\n    \t}\r\n\t\tif( !ajaxlack ) return; ajaxlack = false;\r\n\t\t$.ajax({\r\n\t        url: \"/member/service/membercenternoticeset\",\r\n\t        type: 'POST',\r\n\t        dataType: 'json',\r\n\t        data: dataObj\r\n\t    })\r\n\t    .done(function(data) {\r\n\t        console.log(data);\r\n\t        if( data.success ){\r\n\t        \tFailDialog(162,60,\"修改成功\",url);\r\n\t        }else{\r\n\t        \tFailDialog(162,60,\"修改失败\");\r\n\t        }\r\n\t    })\r\n\t    .fail(function() {\r\n\t        //alert('网络错误！')\r\n\t    })\r\n\t    .always(function() {\r\n\t    \tajaxlack = true;\r\n\t    });\r\n\t});\r\n}\r\n/*******************************************************常用设置结束*********************************************/\r\n\r\n/*******************************************************隐私设置************************************************/\r\nif( pageTrue==\"privacysettings\" ){\r\n\t//http://webcms.didv.cn/member/service/membercenterupdateprivset?msgSet=1&areaSet=1&searchSet=1&buySet=1&rafSet=1&postSet=1&buyShowNum=1&rafShowNum=1&postShowNum=1\r\n\t$(\"#btnSaveSettings\").on(\"click\",function(){\r\n    \tvar msgSet = $(\"#MsgVal .current\").attr(\"value\");\r\n    \tvar areaSet = $(\"#AreaVal .current\").attr(\"value\");\r\n    \tvar searchSet = $(\"#SearchVal .current\").attr(\"value\");\r\n    \tvar buySet = 0;\r\n    \tvar\tbuyShowNum = 0;\r\n    \tvar\trafSet = 0;\r\n    \tvar\trafShowNum = 0;\r\n    \tvar\tpostSet = 0;\r\n    \tvar\tpostShowNum = 0;\r\n\r\n    \tvar BuyVal = $(\"#BuyVal .current\").siblings(\"span\").find(\".current\").attr(\"value\");\r\n    \tconsole.log(BuyVal);\r\n    \tif( BuyVal==0 ){\r\n    \t\tbuySet = 0;\r\n    \t\tbuyShowNum = 0;\r\n    \t}else if( BuyVal==1 ){\r\n    \t\tbuySet = 0;\r\n    \t\tbuyShowNum = $(\"#buyShowOnlyVal\").val();\r\n    \t}else if( BuyVal==2 ){\r\n    \t\tbuySet = 1;\r\n    \t\tbuyShowNum = 0;\r\n    \t}else if( BuyVal==3 ){\r\n    \t\tbuySet = 1;\r\n    \t\tbuyShowNum = $(\"#buyFriendOnlyVal\").val();\r\n    \t}else if( BuyVal==undefined ){\r\n    \t\tbuySet = 2;\r\n    \t\tbuyShowNum = 0;\r\n    \t}\r\n\r\n    \tif( buyShowNum==\"\" ){\r\n    \t\tbuyShowNum = 10;\r\n    \t}\r\n\r\n    \tvar rafShowVal = $(\"#rafShowVal .current\").siblings(\"span\").find(\".current\").attr(\"value\");\r\n    \tconsole.log(rafShowVal);\r\n    \tif( rafShowVal==0 ){\r\n    \t\trafSet = 0;\r\n    \t\trafShowNum = 0;\r\n    \t}else if( rafShowVal==1 ){\r\n    \t\trafSet = 0;\r\n    \t\trafShowNum = $(\"#rafShowOnlyVal\").val();\r\n    \t}else if( rafShowVal==2 ){\r\n    \t\trafSet = 1;\r\n    \t\trafShowNum = 0;\r\n    \t}else if( rafShowVal==3 ){\r\n    \t\trafSet = 1;\r\n    \t\trafShowNum = $(\"#rafFriendOnlyVal\").val();\r\n    \t}else if( rafShowVal==undefined ){\r\n    \t\trafSet = 2;\r\n    \t\trafShowNum = 0;\r\n    \t}\r\n\r\n    \tif( buyShowNum==\"\" ){\r\n    \t\trafShowNum = 10;\r\n    \t}\r\n\r\n    \tvar postShowVal = $(\"#postShowVal .current\").siblings(\"span\").find(\".current\").attr(\"value\");\r\n    \tconsole.log(postShowVal);\r\n    \tif( postShowVal==0 ){\r\n    \t\tpostSet = 0;\r\n    \t\tpostShowNum = 0;\r\n    \t}else if( postShowVal==1 ){\r\n    \t\tpostSet = 0;\r\n    \t\tpostShowNum = $(\"#postShowOnlyVal\").val();\r\n    \t}else if( postShowVal==2 ){\r\n    \t\tpostSet = 1;\r\n    \t\tpostShowNum = 0;\r\n    \t}else if( postShowVal==3 ){\r\n    \t\tpostSet = 1;\r\n    \t\tpostShowNum = $(\"#postFriendOnlyVal\").val();\r\n    \t}else if( postShowVal==undefined ){\r\n    \t\tpostSet = 2;\r\n    \t\tpostShowNum = 0;\r\n    \t}\r\n\r\n    \tif( postShowNum==\"\" ){\r\n    \t\tpostShowNum = 10;\r\n    \t}\r\n\r\n    \tvar dataObj = {\r\n    \t\tmsgSet:msgSet,\r\n    \t\tareaSet:areaSet,\r\n    \t\tsearchSet:searchSet,\r\n    \t\tbuySet:buySet,\r\n    \t\tbuyShowNum:buyShowNum,\r\n    \t\trafSet:rafSet,\r\n    \t\trafShowNum:rafShowNum,\r\n    \t\tpostSet:postSet,\r\n    \t\tpostShowNum:postShowNum\r\n    \t}\r\n\t\tif( !ajaxlack ) return; ajaxlack = false;\r\n\t\t$.ajax({\r\n\t        url: \"/member/service/membercenterupdateprivset\",\r\n\t        type: 'POST',\r\n\t        dataType: 'json',\r\n\t        data: dataObj\r\n\t    })\r\n\t    .done(function(data) {\r\n\t        console.log(data);\r\n\t        if( data.success ){\r\n\t        \tFailDialog(162,60,\"修改成功\",url);\r\n\t        }else{\r\n\t        \tFailDialog(162,60,\"修改失败\");\r\n\t        }\r\n\t    })\r\n\t    .fail(function() {\r\n\t        //alert('网络错误！')\r\n\t    })\r\n\t    .always(function() {\r\n\t    \tajaxlack = true;\r\n\t    });\r\n\t});\r\n}\r\n/*******************************************************隐私设置结束******************************************/\r\n\r\n/*******************************************************账户安全********************************************/\r\nif( pageTrue==\"security\" ){\r\n\t// 登录密码保护\r\n\t$(\"#btnSetWxMsg\").on(\"keyup\", function(){\r\n\t\t\r\n\t});\t\t\r\n\r\n\twindow.checkingokFun = function(){\r\n\t\tsetIntervalFun(10,function(_TIME){\r\n    \t\t$(\"#spanNum\").html(_TIME);\r\n    \t\tif( _TIME==0 ){\r\n    \t\t\twindow.location.href = '/member/security/index';\r\n    \t\t}\r\n    \t});\r\n\t}\r\n\r\n\t// 登录保护 开启\r\n\t$(\"#btnSetWxMsg\").on(\"click\",function(){\r\n\t\ttanFun(282,146,'<div class=\"z-pop-box clrfix\"><span class=\"gray3\">您确定要开启登录提醒吗？</span><a id=\"btn01\" href=\"javascript:;\" onclick=\"gotoClick()\" title=\"取消\" class=\"z-btn-cancel\">取消</a><a id=\"setlogintipOK\" href=\"javascript:;\" title=\"确定\" class=\"z-btn-determine\">确定</a></div>');\r\n\t});\r\n\t$(document).on(\"click\",\"#setlogintipOK\",function(){\r\n\t\tsetlogintipFun(1);\r\n\t});\r\n\r\n\r\n\t// 登录保护 关闭\r\n\t$(\"#btnCloseWxMsg\").on(\"click\",function(){\r\n\t\ttanFun(282,146,'<div class=\"z-pop-box clrfix\"><span class=\"gray3\">您确定要关闭登录提醒吗？</span><a id=\"btn01\" href=\"javascript:;\" onclick=\"gotoClick()\" title=\"取消\" class=\"z-btn-cancel\">取消</a><a id=\"setlogintipNo\" href=\"javascript:;\" title=\"确定\" class=\"z-btn-determine\">确定</a></div>')\r\n\t});\r\n\t$(document).on(\"click\",\"#setlogintipNo\",function(){\r\n\t\tsetlogintipFun(0);\r\n\t});\r\n\r\n\tfunction setlogintipFun(is_open){\r\n\t    $.ajax({\r\n\t        url: '/member/service/setlogintip',\r\n\t        type: 'POST',\r\n\t        dataType: 'json',\r\n\t        data: { is_open:is_open }\r\n\t    })\r\n\t    .done(function(data) {\r\n\t        console.log(data);\r\n\t        if( data.success ){\r\n\t        \tFailDialog(162,60,\"设置成功\",window.location.href);\r\n\t        }else{\r\n\t        \tFailDialog(162,60,\"设置失败\",window.location.href);\r\n\t        }\r\n\t    })\r\n\t    .fail(function() {\r\n\t        //alert('网络错误！')\r\n\t    })\r\n\t    .always(function() {\r\n\t    \tajaxlack = true;\r\n\t    });\r\n\t}\r\n}\r\n\r\nif( pageTrue==\"updatepassword\" ){\r\n    var pwdT;\r\n    $(\"#btnSubmitSave\").on(\"click\",function(){\r\n\r\n    \tvar userOldPwd = $(\"#OldPass\").val();\r\n    \tvar NewPass = $(\"#NewPass\").val();\r\n    \tvar NewPassAgain = $(\"#NewPassAgain\").val();\r\n\r\n    \t$(\"#pwdStrength\").hide();\r\n\r\n    \tpwdT = setTimeout(function(){\r\n    \t\t$(\"#div_tips1, #div_tips2, #div_tips3\").html('');\r\n\t\t\tclearTimeout(pwdT);\r\n\t\t},3000);\r\n\r\n    \tif( userOldPwd==\"\" ){\r\n    \t\t$(\"#div_tips1\").html('<div class=\"form-orange-tips\">原密码不能为空</div>');\r\n    \t\treturn;\r\n    \t}else{\r\n    \t\t$(\"#div_tips1\").html('');\r\n    \t}\r\n\r\n    \tif( NewPass==\"\"||NewPass.length<8||NewPass.length>20 ){\r\n    \t\t$(\"#div_tips2\").html('<div class=\"form-orange-tips\">密码由8-20位字母、数字或符号两种或以上组合</div>');\r\n    \t\treturn;\r\n    \t}else{\r\n    \t\t$(\"#div_tips2\").html('');\r\n    \t}\r\n\r\n    \tif( NewPassAgain==\"\" ){\r\n    \t\t$(\"#div_tips3\").html('<div class=\"form-orange-tips\">确认密码不能为空</div>');\r\n    \t\treturn;\r\n    \t}else{\r\n    \t\t$(\"#div_tips3\").html('');\r\n    \t}\r\n\r\n    \tif( NewPassAgain!=NewPass ){\r\n    \t\t$(\"#div_tips3\").html('<div class=\"form-orange-tips\">两次密码输入不一致,请重新输入</div>');\r\n    \t\treturn;\r\n    \t}else{\r\n    \t\t$(\"#div_tips3\").html('');\r\n    \t}\r\n\r\n    \tvar dataObj = {\r\n    \t\tuserOldPwd:userOldPwd,\r\n    \t\tuserNewPwd:NewPass\r\n    \t}\r\n\r\n\r\n\t\tif( !ajaxlack ) return; ajaxlack = false;\r\n\t\t$.ajax({\r\n\t        url: \"/member/service/updateuserpwd\",\r\n\t        type: 'POST',\r\n\t        dataType: 'json',\r\n\t        data: dataObj\r\n\t    })\r\n\t    .done(function(data) {\r\n\t        console.log(data);\r\n\t        if( data.success ){\r\n\t        \tFailDialog(162,60,\"修改成功\",'/member/passport/login');\r\n\t        }else{\r\n\t        \tif( data.errorCode==514 ){\r\n\t        \t\t$(\"#div_tips1\").html('<div class=\"form-orange-tips\">原密码错误,请重新输入</div>');\r\n\t        \t}else{\r\n\t        \t\tFailDialog(162,60,\"修改失败\");\r\n\t        \t}\r\n\t        }\r\n\t    })\r\n\t    .fail(function() {\r\n\t        //alert('网络错误！')\r\n\t    })\r\n\t    .always(function() {\r\n\t    \tajaxlack = true;\r\n\t    });\r\n\t});\r\n\r\n\t// 密码强度验证\r\n\t$(\"#NewPass\").on(\"keyup\", function(){\r\n\t\tvar NewPass = $(\"#NewPass\").val();\r\n\t\tvar $div = $(\"#pwdStrength\");\r\n\t\tconsole.log(NewPass)\r\n\t\tif( NewPass.length>8&&NewPass.length<=20 ){\r\n\t\t\tvar qiang = passwordsFun(NewPass);\r\n\t\t\tconsole.log(passwordsFun(NewPass));\r\n\t\t\t$div.show();\r\n\t\t\tif( qiang==\"弱\" ){\r\n\t\t\t\t$div.html(yellowTxt(0));\r\n\t\t\t}else if( qiang==\"中\" ){\r\n\t\t\t\t$div.html(yellowTxt(1));\r\n\t\t\t}else{\r\n\t\t\t\t$div.html(yellowTxt(2));\r\n\t\t\t}\r\n\t\t}else{\r\n\t\t\t$div.html(yellowTxt(0));\r\n\t\t}\r\n\r\n\t});\r\n}\r\n\r\nif( pageTrue=='userauth' ){\r\n\t// 邮箱或手机验证\r\n\tvar UserAuth = $.query.get('UserAuth');\r\n\tvar snTrue = true;\r\n\tvar regesterBy;\r\n\t$(\"#btnGetCode\").on(click, function(){\r\n\t\tvar $this = $(this);\r\n\t\tvar ajaxNum;\r\n\t\tregesterBy = $this.attr(\"regesterBy\");\r\n\t\tif( !snTrue ) return; snTrue = false;\r\n\t\tif( UserAuth==\"email\" ){\r\n\t\t\tajaxNum = 0;\r\n\t\t}else if( UserAuth==\"mobile\" ){\r\n\t\t\tajaxNum = 1;\r\n\t\t}  \r\n\t\tcodeNew = new ajaxCodeFun(regesterBy,ajaxNum,function(){\r\n\t\t\t$(\"#btnSubmit\").removeClass('gray-btn');\r\n\t\t\t$this.addClass(\"current\");\r\n        \tsetIntervalFun(120,function(_TIME){\r\n        \t\t$this.html('重新发送('+_TIME+')');\r\n        \t\tif( _TIME<=0 ){\r\n        \t\t\t$this.html('重新发送');\r\n        \t\t\t$this.removeClass(\"current\");\r\n        \t\t\tsnTrue = true;\r\n        \t\t}\r\n        \t});\r\n\t\t});\r\n\t});\r\n\r\n\t// 校验绑定验证码是否正确\r\n\t$(\"#btnSubmit\").on(click, function(){\r\n\t\tvar txtCheckCode = $(\"#txtCheckCode\").val();\r\n\t\tvar ajaxNum = 0;\r\n\t\tif( $(this).hasClass(\"gray-btn\") ){\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif( txtCheckCode.length!=6 ){\r\n\t\t    $('#div_tips').html('<div class=\"form-orange-tips\">请输入正确验证码！</div>');\r\n\t\t    return;\r\n\t\t}else{\r\n\t\t\t$('#div_tips').html('');\r\n\t\t}\r\n\t\tif( UserAuth==\"email\" ){\r\n\t\t\tajaxNum = 0;\r\n\t\t}else if( UserAuth==\"mobile\" ){\r\n\t\t\tajaxNum = 1;\r\n\t\t}  \r\n\t\tif( !ajaxlack ) return; ajaxlack = false; \r\n\t\ttxtCheckFun(regesterBy,txtCheckCode,ajaxNum,function(data){\r\n\t\t\tif( data.success ){\r\n\t\t\t\t$(\"#BindingSend\").show().siblings().hide();\r\n\t\t\t\tsnTrue = true;\r\n\t\t\t\tcodeNew = null;\r\n\t        }else{\r\n\t        \t$('#div_tips').html('<div class=\"form-orange-tips\">请输入正确验证码！</div>');\r\n\t        }\r\n\t\t});\r\n\t});\r\n\r\n\t/**----- 验证通过开始绑定 -----**/\r\n\tvar verifiedby = true;\r\n\t// 账号验证\r\n\t$(\"#txtSaveSN\").on('blur', function(){\r\n\t\tvar $this = $(this);\r\n\t\tvar txtUserName = $this.val();\r\n\t\tvar testEmail = _email.test(txtUserName);\r\n\t\tif( txtUserName.length==11 && _sizeTel.test(txtUserName) ){\r\n\t\t\tajaxNum = 0;\r\n\t    }else if( testEmail ){\r\n\t    \tajaxNum = 1;\r\n\t    }else{\r\n\t    \tif( $this.val()=='' ) return;\r\n\t    \tif( UserAuth==\"email\" ){\r\n\t\t\t\t$(\"#div_tips1\").html('<div class=\"form-orange-tips\">请输入正确的手机号</div>');\r\n\t\t\t}else if( UserAuth==\"mobile\" ){\r\n\t\t\t\t$(\"#div_tips1\").html('<div class=\"form-orange-tips\">请输入正确的邮箱地址</div>');\r\n\t\t\t}\r\n\t    \treturn;\r\n\t    }\r\n\r\n\t    checkEmailMobileFun(txtUserName,ajaxNum,function(data){\r\n\t    \tif( data.success ){\r\n\t    \t\tverifiedby = false;\r\n\t    \t\t$(\"#div_tips1\").html('');\r\n\t        }else{\r\n\t        \tverifiedby = true;\r\n\t        \tif( UserAuth==\"email\" ){\r\n\t\t\t\t\t$(\"#div_tips1\").html('<div class=\"form-orange-tips\">手机号已存在</div>');\r\n\t\t\t\t}else if( UserAuth==\"mobile\" ){\r\n\t\t\t\t\t$(\"#div_tips1\").html('<div class=\"form-orange-tips\">邮箱地址已存在</div>');\r\n\t\t\t\t}\r\n\t        }\r\n\t    });\r\n\t    \r\n\t});\r\n\r\n\t// 绑定 获取验证码\r\n\t$(\"#btnSendSN\").on(click, function(){\r\n\t\tvar $this = $(this)\r\n\t\tvar txtSaveSN = $(\"#txtSaveSN\").val();\r\n\t\tvar dataObj;\r\n\t\tvar ajaxNum;\r\n\t\tif( !ajaxlack || !snTrue || verifiedby ) return;\r\n\t\tajaxlack = false;  snTrue = false;\r\n\t\tif( UserAuth==\"email\" ){\r\n\t\t\tajaxNum = 1;\r\n\t\t}else if( UserAuth==\"mobile\" ){\r\n\t\t\tajaxNum = 0;\r\n\t\t}  \r\n\t\tajaxCodeFun(txtSaveSN,ajaxNum,function(){\r\n\t\t\t$(\"#butSaveSubmit\").removeClass('gray-btn');\r\n\t\t\t$this.addClass(\"current\");\r\n        \tsetIntervalFun(120,function(_TIME){\r\n        \t\t$(\"#btnSendSN\").html('重新发送('+_TIME+')');\r\n        \t\tif( _TIME<=0 ){\r\n        \t\t\t$this.removeClass(\"current\");\r\n        \t\t\t$this.html('重新发送');\r\n        \t\t\tsnTrue = true;\r\n        \t\t}\r\n        \t});\r\n\t\t});\r\n\t});\r\n\r\n\t// 绑定 开始绑定\r\n\t$(\"#butSaveSubmit\").on(click, function(){\r\n\t\tvar txtSaveSN = $(\"#txtSaveSN\").val();\r\n\t\tvar vcode = $(\"#txtSN\").val();\r\n\t\tvar testEmail = _email.test(txtSaveSN);\r\n\t\tvar dataObj;\r\n\t\tif( $(this).hasClass(\"gray-btn\") ){\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif( txtSaveSN.length==11 && _sizeTel.test(txtSaveSN) ){\r\n\t\t\tdataObj = {\r\n\t\t\t\tmobile : txtSaveSN,\r\n\t\t\t\tvcode : vcode\r\n\t\t\t}\r\n\t\t\tajaxURL = \"/member/service/bindmobile\";\r\n\t    }else if( testEmail ){\r\n\t    \tdataObj = {\r\n\t    \t\temail : txtSaveSN,\r\n\t\t\t\tvcode : vcode\r\n\t\t\t}\r\n\t\t\tajaxURL = \"/member/service/bindemail\";\r\n\t    }else{\r\n\t    \t$(\"#txtSaveSN\").focus();\r\n\t    \tif( UserAuth==\"email\" ){\r\n\t\t\t\t$(\"#div_tips1\").html('<div class=\"form-orange-tips\">请输入正确的手机号</div>');\r\n\t\t\t}else if( UserAuth==\"mobile\" ){\r\n\t\t\t\t$(\"#div_tips1\").html('<div class=\"form-orange-tips\">请输入正确的邮箱地址</div>');\r\n\t\t\t} \r\n\t        return false;\r\n\t    }\r\n\r\n\t    if( vcode.length!=6 ){\r\n\t\t    $('#div_tips2').html('<div class=\"form-orange-tips\">请输入正确验证码！</div>');\r\n\t\t    return;\r\n\t\t}\r\n\r\n\t    if( !ajaxlack ) return; ajaxlack = false;\r\n\t    $.ajax({\r\n\t        url: ajaxURL,\r\n\t        type: 'POST',\r\n\t        dataType: 'json',\r\n\t        data: dataObj\r\n\t    })\r\n\t    .done(function(data) {\r\n\t        console.log(data);\r\n\t        if( data.success ){\r\n\t        \t$(\"#SendSuccess\").show().siblings().hide();\r\n\t        \tsetIntervalFun(10,function(_TIME){\r\n\t        \t\t$(\"#spanNum\").html(_TIME);\r\n\t        \t\tif( _TIME<=0 ){\r\n\t        \t\t\twindow.location.href = '/member/admin/membermodify';\r\n\t        \t\t}\r\n\t        \t});\r\n\t        }else{\r\n\r\n\t        }\r\n\t    })\r\n\t    .fail(function() {\r\n\t        //alert('网络错误！')\r\n\t    })\r\n\t    .always(function() {\r\n\t    \tajaxlack = true;\r\n\t    });\r\n\t});\r\n\r\n\t// 校验绑定验证码是否通过函数\r\n\tfunction txtCheckFun(dataPOST,sn,ajaxNum,Callback){\r\n\t\tvar ajaxURL;\r\n\t\tvar dataObj;\r\n\t\tif( ajaxNum==0 ){\r\n\t\t\tajaxURL = \"/service/vcode/verifyemailsn\";\r\n\t\t\tdataObj = {\r\n\t\t\t\tuserEmail:dataPOST,\r\n\t\t\t\tsn:sn\r\n\t\t\t}\r\n\t\t}else if( ajaxNum==1 ){\r\n\t\t\tajaxURL = \"/service/vcode/sendcodesms\";\r\n\t\t\tdataObj = {\r\n\t\t\t\tmobile:dataPOST,\r\n\t\t\t\tsn:sn\r\n\t\t\t}\r\n\t\t}\r\n\t\t$.ajax({\r\n\t        url: ajaxURL,\r\n\t        type: 'POST',\r\n\t        dataType: 'json',\r\n\t        data: dataObj\r\n\t    })\r\n\t    .done(function(data) {\r\n\t        console.log(data);\r\n\t        Callback(data);\r\n\t    })\r\n\t    .fail(function() {\r\n\t        //alert('网络错误！')\r\n\t    })\r\n\t    .always(function() {\r\n\t    \tajaxlack = true;\r\n\t    });\t\r\n\t}\r\n}\r\n\r\n// 小额设置\r\nif( pageTrue=='setsmallmoney' ){\r\n\tvar isopen = $.query.get('isopen');\r\n\t// http://webcms.didv.cn/member/service/setsmallmoney?money=500&is_open=1&vcode=xx&key=xxx\r\n\t// 小额设置\r\n\tvar moneyVal = $(\"#ulItems li.current\").attr('value');\r\n\tvar money = (moneyVal==undefined) ? $(\"#emMoney\").text() : moneyVal;\r\n\t$(\"#ulItems li\").on(\"click\",function(){\r\n\t\tmoneyVal = $(\"#ulItems li.current\").attr('value');\r\n\t\t$(this).addClass(\"current\").siblings().removeClass(\"current\");\r\n\t\t$(\"#liDefined\").find(\"span\").show();\r\n\t\t$(\"#liDefined\").find(\"p\").hide();\r\n\t});\r\n\r\n\t$(\"#liDefined\").on(\"click\",function(){\r\n\t\t$(this).find(\"span\").hide();\r\n\t\t$(this).find(\"p\").show();\r\n\t});\r\n\r\n\tif( isopen==0 ){\r\n\t\t$(\".s-much-inner .div\").hide();\r\n\t\t// $(\"#isopenNull\").show();\r\n\t}else if( isopen==1 ){\r\n\r\n\t}else if( isopen==2 ){\r\n\t\tvar smallmoney = $(\"#ulItems\").attr(\"smallmoney\");\r\n\t\tvar $ulItems = $(\"#ulItems li\")\r\n\t\tif( smallmoney==50 ){\r\n\t\t\t$ulItems.eq(0).addClass(\"current\").siblings().removeClass(\"current\");\r\n\t\t}else if( smallmoney==100 ){\r\n\t\t\t$ulItems.eq(1).addClass(\"current\").siblings().removeClass(\"current\");\r\n\t\t}else if( smallmoney==200 ){\r\n\t\t\t$ulItems.eq(2).addClass(\"current\").siblings().removeClass(\"current\");\r\n\t\t}else if( smallmoney==500 ){\r\n\t\t\t$ulItems.eq(3).addClass(\"current\").siblings().removeClass(\"current\");\r\n\t\t}else{\r\n\t\t\t$ulItems.eq(4).addClass(\"current\").siblings().removeClass(\"current\");\r\n\t\t\t$(\"#liDefined\").find(\"span\").hide();\r\n\t\t\t$(\"#liDefined\").find(\"p\").show();\r\n\t\t\t$(\"#emMoney\").html(smallmoney);\r\n\t\t}\r\n\t}\r\n\r\n\r\n\t// 邮箱或手机验证\r\n\tvar snTrue = true;\r\n\tvar regesterBy;\r\n\tvar codeNew;\r\n\t$(\"#btnGetCode\").on(click, function(){\r\n\t\tvar $this = $(this);\r\n\t\tvar ajaxNum;\r\n\t\tregesterBy = $this.attr(\"regesterBy\");\r\n\t\tif( !snTrue ) return; snTrue = false;\r\n\t\tif( regesterBy.indexOf(\"@\")!=-1 ){\r\n\t\t\tajaxNum = 0;\r\n\t\t}else{\r\n\t\t\tajaxNum = 1;\r\n\t\t}  \r\n\t\tcodeNew = new ajaxCodeFun(regesterBy,ajaxNum,function(){\r\n\t\t\t$(\"#btnSubmit\").removeClass('gray-btn');\r\n\t\t\t$this.addClass(\"current\");\r\n        \tsetIntervalFun(120,function(_TIME){\r\n        \t\t$this.html('重新发送('+_TIME+')');\r\n        \t\tif( _TIME<=0 ){\r\n        \t\t\t$this.html('重新发送');\r\n        \t\t\t$this.removeClass(\"current\");\r\n        \t\t\tsnTrue = true;\r\n        \t\t}\r\n        \t});\r\n\t\t});\r\n\t});\r\n\r\n\t$(\"#btnSubmit\").on(click, function(){\r\n\t\tvar txtCheckCode = $(\"#txtCheckCode\").val();\r\n\t\tif( $(this).hasClass(\"gray-btn\") ) return;\r\n\t\tif( txtCheckCode.length!=6 ){\r\n\t\t\t$(\"#div_tips\").html('<div class=\"form-orange-tips\">验证码不正确！</div>');\r\n\t\t\tsetIntervalFun(3,function(){\r\n\t\t\t\t\t$(\"#div_tips\").html('');\r\n\t\t\t\t});\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif( isopen==0 ){\r\n\t\t\tvar dataObj = {\r\n\t    \t\tmoney:money,\r\n\t    \t\tkey:regesterBy,\r\n\t    \t\tis_open:0,\r\n\t    \t\tvcode:txtCheckCode\r\n\t    \t}\r\n\t\t\tsetsmallmoneyAjaxFun(dataObj,function(data){\r\n\t\t\t\tconsole.log(data);\r\n\t\t\t\tif( data.success ){\r\n\t                FailDialog(162,60,\"设置成功\",'/member/security/index');\r\n\t            }else{\r\n\t                // FailDialog(162,60,\"设置失败\",'/member/security/index');\r\n\t            }\r\n\t\t\t});\r\n\t\t}else if( isopen==1||isopen==2 ){\r\n\t\t\tvar dataObj = {\r\n\t    \t\tmoney:money==\"\"?1:money,\r\n\t    \t\tkey:regesterBy,\r\n\t    \t\tis_open:1,\r\n\t    \t\tvcode:txtCheckCode\r\n\t    \t}\r\n\t\t\tsetsmallmoneyAjaxFun(dataObj,function(data){\r\n\t\t\t\tconsole.log(data);\r\n\t\t\t\tif( data.success ){\r\n\t                FailDialog(162,60,\"设置成功\",'/member/security/index');\r\n\t            }else{\r\n\t                // FailDialog(162,60,\"设置失败\",'/member/security/index');\r\n\t            }\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n\r\n\t// 小额设置函数\r\n\tfunction setsmallmoneyAjaxFun(dataObj,Callback){\r\n\t\t$.ajax({\r\n            url: \"/member/service/setsmallmoney\",\r\n            type: 'POST',\r\n            dataType: 'json',\r\n            data: dataObj\r\n        })\r\n        .done(function(data) {\r\n            console.log(data);\r\n            Callback(data);\r\n        })\r\n        .fail(function() {\r\n            //alert('网络错误！')\r\n        })\r\n        .always(function() {\r\n            ajaxlack = true;\r\n        });\r\n\t}\r\n\r\n\r\n\r\n\r\n\r\n}\r\n\r\n// 设置支付密码\r\nif( pageTrue=='setpaypwd' ){\r\n\tvar type = $.query.get('type');\r\n\t// http://webcms.didv.cn/member/service/updatepaypwd?paypwd=xxx&key=xx&vcode=xxx\r\n\r\n\t// 邮箱或手机验证\r\n\tvar snTrue = true;\r\n\tvar regesterBy;\r\n\tvar codeNew;\r\n\t$(\"#btnGetCode\").on(click, function(){\r\n\t\tvar $this = $(this);\r\n\t\tvar ajaxNum;\r\n\t\tregesterBy = $this.attr(\"regesterBy\");\r\n\t\tif( !snTrue ) return; snTrue = false;\r\n\t\tif( regesterBy.indexOf(\"@\")!=-1 ){\r\n\t\t\tajaxNum = 0;\r\n\t\t}else{\r\n\t\t\tajaxNum = 1;\r\n\t\t}  \r\n\t\tcodeNew = new ajaxCodeFun(regesterBy,ajaxNum,function(){\r\n\t\t\t$(\"#btnSubmit\").removeClass('gray-btn');\r\n\t\t\t$this.addClass(\"current\");\r\n        \tsetIntervalFun(120,function(_TIME){\r\n        \t\t$this.html('重新发送('+_TIME+')');\r\n        \t\tif( _TIME<=0 ){\r\n        \t\t\t$this.html('重新发送');\r\n        \t\t\t$this.removeClass(\"current\");\r\n        \t\t\tsnTrue = true;\r\n        \t\t}\r\n        \t});\r\n\t\t});\r\n\t});\r\n\r\n\tif( type==1 ){\r\n\t\t$(\".person-list li:eq(3), .person-list li:eq(4)\").show();\r\n\t}\r\n\t\r\n\t$(\"#btnSubmit\").on(click, function(){\r\n\t\tvar txtCheckCode = $(\"#txtCheckCode\").val();\r\n\t\tvar txtPwd1 = $(\"#txtPwd1\").val();\r\n\t\tvar txtPwd2 = $(\"#txtPwd2\").val();\r\n\t\tif( $(this).hasClass(\"gray-btn\") ) return;\r\n\t\tif( txtCheckCode.length!=6 ){\r\n\t\t\t$(\"#div_tips\").html('<div class=\"form-orange-tips\">验证码不正确！</div>');\r\n\t\t\tsetIntervalFun(3,function(){\r\n\t\t\t\t$(\"#div_tips\").html('');\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif( type==0 ){\r\n\t\t\tvar dataObj = {\r\n\t    \t\tpaypwd:'',\r\n\t    \t\tkey:regesterBy,\r\n\t    \t\tvcode:txtCheckCode\r\n\t    \t}\r\n\t\t\tupdatepaypwdAjaxFun(dataObj,function(data){\r\n\t\t\t\tconsole.log(data);\r\n\t\t\t\tif( data.success ){\r\n\t                FailDialog(162,60,\"设置成功\",'/member/security/index');\r\n\t            }else{\r\n\t                // FailDialog(162,60,\"设置失败\",'/member/security/index');\r\n\t            }\r\n\t\t\t});\r\n\t\t}else if( type==1 ){\r\n\t\t\tif( txtPwd1.length!=6&&!reg.test(txtPwd1) ){\r\n\t\t\t\t$(\"#div_tips1\").html('<div class=\"form-orange-tips\">支付密码必须6位纯数字！</div>');\r\n\t\t\t\tsetIntervalFun(3,function(){\r\n\t\t\t\t\t$(\"#div_tips1\").html('');\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tconsole.log(txtPwd1,txtPwd2)\r\n\t\t\tif( txtPwd1!=txtPwd2 ){\r\n\t\t\t\t$(\"#div_tips2\").html('<div class=\"form-orange-tips\">两次密码不一致！</div>');\r\n\t\t\t\tsetIntervalFun(3,function(){\r\n\t\t\t\t\t$(\"#div_tips1\").html('');\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvar dataObj = {\r\n\t    \t\tpaypwd:txtPwd1,\r\n\t    \t\tkey:regesterBy,\r\n\t    \t\tvcode:txtCheckCode\r\n\t    \t}\r\n\t\t\tupdatepaypwdAjaxFun(dataObj,function(data){\r\n\t\t\t\tconsole.log(data);\r\n\t\t\t\tif( data.success ){\r\n\t                FailDialog(162,60,\"设置成功\",'/member/security/index');\r\n\t            }else{\r\n\t                // FailDialog(162,60,\"设置失败\",'/member/security/index');\r\n\t            }\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n\r\n\t// 支付密码函数\r\n\tfunction updatepaypwdAjaxFun(dataObj,Callback){\r\n\t\t$.ajax({\r\n            url: \"/member/service/updatepaypwd\",\r\n            type: 'POST',\r\n            dataType: 'json',\r\n            data: dataObj\r\n        })\r\n        .done(function(data) {\r\n            console.log(data);\r\n            Callback(data);\r\n        })\r\n        .fail(function() {\r\n            //alert('网络错误！')\r\n        })\r\n        .always(function() {\r\n            ajaxlack = true;\r\n        });\r\n\t}\r\n}\r\n/*******************************************************账户安全结束*********************************************/\r\n\r\n/*******************************************************地址管理**************************************************/\r\nif( pageTrue==\"address\" ){\r\n\r\n\t$(\"#a_add\").on(\"click\",function(){\r\n\t\t$(this).hide();\r\n\t\t$(\"#btnSaveAddress\").attr({\"_id\":\"\"});\r\n\t\t$(\"#div_form\").show();\r\n\t});\r\n\r\n    // 取消\r\n    $(\"#btnCancel\").on(\"click\",function(){\r\n    \twindow.location.reload();\r\n    });\r\n\r\n\t// 删除\r\n    $(\".btn-delete\").on(\"click\",function(){\r\n    \tvar id = $(this).attr(\"id\");\r\n    \ttanFun(398,197,'<div class=\"z-popUp z-pop-box\">'\r\n        +'<span class=\"gray3\">确定要删除？</span>'\r\n        +'<a href=\"javascript:gotoClick();\" title=\"取消\" class=\"z-btn-cancel\">取消</a>'\r\n        +'<a href=\"javascript:;\" title=\"确定\" id=\"'+id+'\" class=\"z-btn-determine address-delete\">确定</a>'\r\n        +'</div>');\r\n    });\r\n\r\n    // 确认删除地址\r\n    $(document).on(\"click\",\".address-delete\",function(){\r\n        var id = $(this).attr(\"id\");\r\n        var dataObj = {\r\n    \t\tid:id\r\n    \t}\r\n    \tdeleteaddressFun(dataObj);\r\n    });\r\n\r\n    // 设置默认\r\n    $(\".set-normal\").on(\"click\",function(){\r\n    \tvar id = $(this).attr(\"id\");\r\n    \tvar dataObj = {\r\n    \t\tid:id\r\n    \t}\r\n    \tsetmembercontactdefaultFun(dataObj);\r\n    });\r\n\r\n    // 修改\r\n    $(\".btn-modify\").on(\"click\",function(){\r\n    \tvar $this = $(this);\r\n    \tvar id = $this.attr(\"id\");\r\n    \tvar name = $this.parents(\"li\").find(\".u-name\").text();\r\n    \tvar tel = $this.parents(\"li\").find(\".u-tel\").text();\r\n    \tvar telephone = $this.parents(\"li\").find(\".u-tel\").attr('telephone');\r\n    \tvar address = $this.parents(\"li\").find(\".u-address\").text().split(\" \");\r\n    \tvar code = $this.parents(\"li\").find(\".u-code\").text();\r\n    \tvar provinceID = $this.parents(\"li\").find(\".u-address\").attr('provinceID');\r\n    \tvar cityID = $this.parents(\"li\").find(\".u-address\").attr('cityID');\r\n    \tvar districtID = $this.parents(\"li\").find(\".u-address\").attr('districtID');\r\n\r\n    \t$(\"#btnSaveAddress\").attr({\"_id\":id});\r\n    \t$(\"#a_add\").hide();\r\n\t\t$(\"#div_form\").show();\r\n\t\t\r\n\t\tconsole.log(address);\r\n\t\t$(\"#selProvinceID .select-xiala\").html(address[0]+'<s class=\"u-personal\"></s>');\r\n\t\t// $(\"#selCityID .select-xiala\").html(valCity+'<s class=\"u-personal\"></s>');\r\n\t\t$(\"#selCountyID .select-xiala\").html(address[2]+'<s class=\"u-personal\"></s>');\r\n\r\n\t\t$(\"#selProvinceID input\").val(provinceID);\r\n\t\t$(\"#selCityID input\").val(cityID);\r\n\t\t$(\"#selCountyID input\").val(districtID);\r\n\r\n\t\t$(\"#txtAddress\").val(address[3]); //详细地址\r\n    \t$(\"#txtPostCode\").val(code); //邮政编码\r\n    \t$(\"#txtConsignee\").val(name); //收货人\r\n    \t$(\"#txtTel\").val(telephone); //固定电话\r\n    \t$(\"#txtMobile\").val(tel); //手机号码\r\n\r\n    \tif( $this.parents(\"li\").index()==0 ){\r\n    \t\t$(\"#a_default\").attr(\"value\",1);//默认地址\r\n    \t\t$(\".set-default\").addClass(\"z-click\");\r\n    \t}else{\r\n    \t\t$(\"#a_default\").attr(\"value\",0);//默认地址\r\n    \t\t$(\".set-default\").removeClass(\"z-click\");\r\n    \t}\r\n\r\n    \t// 城市接口\r\n\t\tvar selProvinceID = $(\"#selProvinceID\").find(\"input\").val(); //城市\r\n\t\tprovinceFun(selProvinceID,function(data){\r\n\t\t\t$(\"#selCityID .select-state\").html('');\r\n\t\t\tfor( var v in data.result ){\r\n\t\t\t\t$(\"#selCityID .select-state\").append('<a href=\"javascript:;\" value=\"'+v+'\">'+data.result[v]+'</a>');\r\n\t\t\t}\r\n\t\t\tvar valCity;\r\n\t\t\t$(\"#selCityID .select-state a\").map(function(obj){\r\n\t\t\t\tif( $(this).attr(\"value\")==cityID ){\r\n\t\t\t\t\tvalCity = $(this).text();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t$(\"#selCityID .select-xiala\").html(valCity+'<s class=\"u-personal\"></s>');\r\n\t\t});\r\n\r\n\t\t// 城市区接口\r\n\t\tvar selCityID = $(\"#selCityID\").find(\"input\").val(); //区\r\n\t\tgetdistrictsFun(selCityID,function(data){\r\n\t\t\t$(\"#selCountyID .select-state\").html('');\r\n\t\t\tfor( var v in data.result ){\r\n\t\t\t\t$(\"#selCountyID .select-state\").append('<a href=\"javascript:;\" value=\"'+v+'\">'+data.result[v]+'</a>');\r\n\t\t\t}\r\n\t\t});\r\n    });\r\n}\r\n/*******************************************************地址管理结束**************************************************/\r\n\r\n/*******************************************************个人资料**************************************************/\r\nif( pageTrue==\"membermodify\" ){\r\n\r\n\tvar nickname = $(\"#txtName\").attr(\"nickname\");\r\n\tif( nickname!=\"\" ){\r\n\t\t$(\"#txtName\").val(nickname).removeClass(\"inputFocus\").css({\"color\":\"#000\"});\r\n\t}\r\n\r\n\tvar txtPhone = $(\"#txtPhone\").attr(\"telMobile\");\r\n\tif( txtPhone!=\"\" ){\r\n\t\t$(\"#txtPhone\").val(txtPhone).removeClass(\"inputFocus\").css({\"color\":\"#000\"});\r\n\t}\r\n\r\n\tvar sex = $(\"#sex\").val();\r\n\tvar boxDIV = $(\".z-content .info-list .sex-list .box\");\r\n\tif( sex==\"0\" ){\r\n\t\tboxDIV.eq(2).find(\".box-check\").addClass(\"current\");\r\n\t}else if( sex==\"1\" ){\r\n\t\tboxDIV.eq(0).find(\".box-check\").addClass(\"current\");\r\n\t}else if( sex==\"2\" ){\r\n\t\tboxDIV.eq(1).find(\".box-check\").addClass(\"current\");\r\n\t}\r\n\r\n\tvar sltYear = $(\"#sltYear\").find(\"input\").val();\r\n\tif( sltYear!=\"\" ){\r\n\t\t$(\"#sltYear\").find(\".select-xiala\").html(sltYear+'<s class=\"u-personal\"></s>');\r\n\t}\r\n\r\n\tvar sltMonth = $(\"#sltMonth\").find(\"input\").val();\r\n\tif( sltMonth!=\"\" ){\r\n\t\t$(\"#sltMonth\").find(\".select-xiala\").html(sltMonth+'<s class=\"u-personal\"></s>');\r\n\t}\r\n\r\n\tvar sltDay = $(\"#sltDay\").find(\"input\").val();\r\n\tif( sltDay!=\"\" ){\r\n\t\t$(\"#sltDay\").find(\".select-xiala\").html(sltDay+'<s class=\"u-personal\"></s>');\r\n\t}\r\n\r\n\tvar sltCons = $(\"#sltCons\").find(\"input\").val();\r\n\tif( sltCons!=\"0\" ){\r\n\t\tvar $div = $(\"#sltCons .select-state a\");\r\n\t\tfor ( var i=0; i<$div.length; i++) {\r\n\t\t\tif( $div.eq(i).attr(\"value\")==sltCons ){\r\n\t\t\t\t$(\"#sltCons\").find(\".select-xiala\").html($div.eq(i).html()+'<s class=\"u-personal\"></s>');\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\r\n\t// 所在地默认数据\r\n\tvar selLiveA = $(\"#selLiveA\").find(\"input\").val();\r\n\tif( selLiveA!=\"\" ){\r\n\t\tvar $div = $(\"#selLiveA .select-state a\");\r\n\t\tfor ( var i=0; i<$div.length; i++) {\r\n\t\t\tif( $div.eq(i).attr(\"value\")==selLiveA ){\r\n\t\t\t\t$(\"#selLiveA\").find(\".select-xiala\").html($div.eq(i).html()+'<s class=\"u-personal\"></s>');\r\n\t\t\t\t// 城市\r\n\t\t\t\tprovinceFun(selLiveA,function(data){\r\n\t\t\t\t\t$(\"#selLiveB .select-state\").html('');\r\n\t\t\t\t\tfor( var v in data.result ){\r\n\t\t\t\t\t\t$(\"#selLiveB .select-state\").append('<a href=\"javascript:;\" value=\"'+v+'\">'+data.result[v]+'</a>');\r\n\t\t\t\t\t}\r\n\t\t\t\t\tselLiveBdataFun();\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tfunction selLiveBdataFun(){\r\n\t\tvar selLiveB = $(\"#selLiveB\").find(\"input\").val();\r\n\t\tvar $div = $(\"#selLiveB .select-state a\");\r\n\t\tconsole.log($div.length)\r\n\t\tfor ( var i=0; i<$div.length; i++) {\r\n\t\t\tif( $div.eq(i).attr(\"value\")==selLiveB ){\r\n\t\t\t\t$(\"#selLiveB\").find(\".select-xiala\").html($div.eq(i).html()+'<s class=\"u-personal\"></s>');\r\n\t\t\t}\r\n\t\t}\r\n\t\t// 城市\r\n\t\tgetdistrictsFun(selLiveB,function(data){\r\n\t\t\tvar selLiveC = $(\"#selLiveC\").find(\"input\").val();\r\n\t\t\tfor( var v in data.result ){\r\n\t\t\t\t$(\"#selLiveC .select-state\").append('<a href=\"javascript:;\" value=\"'+v+'\">'+data.result[v]+'</a>');\r\n\t\t\t}\r\n\t\t\tvar $div = $(\"#selLiveC .select-state a\");\r\n\t\t\tfor ( var i=0; i<$div.length; i++) {\r\n\t\t\t\tif( $div.eq(i).attr(\"value\")==selLiveC ){\r\n\t\t\t\t\t$(\"#selLiveC\").find(\".select-xiala\").html($div.eq(i).html()+'<s class=\"u-personal\"></s>');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t// 家乡默认数据\r\n\tvar selHomeA = $(\"#selHomeA\").find(\"input\").val();\r\n\tif( selHomeA!=\"\" ){\r\n\t\tvar $div = $(\"#selHomeA .select-state a\");\r\n\t\tfor ( var i=0; i<$div.length; i++) {\r\n\t\t\tif( $div.eq(i).attr(\"value\")==selHomeA ){\r\n\t\t\t\t$(\"#selHomeA\").find(\".select-xiala\").html($div.eq(i).html()+'<s class=\"u-personal\"></s>');\r\n\t\t\t\t// 城市\r\n\t\t\t\tprovinceFun(selHomeA,function(data){\r\n\t\t\t\t\t$(\"#selHomeB .select-state\").html('');\r\n\t\t\t\t\tfor( var v in data.result ){\r\n\t\t\t\t\t\t$(\"#selHomeB .select-state\").append('<a href=\"javascript:;\" value=\"'+v+'\">'+data.result[v]+'</a>');\r\n\t\t\t\t\t}\r\n\t\t\t\t\tselHomeAdataFun();\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tfunction selHomeAdataFun(){\r\n\t\tvar selHomeB = $(\"#selHomeB\").find(\"input\").val();\r\n\t\tvar $div = $(\"#selHomeB .select-state a\");\r\n\t\tconsole.log($div.length)\r\n\t\tfor ( var i=0; i<$div.length; i++) {\r\n\t\t\tif( $div.eq(i).attr(\"value\")==selHomeB ){\r\n\t\t\t\t$(\"#selHomeB\").find(\".select-xiala\").html($div.eq(i).html()+'<s class=\"u-personal\"></s>');\r\n\t\t\t}\r\n\t\t}\r\n\t\t// 城市\r\n\t\tgetdistrictsFun(selHomeB,function(data){\r\n\t\t\tvar selHomeC = $(\"#selHomeC\").find(\"input\").val();\r\n\t\t\tfor( var v in data.result ){\r\n\t\t\t\t$(\"#selHomeC .select-state\").append('<a href=\"javascript:;\" value=\"'+v+'\">'+data.result[v]+'</a>');\r\n\t\t\t}\r\n\t\t\tvar $div = $(\"#selHomeC .select-state a\");\r\n\t\t\tfor ( var i=0; i<$div.length; i++) {\r\n\t\t\t\tif( $div.eq(i).attr(\"value\")==selHomeC ){\r\n\t\t\t\t\t$(\"#selHomeC\").find(\".select-xiala\").html($div.eq(i).html()+'<s class=\"u-personal\"></s>');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tvar txtQQ = $(\"#txtQQ\").attr(\"txtqq\");\r\n\tif( txtQQ!='' ){\r\n\t\t$(\"#txtQQ\").val(txtQQ).removeClass(\"inputFocus\").css({\"color\":\"#000\"});\r\n\t}\r\n\r\n\t// 星座\r\n\tvar selMonthIncome = $(\"#selMonthIncome\").find(\"input\").val();\r\n\tif( selMonthIncome!=\"0\" ){\r\n\t\tvar $div = $(\"#selMonthIncome .select-state a\");\r\n\t\tfor ( var i=0; i<$div.length; i++) {\r\n\t\t\tif( $div.eq(i).attr(\"value\")==selMonthIncome ){\r\n\t\t\t\t$(\"#selMonthIncome\").find(\".select-xiala\").html($div.eq(i).html()+'<s class=\"u-personal\"></s>');\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tvar txtSignature = $(\"#txtSignature\").attr(\"txtsignature\");\r\n\tif( txtSignature!=\"\" ){\r\n\t\t$(\"#txtSignature\").val(txtSignature).removeClass(\"inputFocus\").css({\"color\":\"#000\"});\r\n\t}\r\n\r\n\t// 下拉框\r\n\t$(\".select-xiala\").on(click, function(){\r\n\t\t$(\".select-xiala\").next(\".select-state\").hide();\r\n\t\t$(this).next(\".select-state\").toggle();\r\n\t});\r\n\t$(document).on(click, \".select-state a\", function(){\r\n\t\tvar text = $(this).text();\r\n\t\tvar val = $(this).attr(\"value\");\r\n\t\tvar $parent = $(this).parent().parent();\r\n\t\t$(this).parent(\".select-state\").hide();\r\n\t\t$parent.find(\"input\").val(val);\r\n\t\t$parent.find(\".gray6\").html(text+'<s class=\"u-personal\"></s>');\r\n\t});\r\n\r\n\t// 个人资料提交\r\n\t$(\"#membermodifySave\").on(\"click\",function(){\r\n\t\tvar txtName = $(\"#txtName\").val(); //昵称\r\n\t\tvar txtPhone = $(\"#txtPhone\").val(); //手机\r\n\t\tvar sex = $(\"#sex\").val(); //性别\r\n\t\tvar birthday = $(\"#sltYear\").find('input').val()+\"-\"+$(\"#sltMonth\").find('input').val()+\"-\"+$(\"#sltDay\").find('input').val(); //生日\r\n\t\tvar sltCons = $(\"#sltCons\").find('input').val(); //星座\r\n\t\tvar selLive = $(\"#selLiveA\").find('input').val()+\"|\"+$(\"#selLiveB\").find('input').val()+\"|\"+$(\"#selLiveC\").find('input').val(); //所在地\r\n\t\tvar selHome = $(\"#selHomeA\").find('input').val()+\"|\"+$(\"#selHomeB\").find('input').val()+\"|\"+$(\"#selHomeC\").find('input').val(); //家乡\r\n\t\tvar txtQQ = $(\"#txtQQ\").val(); //QQ\r\n\t\tvar selMonthIncome = $(\"#selMonthIncome\").find('input').val(); //月收入\r\n\t\tvar txtSignature = $(\"#txtSignature\").val(); //签名\r\n\r\n\t\tif( txtName=='' ){\r\n\t\t\t$(\"#txtName\").parents(\"li\").find(\".orange\").html(\"昵称不能为空\");\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif( txtName.length<1||txtName.length>20 ){\r\n\t\t\t$(\"#txtName\").parents(\"li\").find(\".orange\").html(\"昵称必须为2-20个字符\");\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t$(\"#txtName\").parents(\"li\").find(\".orange\").html(\"\");\r\n\r\n\t\tif( txtPhone==\"手机号/座机\" ){\r\n\t\t\ttxtPhone = '';\r\n\t\t}\r\n\r\n\t\t// 生日判断\r\n\t\tif( birthday==\"--\" ){\r\n\t\t\tbirthday = '';\r\n\t\t}else if( $(\"#sltYear\").find('input').val()==\"\"||$(\"#sltMonth\").find('input').val()==\"\"||$(\"#sltDay\").find('input').val()==\"\" ){\r\n\t\t\t$(\"#span_tip\").html(\"请选择完整生日\");\r\n\t\t\treturn;\r\n\t\t}else{\r\n\t\t\tbirthday += \" 00:00:00\";\r\n\t\t}\r\n\t\t$(\"#span_tip\").html('生日当月享双倍福分(保存后,一年后才能再次编辑)');\r\n\r\n\r\n\t\t// 所在地判断\r\n\t\tif( selLive==\"||\" ){\r\n\t\t\tselLive = '';\r\n\t\t}else if( $(\"#selLiveA\").find('input').val()==\"\"||$(\"#selLiveB\").find('input').val()==\"\"||$(\"#selLiveC\").find('input').val()==\"\" ){\r\n\t\t\t$(\"#div_live\").parents(\"li\").find(\".orange\").html(\"请选择完整的所在地\");\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t$(\"#div_live\").parents(\"li\").find(\".orange\").html(\"\");\r\n\r\n\t\t// 家乡判断\r\n\t\tif( selHome==\"||\" ){\r\n\t\t\tselHome = '';\r\n\t\t}else if( $(\"#selHomeA\").find('input').val()==\"\"||$(\"#selHomeB\").find('input').val()==\"\"||$(\"#selHomeC\").find('input').val()==\"\" ){\r\n\t\t\t$(\"#div_home\").parents(\"li\").find(\".orange\").html(\"请选择完整的家乡\");\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t$(\"#div_home\").parents(\"li\").find(\".orange\").html(\"\");\r\n\r\n\r\n\t\tif( txtQQ==\"您的QQ号码\" ){\r\n\t\t\ttxtQQ = '';\r\n\t\t}\r\n\r\n\t\tif( txtSignature=='让别人看到不一样的你' ){\r\n\t\t\ttxtSignature = '';\r\n\t\t}\r\n\r\n\t\tvar dataObj = {\r\n\t\t\tnickname : txtName,\r\n\t\t\ttel_mobile : txtPhone,\r\n\t\t\tsex : sex,\r\n\t\t\tbirthday : birthday,\r\n\t\t\tconstellation : sltCons,\r\n\t\t\tlocation : selLive,\r\n\t\t\thometown : selHome,\r\n\t\t\tqq : txtQQ,\r\n\t\t\tmonthly_income : selMonthIncome,\r\n\t\t\tsignature : txtSignature\r\n\t\t}\r\n\r\n\t\tif( !ajaxlack ) return; ajaxlack = false;\r\n\t\t$.ajax({\r\n\t        url: \"/member/service/updateuserto\",\r\n\t        type: 'POST',\r\n\t        dataType: 'json',\r\n\t        data: dataObj\r\n\t    })\r\n\t    .done(function(data) {\r\n\t        console.log(data);\r\n\t        if( data.success ){\r\n\t        \tFailDialog(162,60,\"修改成功\",window.location.href);\r\n\t        }else{\r\n\t        \tFailDialog(162,60,\"修改失败\");\r\n\t        }\r\n\t    })\r\n\t    .fail(function() {\r\n\t        //alert('网络错误！')\r\n\t    })\r\n\t    .always(function() {\r\n\t    \tajaxlack = true;\r\n\t    });\r\n\r\n\t});\r\n\r\n\t// 城市接口\r\n\t$(\"#selLiveA .select-state a\").on(\"click\",function(){\r\n\t\tvar province = $(this).attr(\"value\"); //城市\r\n\t\tprovinceFun(province,function(data){\r\n\t\t\t$(\"#selLiveB .select-state, #selLiveC .select-xiala\").html('');\r\n\t\t\t$(\"#selLiveB .select-xiala, #selLiveC .select-xiala\").html('---请选择---<s class=\"u-personal\"></s>');\r\n\t\t\tfor( var v in data.result ){\r\n\t\t\t\t$(\"#selLiveB .select-state\").append('<a href=\"javascript:;\" value=\"'+v+'\">'+data.result[v]+'</a>');\r\n\t\t\t}\r\n\t\t});\r\n\t});\r\n\r\n\t$(document).on(\"click\",\"#selLiveB .select-state a\",function(){\r\n\t\tvar province = $(this).attr(\"value\"); //城市\r\n\t\tgetdistrictsFun(province,function(data){\r\n\t\t\t$(\"#selLiveC .select-state\").html('');\r\n\t\t\t$(\"#selLiveC .select-xiala\").html('---请选择---<s class=\"u-personal\"></s>');\r\n\t\t\tfor( var v in data.result ){\r\n\t\t\t\t$(\"#selLiveC .select-state\").append('<a href=\"javascript:;\" value=\"'+v+'\">'+data.result[v]+'</a>');\r\n\t\t\t}\r\n\t\t});\r\n\t});\r\n\r\n\t// 城市接口\r\n\t$(\"#selHomeA .select-state a\").on(\"click\",function(){\r\n\t\tvar province = $(this).attr(\"value\"); //城市\r\n\t\tprovinceFun(province,function(data){\r\n\t\t\t$(\"#selHomeB .select-state, #selHomeC .select-state\").html('');\r\n\t\t\t$(\"#selHomeB .select-xiala, #selHomeC .select-state\").html('---请选择---<s class=\"u-personal\"></s>');\r\n\t\t\tfor( var v in data.result ){\r\n\t\t\t\t$(\"#selHomeB .select-state\").append('<a href=\"javascript:;\" value=\"'+v+'\">'+data.result[v]+'</a>');\r\n\t\t\t}\r\n\t\t});\r\n\t});\r\n\r\n\t$(document).on(\"click\",\"#selHomeB .select-state a\",function(){\r\n\t\tvar province = $(this).attr(\"value\"); //城市\r\n\t\tgetdistrictsFun(province,function(data){\r\n\t\t\t$(\"#selHomeC .select-state\").html('');\r\n\t\t\t$(\"#selHomeC .select-xiala\").html('---请选择---<s class=\"u-personal\"></s>');\r\n\t\t\tfor( var v in data.result ){\r\n\t\t\t\t$(\"#selHomeC .select-state\").append('<a href=\"javascript:;\" value=\"'+v+'\">'+data.result[v]+'</a>');\r\n\t\t\t}\r\n\t\t});\r\n\t});\r\n\r\n}\r\n/*******************************************************个人资料结束**************************************************/\r\n\r\n\r\n\r\n/*******************************************************邀请管理**************************************************/\r\nif( pageTrue==\"invitedlist\" ){\r\n\r\n\tgetinvitedmemberinfolistFirstDataFun(1,8);\r\n\r\n\tfunction getinvitedmemberinfolistFirstDataFun(page,limit){\r\n\t\tvar dataObj = {\r\n\t\t\tpage:page,\r\n\t\t\tlimit:limit\r\n\t\t}\r\n\t\t// 数据加载 第一次\r\n\t\tgetinvitedmemberinfolistAjaxFun(dataObj,function(data){\r\n\t\t\tvar total = data.result.total;\r\n\t\t\tgetinvitedmemberinfolistAddDataFun(data);\r\n\t\t\t// 分页\r\n\t\t\tPageCreate('#g-pagination',total,limit,1,function(pageNumber){\r\n\t\t\t\tif( total!=null ){ total = null; return; }\r\n\t\t\t\tdataObj.page = pageNumber;\r\n\t\t\t\t// 翻页后数据加载\r\n\t\t\t\tgetinvitedmemberinfolistAjaxFun(dataObj,function(data){\r\n\t\t\t\t\tgetinvitedmemberinfolistAddDataFun(data);\r\n\t\t\t\t});\r\n\t\t    });\r\n\t\t});\r\n\t}\r\n\r\n\t// 数据插入\r\n\tfunction getinvitedmemberinfolistAddDataFun(data){\r\n\t\tif( data.success ){\r\n\t    \tvar dataLi = '';\r\n\t    \t$.each(data.result.datas, function(i,item){\r\n\t    \t\tvar regTime = item.regTime;//: \"2015.11.12 12:16:06\"\r\n\t\t\t\tvar state = item.state;//: \"0\"\r\n\t\t\t\tvar userCode = item.userCode;//: \"1010895885\"\r\n\t\t\t\tvar userName = item.userName;//: \"ch*@icathol*\"\r\n\t\t\t\tvar userPhoto = item.userPhoto;//: \"00000000000000000.jpg\"\r\n\t\t\t\tvar userWeb = item.userWeb;//: \"1010895885\"\r\n\t    \t\tdataLi += '<li>'\r\n                    +'<span class=\"u-name\"><a target=\"_blank\" href=\"javascript:;\">'+userName+'</a></span>'\r\n                    +'<span class=\"u-time\">'+regTime+'</span>'\r\n                    +'<span class=\"u-num\">'+userCode+'</span>'\r\n                    +'<span class=\"u-flag\">未参与云购</span>'\r\n                +'</li>';\r\n\t    \t});\r\n\t\t\t\r\n\t\t\tif( dataLi=='' ){\r\n\t\t\t\t$(\"#g-pagination\").hide();\r\n\t\t\t\t$(\"#ul_invitedlist\").html('<div class=\"null-retips-wrapper\"><div class=\"gth-icon transparent-png\"></div><span>暂无邀请记录！</span></div>');\r\n\t\t\t}else{\r\n\t\t\t\t$(\"#g-pagination\").show();\r\n\t\t\t\t$(\"#ul_invitedlist\").html('<li class=\"p-menu\"><span class=\"u-name\">用户</span><span class=\"u-time\">时间</span><span class=\"u-num\">邀请编号</span><span class=\"u-flag\">消费状态</span></li>'+dataLi);\r\n\t\t\t}\r\n\t    }else{\r\n\r\n\t    }\r\n\t}\r\n\r\n\t//函数\r\n\tfunction getinvitedmemberinfolistAjaxFun(dataObj,Callback){\r\n\t\tif( !ajaxlack ) return; ajaxlack = false;\r\n\t\t$.ajax({\r\n\t        url: \"/member/service/getinvitedmemberinfolist\",\r\n\t        type: 'POST',\r\n\t        dataType: 'json',\r\n\t        data: dataObj\r\n\t    })\r\n\t    .done(function(data) {\r\n\t        console.log(data);\r\n\t        Callback(data);\r\n\t    })\r\n\t    .fail(function() {\r\n\t        //alert('网络错误！')\r\n\t    })\r\n\t    .always(function() {\r\n\t    \tajaxlack = true;\r\n\t    });\r\n\t}\r\n}\r\n/*******************************************************邀请管理结束**************************************************/\r\n\r\n/*******************************************************佣金明细**************************************************/\r\nif( pageTrue==\"commissionquery\" ){\r\n\tmemberXialaFun(function(e){ });\r\n\r\n\tgetmembercentercommissionlistFirstDataFun(1,8,0,'2015-01-01','2017-01-01','');\r\n\r\n\tfunction getmembercentercommissionlistFirstDataFun(page,limit,state,beginTime,endTime,keyWords){\r\n\t\tvar dataObj = {\r\n\t\t\tpage:page,\r\n\t\t\tlimit:limit,\r\n\t\t\tstate:state,\r\n\t\t\tbeginTime:beginTime,\r\n\t\t\tendTime:endTime,\r\n\t\t\tkeyWords:keyWords\r\n\t\t}\r\n\t\t// 数据加载 第一次\r\n\t\tgetmembercentercommissionlistAjaxFun(dataObj,function(data){\r\n\t\t\tvar total = data.result.total;\r\n\t\t\tgetmembercentercommissionlistAddDataFun(data);\r\n\t\t\t// 分页\r\n\t\t\tPageCreate('#g-pagination',total,limit,1,function(pageNumber){\r\n\t\t\t\tif( total!=null ){ total = null; return; }\r\n\t\t\t\tdataObj.page = pageNumber;\r\n\t\t\t\t// 翻页后数据加载\r\n\t\t\t\tgetmembercentercommissionlistAjaxFun(dataObj,function(data){\r\n\t\t\t\t\tgetmembercentercommissionlistAddDataFun(data);\r\n\t\t\t\t});\r\n\t\t    });\r\n\t\t});\r\n\t}\r\n\r\n\t// 数据插入\r\n\tfunction getmembercentercommissionlistAddDataFun(data){\r\n\t\tif( data.success ){\r\n\t    \tvar dataLi = '';\r\n\t    \t$.each(data.result.datas, function(i,item){\r\n\r\n\t    \t\tdataLi += '<li>'\r\n\t                +'<span class=\"u-time\">2015-10-22</span>'\r\n\t                +'<span class=\"u-name\"><a href=\"/\" target=\"_blank\">用户昵称</a></span>'\r\n\t                +'<span class=\"u-option\"><span>收入</span></span>'\r\n\t                +'<span class=\"u-info\"><a href=\"javascript:;\" target=\"_blank\">第33698云</a></span>'\r\n\t                +'<span class=\"u-much\"><span>￥100</span></span>'\r\n\t                +'<span class=\"u-money\"><strong class=\"green\">￥10</strong></span>'\r\n\t            +'</li>';\r\n\t    \t});\r\n\t\t\t\r\n\t\t\tif( dataLi=='' ){\r\n\t\t\t\t$(\"#g-pagination\").hide();\r\n\t\t\t\t$(\"#ul_commissionlist\").html('<div class=\"null-retips-wrapper\"><div class=\"gth-icon transparent-png\"></div><span>暂无记录！</span></div>');\r\n\t\t\t}else{\r\n\t\t\t\t$(\"#g-pagination\").show();\r\n\t\t\t\t$(\"#ul_commissionlist\").html(dataLi);\r\n\t\t\t}\r\n\t    }else{\r\n\r\n\t    }\r\n\t}\r\n\r\n\t//函数\r\n\tfunction getmembercentercommissionlistAjaxFun(dataObj,Callback){\r\n\t\tif( !ajaxlack ) return; ajaxlack = false;\r\n\t\t$.ajax({\r\n\t        url: \"getmembercentercommissionlist\",\r\n\t        type: 'POST',\r\n\t        dataType: 'json',\r\n\t        data: dataObj\r\n\t    })\r\n\t    .done(function(data) {\r\n\t        console.log(data);\r\n\t        Callback(data);\r\n\t    })\r\n\t    .fail(function() {\r\n\t        //alert('网络错误！')\r\n\t    })\r\n\t    .always(function() {\r\n\t    \tajaxlack = true;\r\n\t    });\r\n\t}\r\n}\r\n/*******************************************************佣金明细结束**************************************************/\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n});"},{"id":0,"identifier":"D:\\云购\\public\\js\\app\\detail.main.js","name":"./js/app/detail.main.js","index":7,"index2":14,"size":20014,"cacheable":true,"built":false,"optional":false,"prefetched":false,"chunks":[1],"assets":[],"issuer":null,"failed":false,"errors":0,"warnings":0,"reasons":[],"source":"require(\"../libs/query\"); //获取URL参数插件\r\nrequire(\"../libs/pagination-min\"); //分页插件\r\nrequire(\"../libs/jquery.lazyload\"); //图片预加载\r\nrequire(\"../libs/jquery.jqzoom\"); //图片放大效果\r\nrequire(\"../libs/base\"); //图片放大效果\r\nrequire(\"./public\"); //整站公共部分\r\nrequire(\"./collectFun\");\r\nrequire(\"./cartAjax\");\r\nrequire(\"./bottomFun\");\r\n$(function(){\r\n\tvar codeID = $.query.get('id');\r\n\r\n\t//图片预加载\r\n\t$(\"img.lazy\").lazyload();\r\n\t\r\n\t// 列表页面展开搜索\r\n\t$(\"#btnExpend\").on(click,function(){\r\n\t\tvar $ulheight = $(\"#ulBrandList\");\r\n\t\tif( $ulheight.height()<=84 ){\r\n\t\t\t$ulheight.height('auto');\r\n\t\t}else{\r\n\t\t\t$ulheight.height(84);\r\n\t\t}\r\n\t});\r\n\r\n\t//详细页查看更多弹层\r\n\t$(\"#li_more\").on(click, function(){\r\n\t\t$(\".ng-show-past\").animate({marginTop:\"0\"});\r\n\t});\r\n\r\n\t// 关闭更多期弹层\r\n\t$(\"#a_close\").on(click, function(){\r\n\t\t$(\".ng-show-past\").animate({marginTop:\"-524px\"});\r\n\t});\r\n\r\n\t// 直达多少期\r\n\t$(\"#btnGo\").on(click, function(){\r\n\t\tvar len = $(\".ng-pt-inner li\").length;\r\n\t\tvar txtPeriod = eval(len-$(\"#txtPeriod\").val());\r\n\t\twindow.location.href = $(\".ng-pt-inner li:eq(\"+txtPeriod+\") a\").attr(\"href\");\r\n\t});\r\n\r\n\t// 羡慕\r\n    $(\"#p_xianmu, .p_xianmu\").on(\"click\",function(){\r\n    \tvar $this = $(this);\r\n    \tif( !ajaxlack||$this.hasClass(\"xianmu-past\") ) return; ajaxlack= false;\r\n    \t$.ajax({\r\n            url: \"/post/service/insertposthits\",\r\n            type: 'POST',\r\n            dataType: 'json',\r\n            data: { postid:( postID==\"\" ? $this.attr('postid') : postID ) }\r\n        })\r\n        .done(function(data) {\r\n            console.log(data);\r\n            if( data.success ){\r\n            \t$this.find(\"em\").html(eval($this.find(\"em\").text())+1);\r\n            \t$this.addClass(\"xianmu-past\");\r\n            }else{\r\n\r\n            }\r\n        })\r\n        .fail(function() {\r\n\r\n        })\r\n        .always(function() {\r\n        \tajaxlack = true;\r\n        });\r\n    });\r\n\r\n\t// 云购标签切换\r\n\t$(\"#div_buynav a\").on(\"click\", function(){\r\n\t\tvar index = $(this).index();\r\n\t\t$(this).addClass('current').siblings().removeClass('current');\r\n\t\tif( index==0 ){\r\n\t\t\t$(\"#div_buynav .b-line\").animate({\"left\":\"0px\"});\r\n\t\t\t$(\"#div_goodsrecord\").show();\r\n\t\t\t$(\"#div_myrecord\").hide();\r\n\t\t}else if( index==1 ){\r\n\t\t\t$(\"#div_buynav .b-line\").animate({\"left\":\"100px\"});\r\n\t\t\t$(\"#div_myrecord\").show();\r\n\t\t\t$(\"#div_goodsrecord\").hide();\r\n\t\t}\r\n\t});\r\n\r\n\r\n\tif( pageTrue=='productindex' || pageTrue=='productdetail' ){\r\n\t\t// 标签切换\r\n\t\t$(\"#div_menu li\").on(\"click\", function(){\r\n\t\t\tvar index = $(this).index();\r\n\t\t\t$(this).addClass('current').siblings().removeClass('current');\r\n\t\t\t$(\".div-data-box-a, .div-data-box-b, .div-data-box-c\").hide();\r\n\t\t\tif( index==0 ){\r\n\t\t\t\t$(\".div-data-box-a\").show();\r\n\t\t\t}else if( index==1 ){\r\n\t\t\t\t$(\".div-data-box-b\").show();\r\n\t\t\t\tgetuserbuylistbycodeDataFun(1,10,codeID); //参与记录\r\n\t\t\t}else if( index==2 ){\r\n\t\t\t\t$(\".div-data-box-c\").show();\r\n\t\t\t\tgetgoodspostlistDataFun(1,10,codeID);  //晒单记录\r\n\t\t\t}\r\n\t\t});\r\n\r\n\r\n\t\t// 最新云购记录\r\n\t\tvar UserBuyNewListidname = \"#UserBuyNewList\";\r\n\t\tvar $UserBuyNewListid = $(UserBuyNewListidname);\r\n\t\tvar maxId = '';\r\n\t\tvar dataObj = {\r\n\t\t\tpage:1,\r\n\t\t\tlimit:11,\r\n\t\t\tcodeID:codeID,\r\n\t\t\tid:maxId\r\n\t\t}\r\n\t\tgetuserbuylistbycodeAjaxFun(dataObj,function(data){\r\n\t\t\tdataObj.limit = 11;\r\n\t\t\tListaddDataFun(data);\r\n\t\t});\r\n\t\tsetInterval(function(){\r\n\t\t\tdataObj.limit = 1;\r\n\t\t\tgetuserbuylistbycodeAjaxFun(dataObj,function(data){\r\n\t\t\t\tListaddDataFun(data);\r\n\t\t\t});\r\n\t\t},10000);\r\n\r\n\t\tfunction ListaddDataFun(data){\r\n\t\t\tvar dataLi = '';\r\n        \tmaxId = data.result.maxId;\r\n        \t$.each(data.result.datas, function(i,item){\r\n\t\t\t\tvar userPhoto = item.userPhoto=='' ? '/Images/UserFace-160-0000.jpg':item.userPhoto;\r\n\t\t\t\tvar buyDevice = item.buyDevice; //0\r\n\t\t\t\tvar buyID = item.buyID; //\"56761153887c22184e8b45b5\"\r\n\t\t\t\tvar buyIP = item.buyIP; //\"222.70.142.142\"\r\n\t\t\t\tvar buyIPAddr = item.buyIPAddr; //\"中国上海\"\r\n\t\t\t\tvar buyNum = item.buyNum; //1\r\n\t\t\t\tvar buyTime = item.buyTime; //\"2016-01-01 14:20:38.499\"\r\n\t\t\t\tvar userName = item.userName; //\"15821****14\"\r\n\t\t\t\tvar userWeb = item.userWeb; //\"56761153887c22184e8b45b5\"\r\n\t\t\t\tdataLi += '<li><a rel=\"nofollow\" href=\"/yungou/member/index?id='+userWeb+'\" target=\"_blank\" class=\"buy-name\"><i class=\"head-s-pic\"><img src=\"'+userPhoto+'\" width=\"22\" height=\"22\"></i>'+userName+'</a><span class=\"buy-num\">'+buyNum+'</span>人次</li>';\t\t\t    \r\n\t\t\t});\r\n\r\n        \tif( dataLi==\"\"&&!maxId ){\r\n        \t\t$UserBuyNewListid.html('<div class=\"null-tips-wrapper clearfix\"><div class=\"gth-icon transparent-png\"></div><div class=\"null-text\"><p>还没有人参与？</p><p>梦想与您只有1元的距离！</p></div></div>');\r\n        \t\treturn;\r\n        \t}\r\n\r\n\t\t\tif( dataObj.limit>1 ){\r\n\t\t\t\t$UserBuyNewListid.html(dataLi);\r\n\t\t\t}else if( dataLi!=\"\" ){\r\n\t\t\t\t$(\"#div_goodsrecord .select-all\").show();\r\n\t\t\t\t$UserBuyNewListid.prepend(dataLi);\r\n\t\t\t\t$UserBuyNewListid.css({marginTop:\"-33px\"}).animate({marginTop:\"0\"},function(){\r\n\t\t\t\t\tif( $UserBuyNewListid.find(\"li\").length>11 ){\r\n\t\t\t\t\t\t$(UserBuyNewListidname+\" li:last\").remove();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// 查看全部\r\n\t\t$(\"#div_goodsrecord .select-all\").on(\"click\",function(){\r\n\t\t\t$(\"#ul_menu li:eq(1)\").addClass('current').siblings().removeClass('current');\r\n\t\t\t$(\"#div_desc, #div_allrecord, #div_postlist\").hide();\r\n\t\t\t$(\"#div_allrecord\").show();\r\n\t\t\t$(document).scrollTop(750);\r\n\t\t\tgetuserbuylistbycodeDataFun(1,10,codeID);\r\n\t\t});\r\n\r\n\t\t// 增加商品数量\r\n\t\t$(\".add\").on(\"click\",function(){ // cur 不可选择样式\r\n\t\t\tvar $this = $(this);\r\n\t\t\tvar val = eval($this.siblings(\"input\").val());\r\n\t\t\tvar goodsid = $this.siblings(\"input\").attr(\"goodsid\");\r\n\t\t\tvar remainpersontime = eval($(\"#remainPersonTime\").attr('remainpersontime'));\r\n\t\t\tconsole.log(val>remainpersontime,val,remainpersontime)\r\n\t\t\tif( val>=remainpersontime ){\r\n\t\t\t\t$this.siblings(\"input\").val(remainpersontime);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t$this.siblings(\"input\").val(eval(val)+1);\r\n\t\t});\r\n\r\n\t\t// 减少商品数量\r\n\t\t$(\".mius\").on(\"click\",function(){\r\n\t\t\tvar $this = $(this);\r\n\t\t\tvar val = eval($this.siblings(\"input\").val());\r\n\t\t\tvar goodsid = $this.siblings(\"input\").attr(\"goodsid\");\r\n\t\t\tif( val<=1 ) return;\r\n\t\t\t$this.siblings(\"input\").val(val-1);\r\n\t\t});\r\n\r\n\t\t// 数量选择\r\n\t\tvar purchasePersonTime = $(\"#purchasePersonTime\").attr('purchasePersonTime'); //已参与\r\n\t\tvar totalPersonTime = $(\"#totalPersonTime\").attr('totalPersonTime'); //总需人次\r\n\t\tvar remainPersonTime = $(\"#remainPersonTime\").attr('remainPersonTime'); //剩余\r\n\t\tvar numPerson = parseInt(totalPersonTime-remainPersonTime); //还剩余\r\n\t\tvar $checkNum =  $(\".check-num\");\r\n\t\tif( numPerson>=200 ){\r\n\t\t\t$checkNum.append('<li>200</li>')\r\n\t\t}else if( numPerson>=100 ){\r\n\t\t\t$checkNum.append('<li>100</li>')\r\n\t\t}else if( numPerson>=50 ){\r\n\t\t\t$checkNum.append('<li>50</li>')\r\n\t\t}else if( numPerson>=10 ){\r\n\t\t\t$checkNum.append('<li>10</li>')\r\n\t\t}\r\n\r\n\t\t// 价格选择\r\n\t\tvar t;\r\n\t\t$(\".ng-goods-detail .check-num li\").on(\"click\", function(){\r\n\t\t\tvar val = $(this).text();\r\n\t\t\t$(\"#divNumber input\").val(val);\r\n\t\t\t$(this).addClass(\"current\").siblings().removeClass(\"current\");\r\n\t\t\t$(\".mine-prob\").show().html('<span class=\"txt\">获得机率'+(parseInt(val/totalPersonTime*100).toFixed(2))+'%</span>');//<i></i>\r\n\t\t\tt = setTimeout(function(){\r\n\t\t\t\t$(\".mine-prob\").hide();\r\n\t\t\t\tclearTimeout(t);\r\n\t\t\t},2000);\r\n\t\t});\r\n\t}\r\n\r\n\tif( pageTrue=='productdetail' ){\r\n\t\tCountdownFun(\"#ul_lotterytime\",$(\"#ul_lotterytime\").attr('seconds'),function(e,id){\r\n\t\t\tif( e==true ){\r\n\t\t\t\t$(id).hide();\r\n\t\t\t\t$(\"#div_eveling\").show();\r\n\t\t\t\twindow.location.href = '/yungou/lottery/detail?id='+$.query.get('id');\r\n\t\t\t}else{\r\n\t\t\t\t$(id).html('<li class=\"cur\">'+e[0]+'</li><li>:</li><li class=\"cur\">'+e[1]+'</li><li>:</li><li class=\"cur\">'+e[2]+'</li>');\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\r\n\t// **********参与记录*********/\r\n\tfunction getuserbuylistbycodeDataFun(page,limit,codeID){\r\n\t\t$(\"#div_allrecord .record\").html('<div class=\"ng-b-wait\"></div>');\r\n\t\tvar dataObj = {\r\n\t\t\tpage:page,\r\n\t\t\tlimit:limit,\r\n\t\t\tcodeID:codeID\r\n\t\t}\r\n\t\t// 数据加载 第一次\r\n\t\tgetuserbuylistbycodeAjaxFun(dataObj,function(data){\r\n\t\t\tvar total = data.result.total;\r\n\t\t\tgetuserbuylistbycodeAddDataFun(data);\r\n\t\t\t// 分页\r\n\t\t\tPageCreate('#g-pagination-a',total,limit,1,function(pageNumber){\r\n\t\t\t\tif( total!=null ){ total = null; return; }\r\n\t\t\t\tdataObj.page = pageNumber;\r\n\t\t\t\t// 翻页后数据加载\r\n\t\t\t\tgetuserbuylistbycodeAjaxFun(dataObj,function(data){\r\n\t\t\t\t\tgetuserbuylistbycodeAddDataFun(data);\r\n\t\t\t\t});\r\n\t\t    });\r\n\t\t});\r\n\t}\r\n\r\n\t// 数据插入\r\n\tfunction getuserbuylistbycodeAddDataFun(data){\r\n\t\tif( data.success ){\r\n\t    \tvar dataLi = '';\r\n\t    \t$.each(data.result.datas, function(i,item){\r\n\t    \t\tvar userPhoto = item.userPhoto=='' ? '/Images/UserFace-160-0000.jpg':item.userPhoto;\r\n\t\t\t\tvar buyDevice = item.buyDevice; //0\r\n\t\t\t\tvar buyID = item.buyID; //\"56761153887c22184e8b45b5\"\r\n\t\t\t\tvar buyIP = item.buyIP; //\"222.70.142.142\"\r\n\t\t\t\tvar buyIPAddr = item.buyIPAddr; //\"中国上海\"\r\n\t\t\t\tvar buyNum = item.buyNum; //1\r\n\t\t\t\tvar buyTime = item.buyTime; //\"2016-01-01 14:20:38.499\"\r\n\t\t\t\tvar userName = item.userName; //\"15821****14\"\r\n\t\t\t\tvar userWeb = item.userWeb; //\"56761153887c22184e8b45b5\"\r\n\t    \t\tdataLi += '<li>'\r\n                    +'<span class=\"time\">'+buyTime+'</span>'\r\n                    +'<span class=\"name\">'\r\n                        +'<span class=\"w\">'\r\n                            +'<a href=\"/yungou/member/index?id='+userWeb+'\" target=\"_blank\">'\r\n                                +'<i class=\"head-s-img\">'\r\n                                    +'<img src=\"'+userPhoto+'\" width=\"22\" height=\"22\">'\r\n                                +'</i>'+userName+'</a>'\r\n                        +'</span>'\r\n                    +'</span>'\r\n                    +'<span class=\"people\">'+buyNum+'<a name=\"showCode\" href=\"javascript:;\">查看云购码</a></span>'\r\n                    +'<span class=\"ip\">'+buyIPAddr+'&nbsp;&nbsp;'+buyIP+'</span>'\r\n                    +'<span class=\"form\"><a href=\"javascript:;\" target=\"_blank\">PC端<i class=\"f-icon pc\"></i></a></span>'\r\n                +'</li>';\r\n\t    \t});\r\n\t\t\t\r\n\t\t\tif( dataLi=='' ){\r\n\t\t\t\t$(\"#g-pagination-a\").hide();\r\n\t\t\t\t$(\"#div_allrecord .record\").html('<div class=\"null-retips-wrapper\"><div class=\"gth-icon transparent-png\"></div><span>还没有人参与？梦想与您只有1元的距离！</span></div>');\r\n\t\t\t}else{\r\n\t\t\t\t$(\"#g-pagination-a\").show();\r\n\t\t\t\t$(\"#div_allrecord .record\").html('<ul class=\"record-list\">'\r\n\t                +'<li class=\"record-menu\">'\r\n\t                    +'<span class=\"time\">时间</span><span class=\"name\">会员</span><span class=\"people\">参与人次</span><span class=\"ip\">IP</span><span class=\"form\">来源</span>'\r\n\t                +'</li>'+dataLi\r\n\t            +'</ul>');\r\n\t\t\t}\r\n\t    }else{\r\n\r\n\t    }\r\n\t}\r\n\r\n\t//函数\r\n\tfunction getuserbuylistbycodeAjaxFun(dataObj,Callback){\r\n\t\tif( !ajaxlack ) return; ajaxlack = false;\r\n\t\t$.ajax({\r\n\t        url: \"/order/service/getuserbuylistbycode\",\r\n\t        type: 'POST',\r\n\t        dataType: 'json',\r\n\t        data: dataObj\r\n\t    })\r\n\t    .done(function(data) {\r\n\t        console.log(data);\r\n\t        Callback(data);\r\n\t    })\r\n\t    .fail(function() {\r\n\t        //alert('网络错误！')\r\n\t    })\r\n\t    .always(function() {\r\n\t    \tajaxlack = true;\r\n\t    });\r\n\t}\r\n\r\n\r\n\t// **********晒单*********/\r\n\tfunction getgoodspostlistDataFun(page,limit,goodsID){\r\n\t\t$(\".ng-share-data\").html('<div class=\"ng-b-wait\"></div>');\r\n\t\tvar dataObj = {\r\n\t\t\tpage:page,\r\n\t\t\tlimit:limit,\r\n\t\t\tgoodsID:goodsID\r\n\t\t}\r\n\t\t// 数据加载 第一次\r\n\t\tgetgoodspostlistAjaxFun(dataObj,function(data){\r\n\t\t\tvar total = data.result.total;\r\n\t\t\tgetgoodspostlistAddDataFun(data);\r\n\t\t\t// 分页\r\n\t\t\tPageCreate('#g-pagination-a',total,limit,1,function(pageNumber){\r\n\t\t\t\tif( total!=null ){ total = null; return; }\r\n\t\t\t\tdataObj.page = pageNumber;\r\n\t\t\t\t// 翻页后数据加载\r\n\t\t\t\tgetgoodspostlistAjaxFun(dataObj,function(data){\r\n\t\t\t\t\tgetgoodspostlistAddDataFun(data);\r\n\t\t\t\t});\r\n\t\t    });\r\n\t\t});\r\n\t}\r\n\r\n\t// 数据插入\r\n\tfunction getgoodspostlistAddDataFun(data){\r\n\t\tif( data.success ){\r\n\t    \tvar dataLi = '';\r\n\t    \t$(\"#div_postlist .total .gray6\").html(data.result.Count);\r\n\t    \t$(\"#div_postlist .total .orange\").html(data.result.CountEx);\r\n\t    \t$.each(data.result.datas, function(i,item){\r\n\t    \t\tvar userPhoto = item.userPhoto=='' ? '/Images/UserFace-160-0000.jpg':item.userPhoto;\r\n\t\t\t\tvar codePeriod = item.codePeriod;//: \"2\"\r\n\t\t\t\tvar grade = item.grade;//: \"01\"\r\n\t\t\t\tvar gradeName = item.gradeName;//: \"云购小将\"\r\n\t\t\t\tvar postAllPic = item.postAllPic.split(',');//: \"/upload/post/5688bd8d887c226e6a8b5725,/upload/post/5688bd69887c22184e8b4600,/upload/post/5688bd58887c2210688b4619\"\r\n\t\t\t\tvar postContent = item.postContent.substr(0,180)+\"...\";//: \"感言3333云购感言3333\"\r\n\t\t\t\tvar postHits = item.postHits;//: \"2\"\r\n\t\t\t\tvar postID = item.postID;//: \"5688af90887c22054a8b45ea\"\r\n\t\t\t\tvar postReplyCount = item.postReplyCount;//: \"0\"\r\n\t\t\t\tvar postTimeEx = item.postTimeEx;//: \"2016-01-03 14:19:59\"\r\n\t\t\t\tvar postTitle = item.postTitle;//: \"我的主体啊\"\r\n\t\t\t\tvar userName = item.userName;//: \"13564****96\"\r\n\t\t\t\tvar userWeb = item.userWeb;//: \"56757a39887c22034a8b4596\"\r\n\t\t\t\tvar imgLi = ''\r\n\t\t\t\tfor( var i=0; i<postAllPic.length; i++ ) {\r\n\t\t\t\t\timgLi += '<li><span><img width=\"71px\" height=\"71px\" src=\"'+postAllPic[i]+'\"></span><div class=\"pic-hover transparent-png\" style=\"display:none;\"></div></li>';\r\n\t\t\t\t};\r\n\r\n\t    \t\tdataLi += '<div class=\"ng-share-detail clearfix\">'\r\n\t                +'<div class=\"ng-share-pic\">'\r\n\t                    +'<a href=\"/yungou/member/index?id='+userWeb+'\" type=\"showCard\" uweb=\"'+userWeb+'\" target=\"_blank\">'\r\n\t                        +'<img src=\"'+userPhoto+'\" alt=\"\" width=\"80\" height=\"80\">'\r\n\t                    +'</a>'\r\n\t                +'</div>'\r\n\t                +'<div class=\"ng-share-con\">'\r\n\t                    +'<div class=\"name-line\">'\r\n\t                        +'<a href=\"/yungou/post/detail?id='+postID+'\" target=\"_blank\" rel=\"nofollow\" class=\"u-name\">'+userName+'</a>'\r\n\t                        +'<span class=\"u-time\">'+postTimeEx+'</span>'\r\n\t                    +'</div>'\r\n\t                    +'<div class=\"u-data\">'\r\n\t                        +'<span class=\"u-num\">第<span>'+codePeriod+'</span>云晒单</span>'\r\n\t                        +'<a href=\"/yungou/post/detail?id='+postID+'\" class=\"u-show\" target=\"_blank\">'+postTitle+'</a>'\r\n\t                    +'</div>'\r\n\t                    +'<div class=\"share-info\">'\r\n\t                        +'<p>'\r\n\t                            +'<a href=\"/yungou/post/detail?id='+postID+'\" target=\"_blank\">'+postContent+'</a>'\r\n\t                        +'</p>'\r\n\t                    +'</div>'\r\n\t                    +'<div class=\"pic-list-wrap\">'\r\n\t                        +'<ul class=\"pic-list clearfix\">'+imgLi+'</ul>'\r\n\t                        +'<div class=\"talk-wrap\">'\r\n\t                            +'<a href=\"javascript:;\" num=\"0\" postid=\"'+postID+'\" class=\"xianmu '+(grade==\"01\" ? \"xianmu-past\" : \"\")+'\">'\r\n\t                                +'<i class=\"transparent-png\"></i>羡慕(<em>'+postHits+'</em>)<img class=\"transparent-png\" src=\"/Images/xin.png\">'\r\n\t                            +'</a>'\r\n\t                            +'<a rel=\"nofollow\" href=\"/yungou/post/detail?id='+postID+'\" target=\"_blank\" class=\"pinglun\">'\r\n\t                                +'<i class=\"transparent-png\"></i>评论(<em>'+postReplyCount+'</em>)'\r\n\t                            +'</a>'\r\n\t                        +'</div>'\r\n\t                    +'</div>'\r\n\t                +'</div>'\r\n\t                +'<div class=\"clear\"></div>'\r\n\t            +'</div>';\r\n\t    \t});\r\n\t\t\t\r\n\t\t\tif( dataLi=='' ){\r\n\t\t\t\t$(\"#g-pagination-b, #div_postlist .total\").hide();\r\n\t\t\t\t$(\"#div_postlist .ng-share-data\").html('<div class=\"null-retips-wrapper\"><div class=\"gth-icon transparent-png\"></div><span>暂无晒单记录哦！</span></div>');\r\n\t\t\t}else{\r\n\t\t\t\t$(\"#g-pagination-b, #div_postlist .total\").show();\r\n\t\t\t\t$(\".null-retips-wrapper, .ng-b-wait\").remove();\r\n\t\t\t\t$(\"#div_postlist .ng-share-data\").html(dataLi);\r\n\t\t\t}\r\n\t    }else{\r\n\r\n\t    }\r\n\t}\r\n\r\n\t//函数\r\n\tfunction getgoodspostlistAjaxFun(dataObj,Callback){\r\n\t\tif( !ajaxlack ) return; ajaxlack = false;\r\n\t\t$.ajax({\r\n\t        url: \"/post/service/getgoodspostlist\",\r\n\t        type: 'POST',\r\n\t        dataType: 'json',\r\n\t        data: dataObj\r\n\t    })\r\n\t    .done(function(data) {\r\n\t        console.log(data);\r\n\t        Callback(data);\r\n\t    })\r\n\t    .fail(function() {\r\n\t        //alert('网络错误！')\r\n\t    })\r\n\t    .always(function() {\r\n\t    \tajaxlack = true;\r\n\t    });\r\n\t}\r\n\r\n\tif( pageTrue=='lotteryDetail' ){\r\n\r\n\t\t// 展开\r\n\t\t$(\"#div_showmore\").on('click',function(){\r\n\t\t\tif( $(this).hasClass('up') ){\r\n\t\t\t\t$(\"#div_nginner\").animate({\"height\":\"332px\"});\r\n\t\t\t\t$(this).removeClass('up').html('<span>展开全部100条数据<b><s></s></b></span>');\r\n\t\t\t}else{\r\n\t\t\t\t$(\"#div_nginner\").animate({\"height\":\"4004px\"});\r\n\t\t\t\t$(this).addClass('up').html('<span>收起<b><s></s></b></span>');\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t// 标签切换\r\n\t\t$(\"#ul_menu li\").on(\"click\", function(){\r\n\t\t\tvar index = $(this).index();\r\n\t\t\t$(this).addClass('current').siblings().removeClass('current');\r\n\t\t\t$(\".div-data-box-a, .div-data-box-b, .div-data-box-c\").hide();\r\n\t\t\tif( index==0 ){\r\n\t\t\t\t$(\"#midNavLine\").animate({\"left\":\"384px\"});\r\n\t\t\t\t$(\".div-data-box-a\").show();\r\n\t\t\t}else if( index==1 ){\r\n\t\t\t\t$(\"#midNavLine\").animate({\"left\":\"558px\"});\r\n\t\t\t\t$(\".div-data-box-b\").show();\r\n\t\t\t\tgetuserbuylistbycodeDataFun(1,10,codeID); //参与记录\r\n\t\t\t}else if( index==2 ){\r\n\t\t\t\t$(\"#midNavLine\").animate({\"left\":\"732px\"});\r\n\t\t\t\t$(\".div-data-box-c\").show();\r\n\t\t\t\tgetgoodspostlistDataFun(1,10,codeID);  //晒单记录\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tgetlotteryrecordsAjaxFun();\r\n\t\tfunction getlotteryrecordsAjaxFun(){\r\n\t\t\t$.ajax({\r\n\t\t        url: \"/goods/service/getlotteryrecords\",\r\n\t\t        type: 'POST',\r\n\t\t        dataType: 'json',\r\n\t\t        data: { codeId:$.query.get('id') }\r\n\t\t    })\r\n\t\t    .done(function(data) {\r\n\t\t        console.log(data);\r\n\t\t        if( data.success ){\r\n\t\t        \tvar recordEndA = data.result.recordEnd2;\r\n\t\t        \tvar recordEndB = data.result.recordEnd3;\r\n\t\t        \tvar dataLiA = '';\r\n\t\t        \tvar dataLiB = '';\r\n\t\t        \t$.each(recordEndA, function(i,item){\r\n\t\t\t\t\t\tvar buyID = item.buyID; //: \"56861ab5887c22024a8b468b\"\r\n\t\t\t\t\t\tvar buyNum = item.buyNum;//: 1\r\n\t\t\t\t\t\tvar buyTime = item.buyTime;//: \"2016-01-01 14:20:38.499\"\r\n\t\t\t\t\t\tvar goodsName = item.goodsName;//: \"【周黑鸭旗舰店_锁鲜装】盒装鸭翅190g*2 武汉特产官方食品零食\"\r\n\t\t\t\t\t\tvar goodsPeriod = item.goodsPeriod;//: \"1\"\r\n\t\t\t\t\t\tvar timeCodeVal = item.timeCodeVal;//: \"142038499\"\r\n\t\t\t\t\t\tvar userName = item.userName;//: \"15821****14\"\r\n\t\t\t\t\t\tvar userWeb = item.userWeb;//: \"56761153887c22184e8b45b5\"\r\n\t\t\t\t\t\tdataLiA += '<li>'\r\n                            +'<span class=\"time\">'+buyTime+'</span>'\r\n                            +'<span class=\"code\">'+timeCodeVal+'</span>'\r\n                            +'<span class=\"name\"><a href=\"/yungou/member/index?id='+userWeb+'\" target=\"_blank\">'+userName+'</a></span>'\r\n                            +'<span class=\"num\">'+buyNum+'人次</span>'\r\n                            +'<span class=\"pro\"><a href=\"javascript:;\" target=\"_blank\">'+goodsName+'</a>'\r\n                            +'</span>'\r\n                        +'</li>';\t\t\t    \r\n\t\t\t\t\t});\r\n\t\t\t\t\t$.each(recordEndB, function(i,item){\r\n\t\t\t\t\t\tvar buyID = item.buyID; //: \"56861ab5887c22024a8b468b\"\r\n\t\t\t\t\t\tvar buyNum = item.buyNum;//: 1\r\n\t\t\t\t\t\tvar buyTime = item.buyTime;//: \"2016-01-01 14:20:38.499\"\r\n\t\t\t\t\t\tvar goodsName = item.goodsName;//: \"【周黑鸭旗舰店_锁鲜装】盒装鸭翅190g*2 武汉特产官方食品零食\"\r\n\t\t\t\t\t\tvar goodsPeriod = item.goodsPeriod;//: \"1\"\r\n\t\t\t\t\t\tvar timeCodeVal = item.timeCodeVal;//: \"142038499\"\r\n\t\t\t\t\t\tvar userName = item.userName;//: \"15821****14\"\r\n\t\t\t\t\t\tvar userWeb = item.userWeb;//: \"56761153887c22184e8b45b5\"\r\n\t\t\t\t\t\tdataLiB += '<li>'\r\n                            +'<span class=\"time\">'+buyTime+'</span>'\r\n                            +'<span class=\"code\"></span>'\r\n                            +'<span class=\"name\"><a href=\"/yungou/member/index?id='+userWeb+'\" target=\"_blank\">'+userName+'</a></span>'\r\n                            +'<span class=\"num\">'+buyNum+'人次</span>'\r\n                            +'<span class=\"pro\"><a href=\"javascript:;\" target=\"_blank\">'+goodsName+'</a>'\r\n                            +'</span>'\r\n                        +'</li>';\t\t\t    \r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\t$(\"#div_nginner ul\").html(dataLiA);\r\n\t\t\t\t\t$(\"ul.ng-tc-ul\").html(dataLiB);\r\n\t\t        }\r\n\t\t    })\r\n\t\t    .fail(function() {\r\n\t\t        //alert('网络错误！')\r\n\t\t    })\r\n\t\t    .always(function() {\r\n\t\t    \tajaxlack = true;\r\n\t\t    });\r\n\t\t}\r\n\r\n\t}\r\n\r\n\r\n\r\n});"},{"id":0,"identifier":"D:\\云购\\public\\js\\app\\lottery.main.js","name":"./js/app/lottery.main.js","index":19,"index2":19,"size":10772,"cacheable":true,"built":false,"optional":false,"prefetched":false,"chunks":[5],"assets":[],"issuer":null,"failed":false,"errors":0,"warnings":0,"reasons":[],"source":"require(\"../libs/query\");\r\nrequire(\"../libs/pagination-min\");\r\nrequire(\"../libs/jquery.lazyload\");\r\nrequire(\"../libs/jquery.fly.min\");\r\nrequire(\"../libs/jquery.jqzoom\");\r\nrequire(\"../libs/base\");\r\nrequire(\"./public\");\r\nrequire(\"./collectFun\");\r\nrequire(\"./bottomFun\");\r\nrequire(\"./cartAjax\");\r\n\r\n$(function(){\r\n\r\n\r\n\t$(\"#divLottery .m-lottery-list\").hover(function(){\r\n\t\tif( $(this).attr('type')!=\"isRaff\" ) return;\r\n\t\t$(this).addClass(\"m-lottery-hover\");\r\n\t},function(){\r\n\t\t$(this).removeClass(\"m-lottery-hover\");\r\n\t});\r\n\r\n\t// 已经揭晓\r\n\tgetlotterylistFirstDataFun(1,8,'');\r\n\r\n\tfunction getlotterylistFirstDataFun(page,limit,SortID){\r\n\t\t$(\"#divLoading\").show();\r\n\t\t$(\"#divLottery, #g-pagination\").hide();\r\n\t\tvar dataObj = {\r\n\t\t\tpage:page,\r\n\t\t\tlimit:limit,\r\n\t\t\tSortID:SortID\r\n\t\t}\r\n\t\t// 数据加载 第一次\r\n\t\tgetlotterylistAjaxFun(dataObj,function(data){\r\n\t\t\tvar total = data.result.total;\r\n\t\t\tgetlotterylistAddDataFun(data);\r\n\t\t\t// 分页\r\n\t\t\tPageCreate('#g-pagination',total,limit,1,function(pageNumber){\r\n\t\t\t\tif( total!=null ){ total = null; return; }\r\n\t\t\t\tdataObj.page = pageNumber;\r\n\t\t\t\t// 翻页后数据加载\r\n\t\t\t\t$(\"#divLoading\").show();\r\n\t\t\t\t$(\"#divLottery, #g-pagination\").hide();\r\n\t\t\t\tgetlotterylistAjaxFun(dataObj,function(data){\r\n\t\t\t\t\tgetlotterylistAddDataFun(data);\r\n\t\t\t\t});\r\n\t\t    });\r\n\t\t});\r\n\t}\r\n\r\n\t// 数据插入\r\n\tfunction getlotterylistAddDataFun(data){\r\n\t\tif( data.success ){\r\n\t    \tvar dataLi = '';\r\n\t    \t$.each(data.result.datas, function(i,item){\r\n\t    \t\tvar codeID = item.codeID;//: \"5688c368887c22cf6c8b4699\"\r\n\t\t\t\tvar codePeriod = item.codePeriod;//: \"2\"\r\n\t\t\t\tvar codePrice = item.codePrice;//: \"2.00\"\r\n\t\t\t\tvar codeType = item.codeType;//: 0\r\n\t\t\t\tvar goodsName = item.goodsName;//: \"包邮港荣奶香蒸蛋糕整箱1kg 蒸蛋糕鸡蛋糕 代餐糕点零食品 新日期\"\r\n\t\t\t\tvar goodsPic = item.goodsPic;//: \"/upload/goods/1/1_161660a1e2tb1w8ix___0-item_pic.jpg\"\r\n\t\t\t\tvar postID = item.postID;//: 0\r\n\t\t\t\tvar raffTime = item.raffTime;//: \"2016-01-03 14:58:29.883\"\r\n\t\t\t\tvar seconds = item.seconds;//: 194508\r\n\t\t\t\tvar userAddr = item.userAddr;//: \"中国上海\"\r\n\t\t\t\tvar userBuyNum = item.userBuyNum;//: \"1\"\r\n\t\t\t\tvar userName = item.userName;//: \"56761****87\"\r\n\t\t\t\tvar userPhoto = item.userPhoto;//: \"/upload/member/avatar/UserFace-160-0000.jpg\"\r\n\t\t\t\tvar userRNO = item.userRNO;//: \"10000002\"\r\n\t\t\t\tvar userWeb = item.userWeb;//: \"56761153887c22184e8b45b5\"\r\n\t\t\t\tdataLi += '<div class=\"m-lottery-list\" type=\"isRaff\">'\r\n\t\t\t\t    +'<ul>'\r\n\t\t\t\t        +'<li class=\"f-lott-comm\"><a href=\"/yungou/lottery/detail?id='+codeID+'\" target=\"_blank\"><img src=\"'+goodsPic+'\"></a></li>'\r\n\t\t\t\t        +'<li class=\"f-lott-detailed\">'\r\n\t\t\t\t            +'<div class=\"u-user-info\">'\r\n\t\t\t\t                +'<p class=\"fl\"><a href=\"/yungou/member/index?id='+userWeb+'\" target=\"_blank\"><img type=\"userPhoto\" src=\"'+userPhoto+'\"><s></s></a></p>'\r\n\t\t\t\t                +'<dl class=\"fl\">'\r\n\t\t\t\t                    +'<dt><em>获得者：</em><span><a href=\"/yungou/member/index?id='+userWeb+'\" target=\"_blank\">'+userName+'</a></span></dt>'\r\n\t\t\t\t                    +'<dd class=\"z-lott-lz\">来自：'+userAddr+'</dd>'\r\n\t\t\t\t                    +'<dd>幸运云购码：<strong class=\"orange\">'+userRNO+'</strong></dd>'\r\n\t\t\t\t                    +'<dd>本云参与：<i class=\"orange\">'+userBuyNum+'</i>人次</dd>'\r\n\t\t\t\t                +'</dl>'\r\n\t\t\t\t            +'</div>'\r\n\t\t\t\t            +'<div class=\"u-comm-info\">'\r\n\t\t\t\t                +'<dl>'\r\n\t\t\t\t                    +'<dt><a href=\"javascript:;\" target=\"_blank\">'+goodsName+'</a></dt>'\r\n\t\t\t\t                    +'<dd>商品价值：￥'+codePrice+'</dd>'\r\n\t\t\t\t                    +'<dd>揭晓时间：'+raffTime+'</dd>'\r\n\t\t\t\t                    +'<dd class=\"z-lott-btn\"><span><a href=\"/yungou/lottery/detail?id='+codeID+'\" target=\"_blank\" title=\"查看详情\">查看详情</a></span></dd>'\r\n\t\t\t\t                +'</dl>'\r\n\t\t\t\t            +'</div>'\r\n\t\t\t\t        +'</li>'\r\n\t\t\t\t    +'</ul>'\r\n\t\t\t\t+'</div>';\t    \t\t\r\n\t    \t});\r\n\t\t\t\r\n\t\t\tif( dataLi=='' ){\r\n\t\t\t\t$(\"#g-pagination\").hide();\r\n\t\t\t\t$(\"#divLottery\").html('<div class=\"null-data\" style=\"width: 990px;text-align: center;border-right: 1px solid #e4e4e4;  border-bottom: 1px solid #e4e4e4;padding: 100px;\"><b class=\"gth-icon transparent-png\"></b>暂无记录！</div>');\r\n\t\t\t}else{\r\n\t\t\t\t$(\"#divLoading\").hide();\r\n\t\t\t\t$(\"#g-pagination, #divLottery\").show();\r\n\t\t\t\t$(\"#divLottery\").append(dataLi);\r\n\t\t\t}\r\n\r\n\t\t\t// 添加样式\r\n\t\t\taddClassFun();\r\n\t    }else{\r\n\r\n\t    }\r\n\t}\r\n\r\n\t// 添加样式函数\r\n\tfunction addClassFun(){\r\n\t\t$(\"#divLottery .m-lottery-list\").removeClass('m-lottery-special m-lottery-bor-rb');\r\n\t\t$(\"#divLottery .m-lottery-list\").each(function(index, item){\r\n\t\t    var $div = $(item);\r\n\t\t    if( (index+1) % 3 === 0 ){\r\n\t\t        if( $div.attr(\"type\")==\"isRaff\" ){\r\n\t\t        \t$div.addClass('m-lottery-special');\r\n\t\t        }else{\r\n\t\t        \t$div.addClass('m-lottery-bor-rb');\r\n\t\t        }\r\n\t\t    }\r\n\t\t});\r\n\t}\r\n\r\n\t//函数\r\n\tfunction getlotterylistAjaxFun(dataObj,Callback){\r\n\t\tif( !ajaxlack ) return; ajaxlack = false;\r\n\t\t$.ajax({\r\n\t        url: \"/goods/service/getlotterylist\",\r\n\t        type: 'POST',\r\n\t        dataType: 'json',\r\n\t        data: dataObj\r\n\t    })\r\n\t    .done(function(data) {\r\n\t        console.log(data);\r\n\t        Callback(data);\r\n\t    })\r\n\t    .fail(function() {\r\n\t        //alert('网络错误！')\r\n\t    })\r\n\t    .always(function() {\r\n\t    \tajaxlack = true;\r\n\t    });\r\n\t}\r\n\r\n\r\n\r\n\tvar maxSeconds = '';\r\n    getstartrafflealllistAjaxFun(1,100,maxSeconds);\r\n\t// 最新揭晓\r\n\tfunction getstartrafflealllistAjaxFun(page,limit,time){\r\n        $.ajax({\r\n            url: \"/goods/service/getstartrafflealllist\",\r\n            type: 'POST',\r\n            dataType: 'json',\r\n            data: { page:page, limit:limit, time:time }\r\n        })\r\n        .done(function(data) {\r\n            console.log(data);\r\n            if( data.success ){\r\n            \tvar dataLi = '';\r\n            \tmaxSeconds = data.result.maxSeconds;\r\n            \t$.each(data.result.datas, function(i,item){\r\n\t\t\t\t\tvar userPhoto = item.userPhoto=='' ? '/Images/UserFace-160-0000.jpg':item.userPhoto;\r\n\t\t\t\t\tvar goodsPic = item.goodsPic;\r\n\t\t\t\t\tvar goodsSName = item.goodsSName;\r\n\t\t\t\t\tvar codeID = item.codeID;\r\n\t\t\t\t\tvar codeQuantity = item.codeQuantity;\r\n\t\t\t\t\tvar codeSales = item.codeSales;\r\n\t\t\t\t\tvar codeType = item.codeType;\r\n\t\t\t\t\tvar period = item.period;\r\n\t\t\t\t\tvar price = item.price;\r\n\t\t\t\t\tvar seconds = item.seconds;\r\n\t\t\t\t\tdataLi = '<div class=\"m-lottery-list m-lottery-anning\" id=\"'+codeID+'\">'\r\n\t\t\t\t\t    +'<ul>'\r\n\t\t\t\t\t        +'<li class=\"f-lott-comm\">'\r\n\t\t\t\t\t            +'<a href=\"/yungou/product/detail?id='+codeID+'\" target=\"_blank\"><img src=\"'+goodsPic+'\"></a>'\r\n\t\t\t\t\t        +'</li>'\r\n\t\t\t\t\t        +'<li class=\"f-lott-detailed\">'\r\n\t\t\t\t\t            +'<dl>'\r\n\t\t\t\t\t                +'<dt><a href=\"/yungou/product/detail?id='+codeID+'\" target=\"_blank\">'+goodsSName+'</a></dt>'\r\n\t\t\t\t\t                +'<dd>商品价值：￥'+price+'</dd>'\r\n\t\t\t\t\t                +'<dd class=\"z-ymy\">已满员</dd>'\r\n\t\t\t\t\t                +'<dd class=\"z-jx-time\">'\r\n\t\t\t\t\t                \t+'<p>揭晓倒计时</p>'\r\n\t\t\t\t\t                    +'<cite class=\"timecite\"></cite>'\r\n\t\t\t\t\t                +'</dd>'\r\n\t\t\t\t\t            +'</dl>'\r\n\t\t\t\t\t        +'</li>'\r\n\t\t\t\t\t    +'</ul>'\r\n\t\t\t\t\t    +'<b class=\"transparent-png\"></b>'\r\n\t\t\t\t\t+'</div>';    \r\n\t\t\t\t\r\n\t\t\t\t\t$(\"#ul_Lottery\").append(dataLi);\r\n\t\t\t\t\tCountdownFun(\"#\"+codeID,seconds,function(e,id){\r\n\t\t\t\t\t\tif( e==true ){\r\n\t\t\t\t\t\t\tgetbarcodernoinfoAjaxFun(codeID);\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t$(id).find(\".timecite\").html('<span class=\"minute\">'+e[0]+'</span><em>:</em><span class=\"second\">'+e[1]+'</span><em>:</em><span><i class=\"millisecond\">'+e[2]+'</i></span>');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n            }else{\r\n                alert(data.error_msg);\r\n            }\r\n        })\r\n        .fail(function() {\r\n            alert('网络错误！')\r\n        })\r\n        .always(function() {\r\n\r\n        });\r\n    }\r\n\r\n    // 倒计时完成后显示结果\r\n    function getbarcodernoinfoAjaxFun(codeID){\r\n        $.ajax({\r\n            url: \"/goods/service/getbarcodernoinfo\",\r\n            type: 'POST',\r\n            dataType: 'json',\r\n            data: { codeID:codeID }\r\n        })\r\n        .done(function(data) {\r\n            console.log(data);\r\n            if( data.success ){\r\n            \tvar buyCount = data.result.buyCount; //\"1\"\r\n            \tvar buyTime = data.result.buyTime; //\"2016-01-01 12:31:54.693\"\r\n            \tvar codePeriod = data.result.codePeriod; //\"1\"\r\n            \tvar codeRNO = data.result.codeRNO; //\"10000001\"\r\n            \tvar codeRTime = data.result.codeRTime; //\"2016-01-01 12:36:37.440\"\r\n            \tvar codeType = data.result.codeType; //0\r\n            \tvar goodsName = data.result.goodsName; //\"春夏韩版宽松中长款薄款开衫镂空针织衫外套大码开衫空调衫女披肩\"\r\n            \tvar goodsPic = data.result.goodsPic; //\"/upload/goods/1/1_00606f377ftb2myox___2226277913.jpg\"\r\n            \tvar ipAddr = data.result.ipAddr; //\"中国上海\"\r\n            \tvar price = data.result.price; //\"1.00\"\r\n            \tvar userNC = data.result.userNC; //\"15821****14\"\r\n            \tvar userName = data.result.userName; //\"15821****14\"\r\n            \tvar userPhoto = data.result.userPhoto; //\"/upload/member/avatar/UserFace-160-0000.jpg\"\r\n            \tvar userWeb = data.result.userWeb; //\"56761153887c22184e8b45b5\"\r\n\r\n            \t$(\"#\"+codeID).html('<div class=\"m-lottery-list m-lottery-special\" type=\"isRaff\">'\r\n\t\t\t\t    +'<ul>'\r\n\t\t\t\t        +'<li class=\"f-lott-comm\"><a href=\"javascript:;\" target=\"_blank\"><img src=\"'+goodsPic+'\"></a></li>'\r\n\t\t\t\t        +'<li class=\"f-lott-detailed\">'\r\n\t\t\t\t            +'<div class=\"u-user-info\">'\r\n\t\t\t\t                +'<p class=\"fl\"><a href=\"javascript:;\" target=\"_blank\"><img type=\"userPhoto\" src=\"'+userPhoto+'\"><s></s></a></p>'\r\n\t\t\t\t                +'<dl class=\"fl\">'\r\n\t\t\t\t                    +'<dt><em>获得者：</em><span><a href=\"/yungou/member/index?id='+userWeb+'\" target=\"_blank\">'+userName+'</a></span></dt>'\r\n\t\t\t\t                    +'<dd class=\"z-lott-lz\">来自：'+ipAddr+'</dd>'\r\n\t\t\t\t                    +'<dd>幸运云购码：<strong class=\"orange\">'+codeRNO+'</strong></dd>'\r\n\t\t\t\t                    +'<dd>本云参与：<i class=\"orange\">'+buyCount+'</i>人次</dd>'\r\n\t\t\t\t                +'</dl>'\r\n\t\t\t\t            +'</div>'\r\n\t\t\t\t            +'<div class=\"u-comm-info\">'\r\n\t\t\t\t                +'<dl>'\r\n\t\t\t\t                    +'<dt><a href=\"javascript:;\" target=\"_blank\">'+goodsName+'</a></dt>'\r\n\t\t\t\t                    +'<dd>商品价值：￥'+price+'</dd>'\r\n\t\t\t\t                    +'<dd>揭晓时间：'+codeRTime+'</dd>'\r\n\t\t\t\t                    +'<dd class=\"z-lott-btn\"><span><a href=\"/yungou/member/index?id='+userWeb+'\" target=\"_blank\" title=\"查看详情\">查看详情</a></span></dd>'\r\n\t\t\t\t                +'</dl>'\r\n\t\t\t\t            +'</div>'\r\n\t\t\t\t        +'</li>'\r\n\t\t\t\t    +'</ul>'\r\n\t\t\t\t+'</div>');\r\n            }else{\r\n                alert(data.error_msg);\r\n            }\r\n        })\r\n        .fail(function() {\r\n\r\n        })\r\n        .always(function() {\r\n\r\n        });\r\n    }\r\n\r\n\tsetInterval(function(){\r\n\t\tgetstartrafflealllistAjaxFun(1,5,maxSeconds);\r\n\t},20000);\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n})"},{"id":0,"identifier":"D:\\云购\\public\\js\\app\\qcbind.main.js","name":"./js/app/qcbind.main.js","index":32,"index2":32,"size":7507,"cacheable":true,"built":false,"optional":false,"prefetched":false,"chunks":[10],"assets":[],"issuer":null,"failed":false,"errors":0,"warnings":0,"reasons":[],"source":"require(\"../libs/query\");\r\nrequire(\"./public\");\r\n$(function(){\r\n\r\n\t// 获取验证码\r\n\tvar snTrue = true;\r\n\t$(\"#btnSend\").on(click, function(){\r\n\t\tvar $this = $(this);\r\n\t\tvar $name = $(\"#txtUserName\");\r\n\t\tvar username = $name.val();\r\n\t\tvar testEmail = _email.test(username);\r\n\t\tvar ajaxNum;\r\n\r\n\t\t// 判断是否是手机\r\n\t\tif( username.length==11 && _sizeTel.test(username) ){\r\n\t\t\tajaxNum = 1;\r\n\t    }else if( testEmail ){\r\n\t    \tajaxNum = 0;\r\n\t    }else{\r\n\t    \t$name.focus();\r\n\t    \tlifocus(0,'请输入正确的手机号或邮箱地址');\r\n\t        return false;\r\n\t    }\r\n\t    if( !ajaxlack ||!snTrue ) return; ajaxlack = false; snTrue = false;\r\n\t    $name.parents(\"li\").find(\".orange\").hide();\r\n\r\n\t    ajaxCodeFun(username,ajaxNum,function(){\r\n\t\t\t$this.addClass(\"current\");\r\n        \tsetIntervalFun(120,function(_TIME){\r\n        \t\t$this.html('重新发送('+_TIME+')');\r\n        \t\tif( _TIME<=0 ){\r\n        \t\t\t$this.removeClass(\"current\");\r\n        \t\t\t$this.html('重新发送');\r\n        \t\t\tsnTrue = true;\r\n        \t\t}\r\n        \t});\r\n\t\t});\r\n\t});\r\n\r\n\t$('#username, #pwd').keydown(function(e){\r\n\t\tif( e.keyCode==13 ){\r\n\t\t\tloginFun();\r\n\t\t}\r\n\t});\r\n\r\n\t// 登录函数\r\n\tfunction loginFun(){\r\n\t\tvar username = $(\"#txtUserName\").val();\r\n\t\tvar password = $(\"#txtPwd\").val();\r\n\t\tvar testEmail = _email.test(username);\r\n\t\tvar dataObj;\t\t\r\n\t\t// 判断是否是手机\r\n\t\tif( username.length==11 && _sizeTel.test(username) ){\r\n\t\t\tdataObj = {\r\n\t\t\t\tmobile : username,\r\n\t\t\t\tpassword : password\r\n\t\t\t}\r\n\t    }else if( testEmail ){\r\n\t    \tdataObj = {\r\n\t\t\t\tpassword : password,\r\n\t\t\t\temail : username\r\n\t\t\t}\r\n\t    }else{\r\n\t    \t$(\"#txtUserName\").focus();\r\n\t    \tlifocus(0,'请输入正确的手机号或邮箱地址');\r\n\t        return;\r\n\t    }\t\r\n\r\n\t    if( password=='' ){\r\n\t    \t$(\"#txtPwd\").focus();\r\n\t    \tlifocus(1,'密码不正确！');\r\n\t    \treturn;\r\n\t\t}\t\r\n\r\n\t\tif( !ajaxlack ) return; ajaxlack = false;\r\n\t\t$(\"#btnBind\").html('正在绑定···').css({\"letter-spacing\":\"0\"});\r\n\t\t$.ajax({\r\n\t        url: \"/member/service/qcbindaccount\",\r\n\t        type: 'POST',\r\n\t        dataType: 'json',\r\n\t        data: dataObj\r\n\t    })\r\n\t    .done(function(data) {\r\n\t        console.log(data);\r\n\t        if( data.success ){\r\n\t        \tFailDialog(160,60,'绑定成功！','/');\r\n\t        }else{\r\n\t        \t$(\"#txtPwd\").focus();\r\n\t    \t\tlifocus(2,'密码不正确！');\r\n\t        }\r\n\t    })\r\n\t    .fail(function() {\r\n\t        alert('网络错误！')\r\n\t    })\r\n\t    .always(function() {\r\n\t    \tajaxlack = true;\r\n\t    \t$(\"#btnBind\").html('绑定').attr(\"style\",\"\");\r\n\t    });\r\n\t}\r\n\r\n\t// 验证\r\n\tfunction verificationFun(_focus){\r\n\t\tvar txtUserName = $(\"#txtUserName\").val();\r\n\t\tvar txtPwd = $(\"#txtPwd\").val();\r\n\t\tvar txtConPwd = $(\"#txtConPwd\").val();\r\n\t\tvar txtCode = $(\"#txtCode\").val();\r\n\t\tvar vcode = $(\"#txtvcode\").val();\r\n\t\tvar testEmail = _email.test(txtUserName);\r\n\t\tvar dataObj;\r\n\r\n\t\tif( txtUserName.length==11 && _sizeTel.test(txtUserName) ){\r\n\t\t\tdataObj = {\r\n\t\t\t\tmobile : txtUserName,\r\n\t\t\t\tpassword : txtPwd,\r\n\t\t\t\tpassword_confirm : txtConPwd,\r\n\t\t\t\tcaptcha : txtCode,\r\n\t\t\t\tvcode : vcode\r\n\t\t\t}\r\n\t    }else if( testEmail ){\r\n\t    \tdataObj = {\r\n\t\t\t\tpassword : txtPwd,\r\n\t\t\t\temail : txtUserName,\r\n\t\t\t\tpassword_confirm : txtConPwd,\r\n\t\t\t\tcaptcha : txtCode,\r\n\t\t\t\tvcode : vcode\r\n\t\t\t}\r\n\t    }else{\r\n\t    \t$(\"#txtUserName\").focus();\r\n\t    \tlifocus(0,'请输入正确的手机号或邮箱地址');\r\n\t    \treturn;\r\n\t    }\r\n\r\n\t    if( txtUserName=='' ){\r\n\t    \t$(\"#txtUserName\").focus();\r\n\t    \tlifocus(0,'请输入您的手机号/邮箱地址');\r\n\t    \treturn;\r\n\t    }\r\n\r\n\t    if( vcode==\"\" ){\r\n\t    \t$(\"#txtvcode\").focus();\r\n\t    \tlifocus(1,'请认真核对验证码是否正确');\r\n\t    \treturn;\r\n\t    }\r\n\r\n\t    if( txtPwd=='' ){\r\n\t    \t$(\"#txtPwd\").focus();\r\n\t    \tlifocus(2,'请设置登录密码');\r\n\t    \treturn;\r\n\t    }\r\n\r\n\t    if( txtConPwd==''||txtConPwd.length<8||txtConPwd.length>20 ){\r\n\t    \t$(\"#txtPwd\").focus();\r\n\t    \tlifocus(2,'密码由8-20位字母');\r\n\t    \treturn;\r\n\t    }\r\n\r\n\t    if( txtPwd!=txtConPwd ){\r\n\t    \t$(\"#txtConPwd\").focus();\r\n\t    \tlifocus(3,'两次输入的密码不一致');\r\n\t    \treturn;\r\n\t    }\r\n\r\n\t    if( txtCode=='' ){\r\n\t    \t$(\"#txtCode\").focus();\r\n\t    \tlifocus(4,'请输入验证码');\r\n\t    \treturn;\r\n\t    }\r\n\r\n\t    agreeFun(dataObj);\r\n\t}\r\n\r\n\tfunction lifocus(eq,text){\r\n\t\tvar $li = $(\".register-form-con li\");\r\n\t\t$li.eq(eq).addClass(\"enter-focus error-text\").find(\".orange\").html(errorIcon+text).show();\r\n\t}\r\n\r\n\t// 注册函数\r\n\tfunction agreeFun(dataObj){\r\n\t\tif( !ajaxlack ) return; ajaxlack = false;\r\n\t\t$(\".register-form-con li\").find('.orange').hide();\r\n\t\t$.ajax({\r\n\t        url: \"/member/service/qcbindaccount\",\r\n\t        type: 'POST',\r\n\t        dataType: 'json',\r\n\t        data: dataObj\r\n\t    })\r\n\t    .done(function(data) {\r\n\t        console.log(data);\r\n\t        if( data.success ){\r\n\t        \tFailDialog(160,60,'绑定成功！','/');\r\n\t        }else{\r\n\t        \tconsole.log(data.error_msg);\r\n\t        \tif( data.error_code==513 ){\r\n\t        \t\t$(\"#txtvcode\").focus();\r\n\t        \t\tlifocus(1,'请认真核对验证码是否正确');\r\n\t        \t}else if( data.error_code==597 ){\r\n\t\t\t\t\tlifocus(4,'请认真核对验证码是否正确');\r\n\t        \t}else{\r\n\t        \t\talert('提交失败，请重试！');\r\n\t        \t}\r\n\t        }\r\n\t    })\r\n\t    .fail(function() {\r\n\t        alert('网络错误！')\r\n\t    })\r\n\t    .always(function() {\r\n\t    \tajaxlack = true;\r\n\t    });\r\n\t}\r\n\r\n\r\n\t// 刷新验证码\r\n\t$(\"#imgCode, #btnChangeCode\").on(click, function(){\r\n\t\t$(\"#imgCode\").attr({\"src\":$(\"#imgCode\").attr(\"src\")});\r\n\t});\r\n\r\n\r\n\t// 账号验证\r\n\tvar verifiedby = true;\r\n\t$(\"#txtUserName\").on('blur', function(){\r\n\t\tvar $this = $(this);\r\n\t\tvar thisParent = $this.parent();\r\n\t\tvar txtUserName = $this.val();\r\n\t\tvar testEmail = _email.test(txtUserName);\r\n\r\n\t\tif( txtUserName.length==11 && _sizeTel.test(txtUserName) ){\r\n\t\t\tajaxNum = 0;\r\n\t    }else if( testEmail ){\r\n\t    \tajaxNum = 1;\r\n\t    }else{\r\n\t    \tif( $this.val()=='' ) return;\r\n\t    \tlifocus(0,'请输入正确的手机号或邮箱地址');\r\n\t    \treturn;\r\n\t    }\r\n\r\n\t    checkEmailMobileFun(txtUserName,ajaxNum,function(data){\r\n\t    \tif( data.success ){\r\n\t    \t\tverifiedby = false;\r\n\t    \t\t$(\".liHide\").show();\r\n\t        }else{\r\n\t        \tverifiedby = true;\r\n\t        \t$(\".liHide\").hide();\r\n\t        }\r\n\t    });\r\n\t    \r\n\t});\r\n\r\n\t// 已有账户还是注册账户\r\n\t$(\"#btnBind\").on('click', function(){\r\n\t\tif( verifiedby ){ //已有账户\r\n\t\t\tloginFun();\r\n\t\t}else{ //没有账户\r\n\t\t\tverificationFun();\r\n\t\t}\r\n\t});\r\n\t\r\n\r\n\r\n\r\n\t// 失去焦点\r\n\t$(\"#txtPwd\").on(\"blur\", function(){\r\n\t\tvar txtPwd = $(\"#txtPwd\").val();\r\n\t\tvar txtConPwd = $(\"#txtConPwd\").val();\r\n\t\tif( txtPwd=='' ) return;\r\n\t\t$(\"#pwdStrength\").hide();\r\n\t\tif( txtPwd.length<8||txtPwd.length>20 ){\r\n\t\t\tlifocus(2,'密码由8-20位字母');\r\n\t\t\t$(\".register-form-con li:eq(1)\").removeClass('correct-text');\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif( txtPwd.length>8&&txtPwd.length<20 ){\r\n\t\t\t$(\".register-form-con li:eq(1)\").addClass('correct-text').find(\".passport-icon\").show();\r\n\t\t\treturn;\r\n\t\t}\r\n\t});\r\n\r\n\t// 密码强度验证\r\n\t$(\"#txtPwd\").on(\"keyup\", function(){\r\n\t\tvar txtPwd = $(\"#txtPwd\").val();\r\n\t\tvar $div = $(\"#pwdStrength\");\r\n\t\tif( txtPwd.length>8&&txtPwd.length<=20 ){\r\n\t\t\tvar qiang = passwordsFun(txtPwd);\r\n\t\t\tconsole.log(passwordsFun(txtPwd));\r\n\t\t\t$div.show();\r\n\t\t\tif( qiang==\"弱\" ){\r\n\t\t\t\t$div.html(yellowTxt(0));\r\n\t\t\t}else if( qiang==\"中\" ){\r\n\t\t\t\t$div.html(yellowTxt(1));\r\n\t\t\t}else{\r\n\t\t\t\t$div.html(yellowTxt(2));\r\n\t\t\t}\r\n\t\t}else{\r\n\t\t\t$div.html(yellowTxt(0));\r\n\t\t}\r\n\t});\r\n\r\n\t$(\"#txtConPwd\").on(\"blur\", function(){\r\n\t\tvar txtPwd = $(\"#txtPwd\").val();\r\n\t\tvar txtConPwd = $(\"#txtConPwd\").val();\r\n\t\tif( txtConPwd=='' ) return;\r\n\t\tif( txtPwd==txtConPwd ){\r\n\t    \t$(\".register-form-con li:eq(2), .register-form-con li:eq(3)\").addClass('correct-text').find(\".passport-icon\").show();\r\n\t    }else{\r\n\t    \t$(\"#txtConPwd\").parent().addClass(\"enter-focus error-text\").find(\".orange\").html(errorIcon+'两次输入的密码不一致').show();\r\n\t    \t$(\"#txtConPwd\").parent().removeClass('correct-text');\r\n\t    }\r\n\t});\r\n\t\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n});"},{"id":0,"identifier":"D:\\云购\\public\\js\\app\\index.main.js","name":"./js/app/index.main.js","index":16,"index2":17,"size":9490,"cacheable":true,"built":true,"optional":false,"prefetched":false,"chunks":[3],"assets":[],"issuer":null,"failed":false,"errors":0,"warnings":0,"reasons":[],"source":"require(\"../libs/query\");\r\nrequire(\"../libs/jquery.SuperSlide\");\r\nrequire(\"../libs/pagination-min\");\r\nrequire(\"../libs/jquery.lazyload\");\r\nrequire(\"./public\");\r\nrequire(\"./cartAjax\");\r\nrequire(\"./bottomFun\");\r\n$(function(){\r\n\r\n\t// 首页加载\r\n\t$(\"#div_slide\").slide({ mainCell:\".bd ul\", titCell:\".hd ul\",autoPage:true, effect:\"left\",prevCell:\".prev\",nextCell:\".next\", delayTime:1000, autoPlay:true });\r\n\r\n\t//图片预加载\r\n\t$(\"img.lazy\").lazyload();\r\n\r\n\t/*********************************************************************首页*****************************************************/\r\n\r\n\t// 正在云购\r\n\tvar UserBuyNewListidname = \"#UserBuyNewList\";\r\n\tvar $UserBuyNewListid = $(UserBuyNewListidname);\r\n\tvar maxId = '';\r\n\t// 正在云购函数\r\n\tgetuserbuynewlistAjaxFun(1,10);\r\n\tfunction getuserbuynewlistAjaxFun(page,limit){\r\n        $.ajax({\r\n            url: \"/order/service/getuserbuynewlist\",\r\n            type: 'POST',\r\n            dataType: 'json',\r\n            data: { page:page, limit:limit, id:maxId }\r\n        })\r\n        .done(function(data) {\r\n            console.log(data);\r\n            if( data.success ){\r\n            \tvar dataLi = '';\r\n            \tmaxId = data.result.maxId;\r\n            \t$.each(data.result.datas, function(i,item){\r\n\t\t\t\t\tvar userPhoto = item.userPhoto=='' ? '/Images/UserFace-160-0000.jpg':item.userPhoto;\r\n\t\t\t\t\tvar buyID = item.buyID;\r\n\t\t\t\t\tvar goodsID = item.goodsID;\r\n\t\t\t\t\tvar goodsName = item.goodsName;\r\n\t\t\t\t\tvar goodsPic = item.goodsPic;\r\n\t\t\t\t\tvar userName = item.userName;\r\n\t\t\t\t\tvar userPhoto = item.userPhoto;\r\n\t\t\t\t\tvar userWeb = item.userWeb;\r\n\t\t\t\t\tvar buyID = item.buyID;\r\n\t\t\t\t\tdataLi += '<li><span class=\"fl\">'\r\n\t\t\t\t        +'<a href=\"/yungou/member/index?id='+userWeb+'\" target=\"_blank\">'\r\n\t\t\t\t            +'<img width=\"40\" height=\"40\" src=\"'+userPhoto+'\">'\r\n\t\t\t\t            +'<i class=\"transparent-png\"></i>'\r\n\t\t\t\t        +'</a>'\r\n\t\t\t\t    +'</span>'\r\n\t\t\t\t    +'<p>'\r\n\t\t\t\t        +'<a target=\"_blank\" href=\"/yungou/member/index?id='+userWeb+'\" class=\"blue\">'+userName+'</a><br>'\r\n\t\t\t\t        +'<a target=\"_blank\" href=\"/yungou/product/index?id='+goodsID+'\" class=\"u-ongoing\">'+goodsName+'</a>'\r\n\t\t\t\t    +'</p>'\r\n\t\t\t\t+'</li>';\t\t\t    \r\n\t\t\t\t});\r\n\t\t\t\tif( limit>1 ){\r\n\t\t\t\t\t$UserBuyNewListid.html(dataLi);\r\n\t\t\t\t}else if( dataLi!=\"\" ){\r\n\t\t\t\t\t$UserBuyNewListid.prepend(dataLi);\r\n\t\t\t\t\t$UserBuyNewListid.css({marginTop:\"-89px\"}).animate({marginTop:\"0\"},function(){\r\n\t\t\t\t\t\tif( $UserBuyNewListid.find(\"li\").length>9 ){\r\n\t\t\t\t\t\t\t$(UserBuyNewListidname+\" li:last\").remove();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n            }else{\r\n                alert(data.error_msg);\r\n            }\r\n        })\r\n        .fail(function() {\r\n            // alert('网络错误！')\r\n        })\r\n        .always(function() {\r\n\r\n        });\r\n    }\r\n\t\r\n\r\n    var maxSeconds = '';\r\n    getstartrafflealllistAjaxFun(1,5,maxSeconds);\r\n\t// 最新揭晓\r\n\tfunction getstartrafflealllistAjaxFun(page,limit,time){\r\n        $.ajax({\r\n            url: \"/goods/service/getstartrafflealllist\",\r\n            type: 'POST',\r\n            dataType: 'json',\r\n            data: { page:page, limit:limit, time:time }\r\n        })\r\n        .done(function(data) {\r\n            console.log(data);\r\n            if( data.success ){\r\n            \tvar dataLi = '';\r\n            \tmaxSeconds = data.result.maxSeconds;\r\n            \t$.each(data.result.datas, function(i,item){\r\n\t\t\t\t\tvar userPhoto = item.userPhoto=='' ? '/Images/UserFace-160-0000.jpg':item.userPhoto;\r\n\t\t\t\t\tvar goodsPic = item.goodsPic;\r\n\t\t\t\t\tvar goodsSName = item.goodsSName;\r\n\t\t\t\t\tvar codeID = item.codeID;\r\n\t\t\t\t\tvar codeQuantity = item.codeQuantity;\r\n\t\t\t\t\tvar codeSales = item.codeSales;\r\n\t\t\t\t\tvar codeType = item.codeType;\r\n\t\t\t\t\tvar period = item.period;\r\n\t\t\t\t\tvar price = item.price;\r\n\t\t\t\t\tvar seconds = item.seconds;\r\n\t\t\t\t\tdataLi = '<li id=\"'+codeID+'\" class=\"current\">'\r\n\t\t\t            +'<dl class=\"m-in-progress\">'\r\n\t\t\t                +'<dt>'\r\n\t\t\t                    +'<a href=\"/yungou/product/detail?id='+codeID+'\" target=\"_blank\">'\r\n\t\t\t                        +'<img src=\"'+goodsPic+'\">'\r\n\t\t\t                    +'</a>'\r\n\t\t\t                +'</dt>'\r\n\t\t\t                +'<dd class=\"u-name\">'\r\n\t\t\t                    +'<a href=\"/yungou/product/detail?id='+codeID+'\">'+goodsSName+'</a>'\r\n\t\t\t                +'</dd>'\r\n\t\t\t                +'<dd class=\"gray\">价值：￥'+price+'</dd>'\r\n\t\t\t                +'<dd class=\"u-time\">'\r\n\t\t\t                    +'<em>揭晓倒计时</em><span class=\"dd_time\"><b>00</b>:<b>00</b>:<b>00</b></span>'\r\n\t\t\t                +'</dd>'\r\n\t\t\t            +'</dl>'\r\n\t\t\t            +'<s class=\"transparent-png\"></s>'\r\n\t\t\t        +'</li>';    \r\n\t\t\t\t\r\n\t\t\t\t\t$(\"#ul_Lottery\").append(dataLi);\r\n\t\t\t\t\tCountdownFun(\"#\"+codeID,seconds,function(e,id){\r\n\t\t\t\t\t\tif( e==true ){\r\n\t\t\t\t\t\t\tgetbarcodernoinfoAjaxFun(codeID);\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t$(id).find(\".dd_time\").html('<b>'+e[0]+'</b>:<b>'+e[1]+'</b>:<b>'+e[2]+'</b>');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t\t$(\"#ul_Lottery li:eq(5)\").nextAll().remove();\r\n            }else{\r\n                alert(data.error_msg);\r\n            }\r\n        })\r\n        .fail(function() {\r\n            alert('网络错误！')\r\n        })\r\n        .always(function() {\r\n\r\n        });\r\n    }\r\n\r\n    // 倒计时完成后显示结果\r\n    function getbarcodernoinfoAjaxFun(codeID){\r\n        $.ajax({\r\n            url: \"/goods/service/getbarcodernoinfo\",\r\n            type: 'POST',\r\n            dataType: 'json',\r\n            data: { codeID:codeID }\r\n        })\r\n        .done(function(data) {\r\n            console.log(data);\r\n            if( data.success ){\r\n            \tvar buyCount = data.result.buyCount; //\"1\"\r\n            \tvar buyTime = data.result.buyTime; //\"2016-01-01 12:31:54.693\"\r\n            \tvar codePeriod = data.result.codePeriod; //\"1\"\r\n            \tvar codeRNO = data.result.codeRNO; //\"10000001\"\r\n            \tvar codeRTime = data.result.codeRTime; //\"2016-01-01 12:36:37.440\"\r\n            \tvar codeType = data.result.codeType; //0\r\n            \tvar goodsName = data.result.goodsName; //\"春夏韩版宽松中长款薄款开衫镂空针织衫外套大码开衫空调衫女披肩\"\r\n            \tvar goodsPic = data.result.goodsPic; //\"/upload/goods/1/1_00606f377ftb2myox___2226277913.jpg\"\r\n            \tvar ipAddr = data.result.ipAddr; //\"中国上海\"\r\n            \tvar price = data.result.price; //\"1.00\"\r\n            \tvar userNC = data.result.userNC; //\"15821****14\"\r\n            \tvar userName = data.result.userName; //\"15821****14\"\r\n            \tvar userPhoto = data.result.userPhoto; //\"/upload/member/avatar/UserFace-160-0000.jpg\"\r\n            \tvar userWeb = data.result.userWeb; //\"56761153887c22184e8b45b5\"\r\n\r\n            \t$(\"#\"+codeID).html('<li><dl><dt><a href=\"javascript:;\" target=\"_blank\"><img src=\"'+goodsPic+'\"></a></dt>'\r\n\t\t\t\t+'<dd class=\"f-gx\"><div class=\"f-gx-user\"><span>恭喜</span><span><a href=\"/yungou/member/index?id='+userWeb+'\" target=\"_blank\" class=\"blue\">'+userName+'</a></span><span>获得</span></div></dd>'\r\n\t\t\t\t+'<dd class=\"u-name\"><a href=\"/yungou/member/index?id='+userWeb+'\" target=\"_blank\">'+goodsName+'</a></dd><dd class=\"gray\">'+ipAddr+'</dd></dl><cite></cite></li>');\r\n            }else{\r\n                alert(data.error_msg);\r\n            }\r\n        })\r\n        .fail(function() {\r\n\r\n        })\r\n        .always(function() {\r\n\r\n        });\r\n    }\r\n\r\n\tsetInterval(function(){\r\n\t\tgetuserbuynewlistAjaxFun(1,1);\r\n\t\tgetstartrafflealllistAjaxFun(1,5,maxSeconds);\r\n\t},20000);\r\n\r\n\r\n\t// 晒单分享\r\n\tgetrecpostlistAjaxFun();\r\n\tfunction getrecpostlistAjaxFun(){\r\n        $.ajax({\r\n            url: \"/post/service/getrecpostlist\",\r\n            type: 'POST',\r\n            dataType: 'json',\r\n            data: { }\r\n        })\r\n        .done(function(data) {\r\n            console.log(data);\r\n            if( data.success ){\r\n            \t$.each(data.result.datas, function(i,item){\r\n\t\t\t\t\tvar postContent = item.postContent; //: \"嗯呵呵O(∩_∩)O~，货真价实的读卡器，包装很好~~~物流还不错...\"\r\n\t\t\t\t\tvar postID = item.postID; //: \"5688926f887c22054a8b45e3\"\r\n\t\t\t\t\tvar postImg = item.postImg.split(',')[0]; //: \"/upload/post/5688bd6a887c22014a8b4692,/upload/post/5688bd68887c22024a8b46a0,/upload/post/5688bd61887c22054a8b45eb\"\r\n\t\t\t\t\tvar postTime = item.postTime; //: \"2016-01-03 14:19:27\"\r\n\t\t\t\t\tvar postTitle = item.postTitle; //: \"终于中奖啦123\"\r\n\t\t\t\t\tvar userName = item.userName; //: \"15821****14\"\r\n\t\t\t\t\tvar userPhoto = item.userPhoto; //: \"/upload/member/avatar/UserFace-160-0000.jpg\"\r\n\t\t\t\t\tvar userWeb = item.userWeb; //: \"56761153887c22184e8b45b5\"\r\n\r\n\t\t\t\t\tif( i==0 ){\r\n\t\t\t\t\t\t$(\"#divPostRec dl\").html('<dl><dt><a href=\"/yungou/post/detail?id='+postID+'\" target=\"_blank\"><img src=\"'+postImg+'\" style=\"display: block;\"></a></dt>'\r\n\t\t\t\t\t\t\t+'<dd class=\"u-user\"><p class=\"u-head\"><a href=\"/yungou/member/index?id='+userWeb+'\" target=\"_blank\"><img src=\"'+userPhoto+'\" width=\"40\" height=\"40\" style=\"display: block;\"><i class=\"transparent-png\"></i></a></p>'\r\n\t\t\t\t\t\t\t+'<p class=\"u-info\"><span><a href=\"javascript:;\" target=\"_blank\">'+userName+'</a><em>'+postTime+'</em></span><cite><a href=\"/yungou/post/detail?id='+postID+'\" target=\"_blank\">'+postTitle+'</a></cite></p>'\r\n\t\t\t\t\t\t\t+'</dd><dd class=\"m-summary\"><cite><a href=\"/yungou/post/detail?id='+postID+'\" target=\"_blank\">'+postContent+'</a></cite><b><s></s></b></dd></dl>');\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\t$(\"#ul_PostList\").append('<li><a href=\"/yungou/post/detail?id='+postID+'\" target=\"_blank\"><cite><img src=\"'+postImg+'\" style=\"display: block;width:100%;\"></cite><p>'+postTitle+'</p></a></li>');\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n            }else{\r\n\r\n            }\r\n        })\r\n        .fail(function() {\r\n\r\n        })\r\n        .always(function() {\r\n\r\n        });\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n})"},{"id":0,"identifier":"D:\\云购\\public\\js\\app\\help.main.js","name":"./js/app/help.main.js","index":15,"index2":15,"size":1402,"cacheable":true,"built":false,"optional":false,"prefetched":false,"chunks":[2],"assets":[],"issuer":null,"failed":false,"errors":0,"warnings":0,"reasons":[],"source":"require(\"./public\");\r\nrequire(\"./cartAjax\");\r\nrequire(\"./bottomFun\");\r\n$(function(){\r\n\r\n\t// 刷新验证码\r\n\t$(\"#Zshowimg, #ZshowimgA\").on(click, function(){\r\n\t\t$(\"#Zshowimg\").attr({\"src\":$(\"#Zshowimg\").attr(\"src\")});\r\n\t});\r\n\t\r\n\t$(\"#butSubmit\").on(\"click\",function(){\r\n\t\tvar theme = $(\"input[name='Zti']:checked\").val();\r\n\t\tvar name = $(\"#Zname\").val();\r\n\t\tvar telephone = $(\"#Zphone\").val();\r\n\t\tvar email = $(\"#Zemail\").val();\r\n\t\tvar content = $(\"#Zcontent\").val();\r\n\t\tvar captcha = $(\"#Zyanma\").val();\r\n\t\tif( !_email.test(email) ){\r\n\t\t\tFailDialog(160,60,'邮箱不正确！');\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif( content==\"\" ){\r\n\t\t\tFailDialog(160,60,'内容不能为空！');\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif( captcha==\"\" ){\r\n\t\t\tFailDialog(160,60,'验证码不能为空！');\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t$(\"#butSubmit\").off(\"click\");\r\n        $.ajax({\r\n            url: \"/site/service/suggest\",\r\n            type: 'POST',\r\n            dataType: 'json',\r\n            data: { theme:theme, name:name, telephone:telephone, email:email, content:content, captcha:captcha }\r\n        })\r\n        .done(function(data) {\r\n            console.log(data);\r\n            if( data.success ){\r\n            \tFailDialog(160,60,'提交成功！',url);\r\n            }else{\r\n            \tFailDialog(160,60,'提交失败！');\r\n            }\r\n        })\r\n        .fail(function() {\r\n\r\n        })\r\n        .always(function() {\r\n\r\n        });\r\n\t});\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n})"},{"id":0,"identifier":"D:\\云购\\public\\js\\app\\uMy.main.js","name":"./js/app/uMy.main.js","index":33,"index2":33,"size":15964,"cacheable":true,"built":false,"optional":false,"prefetched":false,"chunks":[11],"assets":[],"issuer":null,"failed":false,"errors":0,"warnings":0,"reasons":[],"source":"require(\"../libs/query\");\r\nrequire(\"../libs/pagination-min\");\r\nrequire(\"../libs/jquery.lazyload\");\r\nrequire(\"./public\");\r\nrequire(\"./collectFun\");\r\nrequire(\"./bottomFun\");\r\nrequire(\"./cartAjax\");\r\n$(function(){\r\n\tvar userId = $.query.get('id');\r\n\r\n\t// 标签切换\r\n\t$(\"#ul_Menu li\").on(\"click\",function(){\r\n\t\tvar index = $(this).index();\r\n\t\t$(this).addClass(\"current\").siblings().removeClass(\"current\");\r\n\t\t$(\".content-wrap\").hide();\r\n\t\tif( index==0 ){\r\n\t\t\t$(\"#div_BuyList\").show();\r\n\t\t\t$(\"#midNavLine\").animate({left:'297px',width:\"64px\"});\r\n\t\t\tgetuserpagebuyrafpostFirstDataFun(1,8,index,userId);\r\n\t\t}else if( index==1 ){\r\n\t\t\t$(\"#div_OrderList\").show();\r\n\t\t\t$(\"#midNavLine\").animate({left:'424px',width:\"82px\"});\r\n\t\t\tgetuserpagebuyrafpostFirstDataFun(1,8,index,userId);\r\n\t\t}else if( index==2 ){\r\n\t\t\t$(\"#div_PostList\").show();\r\n\t\t\t$(\"#midNavLine\").animate({left:'567px',width:\"40px\"});\r\n\t\t\tgetuserpagebuyrafpostFirstDataFun(1,8,index,userId);\r\n\t\t}\r\n\t});\r\n\r\n\t\r\n    // 加好友\r\n    $(\"#btnAddFriend\").on(\"click\",function(){\r\n    \tif( !ajaxlack ) return; ajaxlack = false;\r\n\t\t$.ajax({\r\n\t        url: \"/member/service/applyfriend\",\r\n\t        type: 'POST',\r\n\t        dataType: 'json',\r\n\t        data: { userWeb:userId }\r\n\t    })\r\n\t    .done(function(data) {\r\n\t        console.log(data);\r\n\t        if( data.success ){\r\n\t\t\t\tFailDialog(190,60,'申请发送成功！');\r\n\t\t\t}else{\r\n\t\t\t\tFailDialog(190,60,'申请发送失败！');\r\n\t\t\t}\r\n\t    })\r\n\t    .fail(function() {\r\n\t        alert('网络错误！')\r\n\t    })\r\n\t    .always(function() {\r\n\t    \tajaxlack = true;\r\n\t    });\r\n    });\r\n\r\n\r\n\t// 显示举报\r\n\t$(\".map-banner\").hover(function(){\r\n\t\t$(\"#div_jb\").show();\r\n\t},function(){\r\n\t\t$(\"#div_jb\").hide();\r\n\t});\r\n\r\n\t// 举报内容\r\n\t$(\"#div_jb\").click(function(){\r\n\t\ttanFun(410,400,'<div class=\"b-wrap\"><div class=\"b-inner\"><h6>举报</h6><div class=\"b-list-wrap\"><ul class=\"b-list\"><li _type=\"1\"><span class=\"txt\">钓鱼欺诈</span><span class=\"b-right-btn\" style=\"display:none;\"></span></li><li _type=\"2\"><span class=\"txt\">广告骚扰</span><span class=\"b-right-btn\" style=\"display:none;\"></span></li><li _type=\"3\"><span class=\"txt\">色情暴力</span><span class=\"b-right-btn\" style=\"display:none;\"></span></li><li _type=\"4\"><span class=\"txt\">其他</span><span class=\"b-right-btn\" style=\"display:none;\"></span><div class=\"edit-wrap\" style=\"display:none;\"><textarea id=\"txtInfo\" rows=\"3\" cols=\"10\"></textarea></div><div id=\"div_tips\"></div></li></ul></div><a href=\"javascript:;\" class=\"b-submit-btn\">提交</a></div></div>');\r\n\t});\r\n\r\n\t// 举报选择\r\n\t$(document).on(\"click\",\".b-list-wrap ul li\",function(){\r\n\t\t$(this).addClass('this').siblings().removeClass('this');\r\n\t\t$(this).parents().find(\".b-right-btn\").hide();\r\n\t\t$(this).find(\".b-right-btn\").show();\r\n\t});\r\n\r\n\t// 提交举报\r\n\t$(document).on(\"click\",\".b-submit-btn\",function(){\r\n\t\tvar _type = $(\".b-list-wrap li.this\").attr('_type');\r\n\t});\r\n\r\n\t// 发送私信\r\n\t$(\"#btnSendMsg\").on(\"click\",function(){\r\n\t\t$(\"#divMsgBox\").show();\r\n\t\t$(\"#divMsgBox .Comment_form\").html('<iframe hidefocus=\"true\" name=\"myFrame\" frameborder=\"0\" scrolling=\"no\" src=\"/yungou/message.html?page=uMy&msgTouserWeb='+userId+'\" style=\"width: 100%;height:100%;cursor:text;\"></iframe>');\r\n\t});\r\n\r\n\t// 关闭私信\r\n\t$(\"#divMsgBox .Close\").on(\"click\",function(){\r\n\t\t$(\"#divMsgBox\").hide();\r\n\t});\r\n\r\n\twindow.insertmsgFun = function(){\r\n\t\t$(\"#divMsgBox\").hide();\r\n\t\tFailDialog(180,60,'发送成功！');\r\n\t}\r\n\r\n\r\n\t/************** 云购记录 ******************/\r\n\r\n\tgetuserpagebuyrafpostFirstDataFun(1,8,0,userId);\r\n\r\n\tfunction getuserpagebuyrafpostFirstDataFun(page,limit,type,userID){\r\n\t\t$(\".good-list\").html('<div class=\"loading-2015\"><em></em></div>');\r\n\t\tvar dataObj = {\r\n\t\t\tpage:page,\r\n\t\t\tlimit:limit,\r\n\t\t\ttype:type,\r\n\t\t\tuserID:userID,\r\n\t\t}\r\n\t\tvar pagination = '#g-pagination-a';\r\n\t\tif( type==0 ){\r\n\t\t\tpagination = '#g-pagination-a';\r\n\t\t}else if( type==1 ){\r\n\t\t\tpagination = '#g-pagination-b';\r\n\t\t}else if( type==2 ){\r\n\t\t\tpagination = '#g-pagination-c';\r\n\t\t}\r\n\t\t// 数据加载 第一次\r\n\t\tgetuserpagebuyrafpostAjaxFun(dataObj,function(data){\r\n\t\t\tvar total = data.result.total;\r\n\t\t\tgetuserpagebuyrafpostAddDataFun(data,type);\r\n\t\t\t// 分页\r\n\t\t\tPageCreate(pagination,total,limit,1,function(pageNumber){\r\n\t\t\t\tif( total!=null ){ total = null; return; }\r\n\t\t\t\tdataObj.page = pageNumber;\r\n\t\t\t\t// 翻页后数据加载\r\n\t\t\t\tgetuserpagebuyrafpostAjaxFun(dataObj,function(data){\r\n\t\t\t\t\tgetuserpagebuyrafpostAddDataFun(data,type);\r\n\t\t\t\t});\r\n\t\t    });\r\n\t\t});\r\n\t}\r\n\r\n\t// 数据插入\r\n\tfunction getuserpagebuyrafpostAddDataFun(data,type){\r\n\t\tif( data.success ){\r\n\t    \tvar dataLi = '';\r\n\t\t\tif( type==0 ){ //云购\r\n\t\t\t\t$.each(data.result.datas, function(i,item){\r\n\t\t    \t\tvar buyNum = item.buyNum; //: \"1\"\r\n\t\t    \t\tvar buyTime = item.buyTime; //: \"3分钟前\"\r\n\t\t    \t\tvar codeID = item.codeID; //: 2746247\r\n\t\t    \t\tvar codePeriod = item.codePeriod; //: \"1622\"\r\n\t\t    \t\tvar codePrice = item.codePrice; //: \"5999.00\"\r\n\t\t    \t\tvar codeQuantity = item.codeQuantity; //: \"5999\"\r\n\t\t    \t\tvar codeRNO = item.codeRNO; //: \"10001182\"\r\n\t\t    \t\tvar codeRTime = item.codeRTime; //: \"2016-01-04 15:10:50\"\r\n\t\t    \t\tvar codeSales = item.codeSales; //: \"1195\"\r\n\t\t    \t\tvar codeState = item.codeState; //: \"1\"\r\n\t\t    \t\tvar codeType = item.codeType; //: \"0\"\r\n\t\t    \t\tvar goodsPic = item.goodsPic; //: \"20151023164405174.jpg\"\r\n\t\t    \t\tvar goodsSName = item.goodsSName; //: \"苹果（Apple）iPad Pro 12.9 英寸平板电脑 32G WiFi版\"\r\n\t\t    \t\tvar limitBuy = item.limitBuy; //: \"0\"\r\n\t\t    \t\tvar userName = item.userName; //: \"169257Q-猪头Q\"\r\n\t\t    \t\tvar userPhoto = item.userPhoto; //: \"20160104144619329.jpg\"\r\n\t\t    \t\tvar userWeb = item.userWeb; //: \"1012509077\"\r\n\r\n\t\t    \t\tif( codeState==\"1\" ){\r\n\t\t\t\t\t\tdataLi = '<li>'\r\n\t\t\t\t\t\t    +'<a class=\"g-pic\" target=\"_blank\" href=\"/yungou/product/index?id='+codeID+'\">'\r\n\t\t\t\t\t\t        +'<img alt=\"\" src=\"'+goodsPic+'\" width=\"100\" height=\"100\">'\r\n\t\t\t\t\t\t        +'<span class=\"g-bg\"> </span>'\r\n\t\t\t\t\t\t        +'<span class=\"g-txt\">进行中 <span class=\"dotting\"> </span> </span>'\r\n\t\t\t\t\t\t    +'</a>'\r\n\t\t\t\t\t\t    +'<div class=\"g-info\">'\r\n\t\t\t\t\t\t        +'<h2 class=\"g-title\">'\r\n\t\t\t\t\t\t            +'<a target=\"_blank\" rel=\"nofollow\" href=\"javascript:;\">'+goodsSName+'</a>'\r\n\t\t\t\t\t\t        +'</h2>'\r\n\t\t\t\t\t\t        +'<p class=\"g-price\">价值：￥'+codePrice+'</p>'\r\n\t\t\t\t\t\t        +'<div class=\"g-progress\">'\r\n\t\t\t\t\t\t            +'<dl class=\"m-progress\">'\r\n\t\t\t\t\t\t                +'<dt title=\"已完成'+(codeSales/codeQuantity)*100+'%\"><b style=\"width:'+(codeSales/codeQuantity)*100+'%\"><i class=\"cur\"></i></b></dt>'\r\n\t\t\t\t\t\t                +'<dd><span class=\"orange fl\"><em>'+codeSales+'</em>已参与</span><span class=\"gray6 fl\"><em>'+codeQuantity+'</em>总需人次</span><span class=\"blue fr\"><em>'+(codeQuantity-codeSales)+'</em>剩余</span></dd>'\r\n\t\t\t\t\t\t            +'</dl>'\r\n\t\t\t\t\t\t        +'</div>'\r\n\t\t\t\t\t\t    +'</div>'\r\n\t\t\t\t\t\t    +'<div class=\"g-total\">'\r\n\t\t\t\t\t\t        +'参与&nbsp;<span class=\"orange\">'+buyNum+'</span>&nbsp;人次'\r\n\t\t\t\t\t\t    +'</div>'\r\n\t\t\t\t\t\t    +'<a class=\"g-buy\" rel=\"nofollow\" target=\"_blank\" href=\"/yungou/product/detail?id='+codeID+'\">跟随云购</a>'\r\n\t\t\t\t\t\t    +'<i class=\"single\"><i class=\"single\"></i></i>'\r\n\t\t\t\t\t\t    +'<div class=\"g-time\"><div class=\"aricle\"><div class=\"cir\"></div></div><div class=\"time-str\"><div class=\"str\">'+buyTime+'</div></div></div>'\r\n\t\t\t\t\t\t    +'<div class=\"clear\"></div>'\r\n\t\t\t\t\t\t+'</li>';\t\r\n\t\t    \t\t}else{\r\n\t\t\t\t\t\tdataLi += '<li>'\r\n\t\t                    +'<a class=\"g-pic\" target=\"_blank\" href=\"/yungou/lottery/detail?id='+codeID+'\"><img alt=\"\" src=\"'+goodsPic+'\" width=\"100\" height=\"100\"><span class=\"g-bg g-end\"></span><span class=\"g-txt\">已揭晓</span></a>'\r\n\t\t                    +'<div class=\"g-info\">'\r\n\t\t                        +'<h2 class=\"g-title\"><a rel=\"nofollow\" target=\"_blank\" href=\"/yungou/lottery/detail?id='+codeID+'\">(第'+codePeriod+'云)'+goodsSName+'</a></h2>'\r\n\t\t                        +'<p class=\"g-price\">价值：￥'+codePrice+'</p>'\r\n\t\t                        +'<div class=\"g-older\"><p>获得者：<a href=\"/yungou/member/index?id='+userWeb+'\" target=\"_blank\">'+userName+'</a></p><p>揭晓时间：'+codeRTime+'</p></div>'\r\n\t\t                    +'</div>'\r\n\t\t                    +'<div class=\"g-total\">参与&nbsp;<span class=\"orange\">'+buyNum+'</span>&nbsp;人次</div>'\r\n\t\t                    +'<a class=\"g-see\" target=\"_blank\" href=\"/yungou/lottery/detail?id='+codeID+'\">查看详情</a><i class=\"single\"><i class=\"single\"></i></i>'\r\n\t\t                    +'<div class=\"g-time\"><div class=\"aricle\"><div class=\"cir\"></div></div><div class=\"time-str\"><div class=\"str\">'+buyTime+'</div></div></div><div class=\"clear\"></div>'\r\n\t\t                +'</li>';\r\n\t\t    \t\t}\r\n\t\t    \t});\r\n\t\t\t\t\r\n\t\t\t\tif( dataLi=='' ){\r\n\t\t\t\t\t$(\"#g-pagination\").hide();\r\n\t\t\t\t\t$(\"#div_BuyList li, .loading-2015\").remove();\r\n\t\t\t\t\t$(\"#div_BuyList .good-list\").html('<div class=\"null-retips-wrapper\"><div class=\"gth-icon transparent-png\"></div><span>暂无记录！</span></div>');\r\n\t\t\t\t}else{\r\n\t\t\t\t\t$(\"#g-pagination\").show();\r\n\t\t\t\t\t$(\"#div_BuyList li, .null-retips-wrapper, .loading-2015\").remove();\r\n\t\t\t\t\t$(\"#div_BuyList .good-list\").html(dataLi);\r\n\t\t\t\t}\r\n\t\t\t}else if( type==1 ){ //获得商品\r\n\t\t\t\t$.each(data.result.datas, function(i,item){\r\n\t\t    \t\tvar buyNum = item.buyNum;//: \"1\"\r\n\t\t\t\t\tvar codeID = item.codeID;//: 1955887\r\n\t\t\t\t\tvar codePeriod = item.codePeriod;//: \"271\"\r\n\t\t\t\t\tvar codePrice = item.codePrice;//: \"1080.00\"\r\n\t\t\t\t\tvar codeRNO = item.codeRNO;//: \"10000029\"\r\n\t\t\t\t\tvar codeRTime = item.codeRTime;//: \"2015-11-17 00:49\"\r\n\t\t\t\t\tvar codeType = item.codeType;//: \"0\"\r\n\t\t\t\t\tvar goodsPic = item.goodsPic;//: \"20150625155346462.jpg\"\r\n\t\t\t\t\tvar goodsSName = item.goodsSName;//: \"亚马逊 Kindle Paperwhite 3 全新升级版电子书阅读器 黑色\"\r\n\t\t\t\t\tvar limitBuy = item.limitBuy;//: \"0\"\r\n\t\t\t\t\tdataLi += '<li>'\r\n\t\t\t\t\t    +'<a class=\"g-pic\" target=\"_blank\" href=\"javascript:;\"><img alt=\"\" src=\"'+goodsPic+'\" width=\"100\" height=\"100\"></a>'\r\n\t\t\t\t\t    +'<div class=\"g-info\">'\r\n\t\t\t\t\t        +'<h2 class=\"g-title owner\"><a rel=\"nofollow\" target=\"_blank\" href=\"/yungou/lottery/detail?id='+codeID+'\">'+goodsSName+'</a></h2>'\r\n\t\t\t\t\t        +'<div class=\"g-older\"><p class=\"g-price\">价值：￥'+codePrice+'</p><p>幸运云购码：<b class=\"orange\">'+codeRNO+'</b></p></div>'\r\n\t\t\t\t\t    +'</div>'\r\n\t\t\t\t\t    +'<div class=\"g-total\">参与&nbsp;<span class=\"orange\">'+buyNum+'</span>&nbsp;人次</div>'\r\n\t\t\t\t\t    +'<a rel=\"nofollow\" class=\"g-see\" target=\"_blank\" href=\"/yungou/lottery/detail?id='+codeID+'\">查看详情</a>'\r\n\t\t\t\t\t    +'<i class=\"single\"><i class=\"single\"></i></i>'\r\n\t\t\t\t\t    +'<div class=\"g-time\"><div class=\"aricle\"><div class=\"cir\"></div></div><div class=\"time-str\"><div class=\"str\">'+codeRTime+'</div></div></div><div class=\"clear\"></div>'\r\n\t\t\t\t\t+'</li>';\t    \t\t\r\n\t\t    \t});\r\n\t\t\t\t\r\n\t\t\t\tif( dataLi=='' ){\r\n\t\t\t\t\t$(\"#g-pagination\").hide();\r\n\t\t\t\t\t$(\"#div_OrderList li, .loading-2015\").remove();\r\n\t\t\t\t\t$(\"#div_OrderList .good-list\").html('<div class=\"null-retips-wrapper\"><div class=\"gth-icon transparent-png\"></div><span>TA还没有获得商品哦！</span></div>');\r\n\t\t\t\t}else{\r\n\t\t\t\t\t$(\"#g-pagination\").show();\r\n\t\t\t\t\t$(\"#div_OrderList li, .null-retips-wrapper, .loading-2015\").remove();\r\n\t\t\t\t\t$(\"#div_OrderList .good-list\").html(dataLi);\r\n\t\t\t\t}\r\n\t\t\t}else if( type==2 ){ //晒单\r\n\t\t\t\t$.each(data.result.datas, function(i,item){\r\n\t\t    \t\tvar postAllPic = item.postAllPic.split(',')//: \"20160105111905438.jpg,20160105111940569.jpg,20160105112019025.jpg\"\r\n\t\t    \t\tvar postContent = item.postContent//: \"真的很意外，本来想着就买着玩，没想到真的中了，还是我很喜欢的亚马逊电子阅读器，因为…\"\r\n\t\t    \t\tvar postHits = item.postHits//: \"1\"\r\n\t\t    \t\tvar postID = item.postID//: \"133461\"\r\n\t\t    \t\tvar postPic = item.postPic//: \"20160105111905438.jpg\"\r\n\t\t    \t\tvar postReplyCount = item.postReplyCount//: \"2\"\r\n\t\t    \t\tvar postTime = item.postTime//: \"59分钟前\"\r\n\t\t    \t\tvar postTitle = item.postTitle//: \"感谢云购\"\r\n\t\t    \t\tvar replyContent = item.replyContent//: \"大学商盟，当代理首先送一台苹果手机。诶反复说了好多遍，你才会…\"\r\n\t\t    \t\tvar replyUserName = item.replyUserName//: \"大学商盟代理送苹果6s\"\r\n\t\t    \t\tvar replyUserPhoto = item.replyUserPhoto//: \"20151230144448387.jpg\"\r\n\t\t    \t\tvar replyUserWeb = item.replyUserWeb//: \"1012217871\"\r\n\t\t    \t\tvar imgLi = ''\r\n\t\t\t\t\tfor( var i=0; i<postAllPic.length; i++ ) {\r\n\t\t\t\t\t\timgLi += +'<li><span><img width=\"71px\" height=\"71px\" src=\"'+postAllPic[i]+'\"></span><div class=\"pic-hover transparent-png\" style=\"display: none;\"></div></li>';\r\n\t\t\t\t\t};\r\n\t\t\t\t\tdataLi += '<li>'\r\n\t\t\t\t\t    +'<h3 class=\"s-title\"><a target=\"_blank\" href=\"javascript:;\">'+postTitle+'</a></h3>'\r\n\t\t\t\t\t    +'<p class=\"s-info\"><a rel=\"nofollow\" target=\"_blank\" href=\"/yungou/post/detail?id='+postID+'\">'+postContent+'</a></p>'\r\n\t\t\t\t\t    +'<div class=\"pic-list-wrap\">'\r\n\t\t\t\t\t        +'<ol class=\"pic-list\">'+imgLi+'</ol>'\r\n\t\t\t\t\t    +'</div>'\r\n\t\t\t\t\t    +'<i class=\"single\"><i class=\"single\"></i></i>'\r\n\t\t\t\t\t    +'<div class=\"g-time\">'\r\n\t\t\t\t\t        +'<div class=\"aricle\"><div class=\"cir\"></div></div>'\r\n\t\t\t\t\t        +'<div class=\"time-str\"><div class=\"str\">'+postTime+'</div></div>'\r\n\t\t\t\t\t    +'</div>'\r\n\t\t\t\t\t    +'<div class=\"clear\"></div>'\r\n\t\t\t\t\t+'</li>';\t    \t\t\r\n\t\t    \t});\r\n\t\t\t\t\r\n\t\t\t\tif( dataLi=='' ){\r\n\t\t\t\t\t$(\"#g-pagination\").hide();\r\n\t\t\t\t\t$(\"#div_PostList li, .loading-2015\").remove();\r\n\t\t\t\t\t$(\"#div_PostList .good-list\").html('<div class=\"null-retips-wrapper\"><div class=\"gth-icon transparent-png\"></div><span>暂无晒单！</span></div>');\r\n\t\t\t\t}else{\r\n\t\t\t\t\t$(\"#g-pagination\").show();\r\n\t\t\t\t\t$(\"#div_PostList li, .null-retips-wrapper, .loading-2015\").remove();\r\n\t\t\t\t\t$(\"#div_PostList .good-list\").html(dataLi);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t    }else{\r\n\r\n\t    }\r\n\t}\r\n\r\n\t//函数\r\n\tfunction getuserpagebuyrafpostAjaxFun(dataObj,Callback){\r\n\t\tif( !ajaxlack ) return; ajaxlack = false;\r\n\t\t$.ajax({\r\n\t        url: \"/order/service/getuserpagebuyrafpost\",\r\n\t        type: 'POST',\r\n\t        dataType: 'json',\r\n\t        data: dataObj\r\n\t    })\r\n\t    .done(function(data) {\r\n\t        console.log(data);\r\n\t        Callback(data);\r\n\t    })\r\n\t    .fail(function() {\r\n\t        //alert('网络错误！')\r\n\t    })\r\n\t    .always(function() {\r\n\t    \tajaxlack = true;\r\n\t    });\r\n\t}\r\n\r\n\r\n\r\n\t/************** 近期访客 ******************/\r\n\tgetrecentvisitorsAjaxFun();\r\n\tfunction getrecentvisitorsAjaxFun(){\r\n\t\t$.ajax({\r\n\t        url: \"/member/service/getrecentvisitors\",\r\n\t        type: 'POST',\r\n\t        dataType: 'json',\r\n\t        data: { userId:userId }\r\n\t    })\r\n\t    .done(function(data) {\r\n\t        console.log(data);\r\n\t        if( data.success ){\r\n\t        \tvar dataLi = \"\";\r\n\t        \t$.each(data.result.datas, function(i,item){\r\n\t\t    \t\tvar birthAreaNameState = item.birthAreaNameState; //: \" hidden\"\r\n\t\t        \tvar browserTime = item.browserTime; //: \"1分钟前\"\r\n\t\t        \tvar gradeLevel = item.gradeLevel; //: \"01\"\r\n\t\t        \tvar userBirthAreaName = item.userBirthAreaName; //: \"\"\r\n\t\t        \tvar userName = item.userName; //: \"中个奖有这么困难嘛\"\r\n\t\t        \tvar userPhoto = item.userPhoto; //: \"20151212152923647.jpg\"\r\n\t\t        \tvar userWeb = item.userWeb; //: \"1010029819\"\r\n\t\t\t\t\tdataLi += '<li>'\r\n\t\t\t\t\t\t+'<a class=\"pic\" uweb=\"'+userWeb+'\" type=\"showCard\" href=\"/yungou/member/index?id='+userWeb+'\"><img src=\"'+userPhoto+'\" width=\"50\" height=\"50\"></a>'\r\n\t\t\t\t\t\t\t+'<div class=\"info\"><span class=\"class-icon01\">'\r\n\t\t\t\t\t\t\t\t+'<a class=\"name\" uweb=\"'+userWeb+'\" type=\"showCard\" href=\"/yungou/member/index?id='+userWeb+'\" rel=\"nofollow\">'+userName+'</a><s></s></span><p>'+browserTime+'</p>'\r\n\t\t\t\t\t\t\t+'</div>'\r\n\t\t\t\t\t\t+'</li>';\t    \t\t\r\n\t\t    \t});\r\n\t\t\t\t\r\n\t\t\t\tif( dataLi=='' ){\r\n\t\t\t\t\t$(\"#ul_visitors\").html('<div class=\"null-retips-wrapper\"><div class=\"gth-icon transparent-png\"></div><span>暂无访客哦！</span></div>');\r\n\t\t\t\t}else{\r\n\t\t\t\t\t$(\"#ul_visitors\").html(dataLi);\r\n\t\t\t\t}\r\n\t        }\r\n\t    })\r\n\t    .fail(function() {\r\n\t        //alert('网络错误！')\r\n\t    })\r\n\t    .always(function() {\r\n\r\n\t    });\r\n\t}\r\n\r\n\r\n\t// 好友检查\r\n\tcheckuserfriendAjaxFun();\r\n\tfunction checkuserfriendAjaxFun(){\r\n\t\t$.ajax({\r\n\t        url: \"/member/service/checkuserfriend\",\r\n\t        type: 'POST',\r\n\t        dataType: 'json',\r\n\t        data: { userID:userId }\r\n\t    })\r\n\t    .done(function(data) {\r\n\t        console.log(data);\r\n\t        if( data.success ){\r\n\t        \t$(\".option-wrapper li:eq(0)\").hide();\r\n\t        }else{\r\n\t        \t$(\".option-wrapper li:eq(0)\").show();\r\n\t        }\r\n\t    })\r\n\t    .fail(function() {\r\n\t        //alert('网络错误！')\r\n\t    })\r\n\t    .always(function() {\r\n\r\n\t    });\r\n\t}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n})"},{"id":1,"identifier":"D:\\云购\\public\\js\\libs\\jquery-1.11.3.js","name":"./js/libs/jquery-1.11.3.js","index":1,"index2":1,"size":95957,"cacheable":true,"built":false,"optional":false,"prefetched":false,"chunks":[12],"assets":[],"issuer":"D:\\云购\\public\\js\\app\\cart.main.js","failed":false,"errors":0,"warnings":0,"reasons":[{"moduleId":0,"moduleIdentifier":"D:\\云购\\public\\js\\app\\help.main.js","module":"./js/app/help.main.js","moduleName":"./js/app/help.main.js","type":"cjs require","userRequest":"$","loc":"1:0-35"},{"moduleId":0,"moduleIdentifier":"D:\\云购\\public\\js\\app\\qcbind.main.js","module":"./js/app/qcbind.main.js","moduleName":"./js/app/qcbind.main.js","type":"cjs require","userRequest":"$","loc":"1:0-35"},{"moduleId":0,"moduleIdentifier":"D:\\云购\\public\\js\\app\\memberindex.main.js","module":"./js/app/memberindex.main.js","moduleName":"./js/app/memberindex.main.js","type":"cjs require","userRequest":"$","loc":"1:0-35"},{"moduleId":0,"moduleIdentifier":"D:\\云购\\public\\js\\app\\message.main.js","module":"./js/app/message.main.js","moduleName":"./js/app/message.main.js","type":"cjs require","userRequest":"$","loc":"1:0-35"},{"moduleId":0,"moduleIdentifier":"D:\\云购\\public\\js\\app\\post.main.js","module":"./js/app/post.main.js","moduleName":"./js/app/post.main.js","type":"cjs require","userRequest":"$","loc":"1:0-35"},{"moduleId":0,"moduleIdentifier":"D:\\云购\\public\\js\\app\\login.main.js","module":"./js/app/login.main.js","moduleName":"./js/app/login.main.js","type":"cjs require","userRequest":"$","loc":"1:0-35"},{"moduleId":0,"moduleIdentifier":"D:\\云购\\public\\js\\app\\uMy.main.js","module":"./js/app/uMy.main.js","moduleName":"./js/app/uMy.main.js","type":"cjs require","userRequest":"$","loc":"1:0-35"},{"moduleId":0,"moduleIdentifier":"D:\\云购\\public\\js\\app\\index.main.js","module":"./js/app/index.main.js","moduleName":"./js/app/index.main.js","type":"cjs require","userRequest":"$","loc":"1:0-35"},{"moduleId":0,"moduleIdentifier":"D:\\云购\\public\\js\\app\\lottery.main.js","module":"./js/app/lottery.main.js","moduleName":"./js/app/lottery.main.js","type":"cjs require","userRequest":"$","loc":"1:0-35"},{"moduleId":0,"moduleIdentifier":"D:\\云购\\public\\js\\app\\detail.main.js","module":"./js/app/detail.main.js","moduleName":"./js/app/detail.main.js","type":"cjs require","userRequest":"$","loc":"1:0-35"},{"moduleId":0,"moduleIdentifier":"D:\\云购\\public\\js\\app\\cart.main.js","module":"./js/app/cart.main.js","moduleName":"./js/app/cart.main.js","type":"cjs require","userRequest":"$","loc":"1:0-35"},{"moduleId":3,"moduleIdentifier":"D:\\云购\\public\\js\\app\\public.js","module":"./js/app/public.js","moduleName":"./js/app/public.js","type":"cjs require","userRequest":"$","loc":"1:0-35"},{"moduleId":4,"moduleIdentifier":"D:\\云购\\public\\js\\app\\CartList.js","module":"./js/app/CartList.js","moduleName":"./js/app/CartList.js","type":"cjs require","userRequest":"$","loc":"1:0-35"},{"moduleId":5,"moduleIdentifier":"D:\\云购\\public\\js\\app\\cartAjax.js","module":"./js/app/cartAjax.js","moduleName":"./js/app/cartAjax.js","type":"cjs require","userRequest":"$","loc":"1:0-35"},{"moduleId":6,"moduleIdentifier":"D:\\云购\\public\\js\\libs\\jquery.fly.min.js","module":"./js/libs/jquery.fly.min.js","moduleName":"./js/libs/jquery.fly.min.js","type":"cjs require","userRequest":"jQuery","loc":"1:0-35"},{"moduleId":6,"moduleIdentifier":"D:\\云购\\public\\js\\libs\\jquery.fly.min.js","module":"./js/libs/jquery.fly.min.js","moduleName":"./js/libs/jquery.fly.min.js","type":"cjs require","userRequest":"jquery","loc":"4:8-25"},{"moduleId":7,"moduleIdentifier":"D:\\云购\\public\\js\\libs\\query.js","module":"./js/libs/query.js","moduleName":"./js/libs/query.js","type":"cjs require","userRequest":"jQuery","loc":"1:0-35"},{"moduleId":8,"moduleIdentifier":"D:\\云购\\public\\js\\libs\\pagination-min.js","module":"./js/libs/pagination-min.js","moduleName":"./js/libs/pagination-min.js","type":"cjs require","userRequest":"jquery","loc":"11:8-25"},{"moduleId":8,"moduleIdentifier":"D:\\云购\\public\\js\\libs\\pagination-min.js","module":"./js/libs/pagination-min.js","moduleName":"./js/libs/pagination-min.js","type":"cjs require","userRequest":"__webpack_provided_window_dot_jQuery","loc":"1:0-35"},{"moduleId":8,"moduleIdentifier":"D:\\云购\\public\\js\\libs\\pagination-min.js","module":"./js/libs/pagination-min.js","moduleName":"./js/libs/pagination-min.js","type":"cjs require","userRequest":"jQuery","loc":"1:0-35"},{"moduleId":9,"moduleIdentifier":"D:\\云购\\public\\js\\libs\\jquery.lazyload.js","module":"./js/libs/jquery.lazyload.js","moduleName":"./js/libs/jquery.lazyload.js","type":"cjs require","userRequest":"jQuery","loc":"1:0-35"},{"moduleId":9,"moduleIdentifier":"D:\\云购\\public\\js\\libs\\jquery.lazyload.js","module":"./js/libs/jquery.lazyload.js","moduleName":"./js/libs/jquery.lazyload.js","type":"cjs require","userRequest":"jquery","loc":"15:9-26"},{"moduleId":10,"moduleIdentifier":"D:\\云购\\public\\js\\libs\\jquery.jqzoom.js","module":"./js/libs/jquery.jqzoom.js","moduleName":"./js/libs/jquery.jqzoom.js","type":"cjs require","userRequest":"jQuery","loc":"1:0-35"},{"moduleId":11,"moduleIdentifier":"D:\\云购\\public\\js\\libs\\base.js","module":"./js/libs/base.js","moduleName":"./js/libs/base.js","type":"cjs require","userRequest":"$","loc":"1:0-35"},{"moduleId":12,"moduleIdentifier":"D:\\云购\\public\\js\\app\\collectFun.js","module":"./js/app/collectFun.js","moduleName":"./js/app/collectFun.js","type":"cjs require","userRequest":"$","loc":"1:0-35"},{"moduleId":13,"moduleIdentifier":"D:\\云购\\public\\js\\app\\bottomFun.js","module":"./js/app/bottomFun.js","moduleName":"./js/app/bottomFun.js","type":"cjs require","userRequest":"$","loc":"1:0-35"},{"moduleId":14,"moduleIdentifier":"D:\\云购\\public\\js\\libs\\jquery.SuperSlide.js","module":"./js/libs/jquery.SuperSlide.js","moduleName":"./js/libs/jquery.SuperSlide.js","type":"cjs require","userRequest":"jQuery","loc":"1:0-35"},{"moduleId":15,"moduleIdentifier":"D:\\云购\\public\\js\\libs\\jquery-form.js","module":"./js/libs/jquery-form.js","moduleName":"./js/libs/jquery-form.js","type":"amd require","userRequest":"jquery","loc":"18:8-35"},{"moduleId":16,"moduleIdentifier":"D:\\云购\\public\\js\\libs\\jquery.Jcrop.js","module":"./js/libs/jquery.Jcrop.js","moduleName":"./js/libs/jquery.Jcrop.js","type":"cjs require","userRequest":"jQuery","loc":"1:0-35"},{"moduleId":17,"moduleIdentifier":"D:\\云购\\public\\js\\libs\\bootstrap-datepicker.js","module":"./js/libs/bootstrap-datepicker.js","moduleName":"./js/libs/bootstrap-datepicker.js","type":"cjs require","userRequest":"__webpack_provided_window_dot_jQuery","loc":"1:0-35"},{"moduleId":18,"moduleIdentifier":"D:\\云购\\public\\js\\app\\postsingle.js","module":"./js/app/postsingle.js","moduleName":"./js/app/postsingle.js","type":"cjs require","userRequest":"$","loc":"1:0-35"},{"moduleId":19,"moduleIdentifier":"D:\\云购\\public\\js\\app\\memberPublic.js","module":"./js/app/memberPublic.js","moduleName":"./js/app/memberPublic.js","type":"cjs require","userRequest":"$","loc":"1:0-35"},{"moduleId":20,"moduleIdentifier":"D:\\云购\\public\\js\\app\\address.js","module":"./js/app/address.js","moduleName":"./js/app/address.js","type":"cjs require","userRequest":"$","loc":"1:0-35"},{"moduleId":21,"moduleIdentifier":"D:\\云购\\public\\js\\app\\userphoto.js","module":"./js/app/userphoto.js","moduleName":"./js/app/userphoto.js","type":"cjs require","userRequest":"$","loc":"1:0-35"},{"moduleId":22,"moduleIdentifier":"D:\\云购\\public\\js\\libs\\jquery.qqFace.js","module":"./js/libs/jquery.qqFace.js","moduleName":"./js/libs/jquery.qqFace.js","type":"cjs require","userRequest":"jQuery","loc":"1:0-35"}],"source":"/*! jQuery v1.11.3 | (c) 2005, 2015 jQuery Foundation, Inc. | jquery.org/license */\n!function(a,b){\"object\"==typeof module&&\"object\"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error(\"jQuery requires a window with a document\");return b(a)}:b(a)}(\"undefined\"!=typeof window?window:this,function(a,b){var c=[],d=c.slice,e=c.concat,f=c.push,g=c.indexOf,h={},i=h.toString,j=h.hasOwnProperty,k={},l=\"1.11.3\",m=function(a,b){return new m.fn.init(a,b)},n=/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g,o=/^-ms-/,p=/-([\\da-z])/gi,q=function(a,b){return b.toUpperCase()};m.fn=m.prototype={jquery:l,constructor:m,selector:\"\",length:0,toArray:function(){return d.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:d.call(this)},pushStack:function(a){var b=m.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return m.each(this,a,b)},map:function(a){return this.pushStack(m.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(d.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:f,sort:c.sort,splice:c.splice},m.extend=m.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for(\"boolean\"==typeof g&&(j=g,g=arguments[h]||{},h++),\"object\"==typeof g||m.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(e=arguments[h]))for(d in e)a=g[d],c=e[d],g!==c&&(j&&c&&(m.isPlainObject(c)||(b=m.isArray(c)))?(b?(b=!1,f=a&&m.isArray(a)?a:[]):f=a&&m.isPlainObject(a)?a:{},g[d]=m.extend(j,f,c)):void 0!==c&&(g[d]=c));return g},m.extend({expando:\"jQuery\"+(l+Math.random()).replace(/\\D/g,\"\"),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return\"function\"===m.type(a)},isArray:Array.isArray||function(a){return\"array\"===m.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return!m.isArray(a)&&a-parseFloat(a)+1>=0},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},isPlainObject:function(a){var b;if(!a||\"object\"!==m.type(a)||a.nodeType||m.isWindow(a))return!1;try{if(a.constructor&&!j.call(a,\"constructor\")&&!j.call(a.constructor.prototype,\"isPrototypeOf\"))return!1}catch(c){return!1}if(k.ownLast)for(b in a)return j.call(a,b);for(b in a);return void 0===b||j.call(a,b)},type:function(a){return null==a?a+\"\":\"object\"==typeof a||\"function\"==typeof a?h[i.call(a)]||\"object\":typeof a},globalEval:function(b){b&&m.trim(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(o,\"ms-\").replace(p,q)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,c){var d,e=0,f=a.length,g=r(a);if(c){if(g){for(;f>e;e++)if(d=b.apply(a[e],c),d===!1)break}else for(e in a)if(d=b.apply(a[e],c),d===!1)break}else if(g){for(;f>e;e++)if(d=b.call(a[e],e,a[e]),d===!1)break}else for(e in a)if(d=b.call(a[e],e,a[e]),d===!1)break;return a},trim:function(a){return null==a?\"\":(a+\"\").replace(n,\"\")},makeArray:function(a,b){var c=b||[];return null!=a&&(r(Object(a))?m.merge(c,\"string\"==typeof a?[a]:a):f.call(c,a)),c},inArray:function(a,b,c){var d;if(b){if(g)return g.call(b,a,c);for(d=b.length,c=c?0>c?Math.max(0,d+c):c:0;d>c;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,b){var c=+b.length,d=0,e=a.length;while(c>d)a[e++]=b[d++];if(c!==c)while(void 0!==b[d])a[e++]=b[d++];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,c){var d,f=0,g=a.length,h=r(a),i=[];if(h)for(;g>f;f++)d=b(a[f],f,c),null!=d&&i.push(d);else for(f in a)d=b(a[f],f,c),null!=d&&i.push(d);return e.apply([],i)},guid:1,proxy:function(a,b){var c,e,f;return\"string\"==typeof b&&(f=a[b],b=a,a=f),m.isFunction(a)?(c=d.call(arguments,2),e=function(){return a.apply(b||this,c.concat(d.call(arguments)))},e.guid=a.guid=a.guid||m.guid++,e):void 0},now:function(){return+new Date},support:k}),m.each(\"Boolean Number String Function Array Date RegExp Object Error\".split(\" \"),function(a,b){h[\"[object \"+b+\"]\"]=b.toLowerCase()});function r(a){var b=\"length\"in a&&a.length,c=m.type(a);return\"function\"===c||m.isWindow(a)?!1:1===a.nodeType&&b?!0:\"array\"===c||0===b||\"number\"==typeof b&&b>0&&b-1 in a}var s=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u=\"sizzle\"+1*new Date,v=a.document,w=0,x=0,y=ha(),z=ha(),A=ha(),B=function(a,b){return a===b&&(l=!0),0},C=1<<31,D={}.hasOwnProperty,E=[],F=E.pop,G=E.push,H=E.push,I=E.slice,J=function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},K=\"checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped\",L=\"[\\\\x20\\\\t\\\\r\\\\n\\\\f]\",M=\"(?:\\\\\\\\.|[\\\\w-]|[^\\\\x00-\\\\xa0])+\",N=M.replace(\"w\",\"w#\"),O=\"\\\\[\"+L+\"*(\"+M+\")(?:\"+L+\"*([*^$|!~]?=)\"+L+\"*(?:'((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\"|(\"+N+\"))|)\"+L+\"*\\\\]\",P=\":(\"+M+\")(?:\\\\((('((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\")|((?:\\\\\\\\.|[^\\\\\\\\()[\\\\]]|\"+O+\")*)|.*)\\\\)|)\",Q=new RegExp(L+\"+\",\"g\"),R=new RegExp(\"^\"+L+\"+|((?:^|[^\\\\\\\\])(?:\\\\\\\\.)*)\"+L+\"+$\",\"g\"),S=new RegExp(\"^\"+L+\"*,\"+L+\"*\"),T=new RegExp(\"^\"+L+\"*([>+~]|\"+L+\")\"+L+\"*\"),U=new RegExp(\"=\"+L+\"*([^\\\\]'\\\"]*?)\"+L+\"*\\\\]\",\"g\"),V=new RegExp(P),W=new RegExp(\"^\"+N+\"$\"),X={ID:new RegExp(\"^#(\"+M+\")\"),CLASS:new RegExp(\"^\\\\.(\"+M+\")\"),TAG:new RegExp(\"^(\"+M.replace(\"w\",\"w*\")+\")\"),ATTR:new RegExp(\"^\"+O),PSEUDO:new RegExp(\"^\"+P),CHILD:new RegExp(\"^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\\\(\"+L+\"*(even|odd|(([+-]|)(\\\\d*)n|)\"+L+\"*(?:([+-]|)\"+L+\"*(\\\\d+)|))\"+L+\"*\\\\)|)\",\"i\"),bool:new RegExp(\"^(?:\"+K+\")$\",\"i\"),needsContext:new RegExp(\"^\"+L+\"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\\\(\"+L+\"*((?:-\\\\d)?\\\\d*)\"+L+\"*\\\\)|)(?=[^-]|$)\",\"i\")},Y=/^(?:input|select|textarea|button)$/i,Z=/^h\\d$/i,$=/^[^{]+\\{\\s*\\[native \\w/,_=/^(?:#([\\w-]+)|(\\w+)|\\.([\\w-]+))$/,aa=/[+~]/,ba=/'|\\\\/g,ca=new RegExp(\"\\\\\\\\([\\\\da-f]{1,6}\"+L+\"?|(\"+L+\")|.)\",\"ig\"),da=function(a,b,c){var d=\"0x\"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},ea=function(){m()};try{H.apply(E=I.call(v.childNodes),v.childNodes),E[v.childNodes.length].nodeType}catch(fa){H={apply:E.length?function(a,b){G.apply(a,I.call(b))}:function(a,b){var c=a.length,d=0;while(a[c++]=b[d++]);a.length=c-1}}}function ga(a,b,d,e){var f,h,j,k,l,o,r,s,w,x;if((b?b.ownerDocument||b:v)!==n&&m(b),b=b||n,d=d||[],k=b.nodeType,\"string\"!=typeof a||!a||1!==k&&9!==k&&11!==k)return d;if(!e&&p){if(11!==k&&(f=_.exec(a)))if(j=f[1]){if(9===k){if(h=b.getElementById(j),!h||!h.parentNode)return d;if(h.id===j)return d.push(h),d}else if(b.ownerDocument&&(h=b.ownerDocument.getElementById(j))&&t(b,h)&&h.id===j)return d.push(h),d}else{if(f[2])return H.apply(d,b.getElementsByTagName(a)),d;if((j=f[3])&&c.getElementsByClassName)return H.apply(d,b.getElementsByClassName(j)),d}if(c.qsa&&(!q||!q.test(a))){if(s=r=u,w=b,x=1!==k&&a,1===k&&\"object\"!==b.nodeName.toLowerCase()){o=g(a),(r=b.getAttribute(\"id\"))?s=r.replace(ba,\"\\\\$&\"):b.setAttribute(\"id\",s),s=\"[id='\"+s+\"'] \",l=o.length;while(l--)o[l]=s+ra(o[l]);w=aa.test(a)&&pa(b.parentNode)||b,x=o.join(\",\")}if(x)try{return H.apply(d,w.querySelectorAll(x)),d}catch(y){}finally{r||b.removeAttribute(\"id\")}}}return i(a.replace(R,\"$1\"),b,d,e)}function ha(){var a=[];function b(c,e){return a.push(c+\" \")>d.cacheLength&&delete b[a.shift()],b[c+\" \"]=e}return b}function ia(a){return a[u]=!0,a}function ja(a){var b=n.createElement(\"div\");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function ka(a,b){var c=a.split(\"|\"),e=a.length;while(e--)d.attrHandle[c[e]]=b}function la(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||C)-(~a.sourceIndex||C);if(d)return d;if(c)while(c=c.nextSibling)if(c===b)return-1;return a?1:-1}function ma(a){return function(b){var c=b.nodeName.toLowerCase();return\"input\"===c&&b.type===a}}function na(a){return function(b){var c=b.nodeName.toLowerCase();return(\"input\"===c||\"button\"===c)&&b.type===a}}function oa(a){return ia(function(b){return b=+b,ia(function(c,d){var e,f=a([],c.length,b),g=f.length;while(g--)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function pa(a){return a&&\"undefined\"!=typeof a.getElementsByTagName&&a}c=ga.support={},f=ga.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?\"HTML\"!==b.nodeName:!1},m=ga.setDocument=function(a){var b,e,g=a?a.ownerDocument||a:v;return g!==n&&9===g.nodeType&&g.documentElement?(n=g,o=g.documentElement,e=g.defaultView,e&&e!==e.top&&(e.addEventListener?e.addEventListener(\"unload\",ea,!1):e.attachEvent&&e.attachEvent(\"onunload\",ea)),p=!f(g),c.attributes=ja(function(a){return a.className=\"i\",!a.getAttribute(\"className\")}),c.getElementsByTagName=ja(function(a){return a.appendChild(g.createComment(\"\")),!a.getElementsByTagName(\"*\").length}),c.getElementsByClassName=$.test(g.getElementsByClassName),c.getById=ja(function(a){return o.appendChild(a).id=u,!g.getElementsByName||!g.getElementsByName(u).length}),c.getById?(d.find.ID=function(a,b){if(\"undefined\"!=typeof b.getElementById&&p){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},d.filter.ID=function(a){var b=a.replace(ca,da);return function(a){return a.getAttribute(\"id\")===b}}):(delete d.find.ID,d.filter.ID=function(a){var b=a.replace(ca,da);return function(a){var c=\"undefined\"!=typeof a.getAttributeNode&&a.getAttributeNode(\"id\");return c&&c.value===b}}),d.find.TAG=c.getElementsByTagName?function(a,b){return\"undefined\"!=typeof b.getElementsByTagName?b.getElementsByTagName(a):c.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if(\"*\"===a){while(c=f[e++])1===c.nodeType&&d.push(c);return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){return p?b.getElementsByClassName(a):void 0},r=[],q=[],(c.qsa=$.test(g.querySelectorAll))&&(ja(function(a){o.appendChild(a).innerHTML=\"<a id='\"+u+\"'></a><select id='\"+u+\"-\\f]' msallowcapture=''><option selected=''></option></select>\",a.querySelectorAll(\"[msallowcapture^='']\").length&&q.push(\"[*^$]=\"+L+\"*(?:''|\\\"\\\")\"),a.querySelectorAll(\"[selected]\").length||q.push(\"\\\\[\"+L+\"*(?:value|\"+K+\")\"),a.querySelectorAll(\"[id~=\"+u+\"-]\").length||q.push(\"~=\"),a.querySelectorAll(\":checked\").length||q.push(\":checked\"),a.querySelectorAll(\"a#\"+u+\"+*\").length||q.push(\".#.+[+~]\")}),ja(function(a){var b=g.createElement(\"input\");b.setAttribute(\"type\",\"hidden\"),a.appendChild(b).setAttribute(\"name\",\"D\"),a.querySelectorAll(\"[name=d]\").length&&q.push(\"name\"+L+\"*[*^$|!~]?=\"),a.querySelectorAll(\":enabled\").length||q.push(\":enabled\",\":disabled\"),a.querySelectorAll(\"*,:x\"),q.push(\",.*:\")})),(c.matchesSelector=$.test(s=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&ja(function(a){c.disconnectedMatch=s.call(a,\"div\"),s.call(a,\"[s!='']:x\"),r.push(\"!=\",P)}),q=q.length&&new RegExp(q.join(\"|\")),r=r.length&&new RegExp(r.join(\"|\")),b=$.test(o.compareDocumentPosition),t=b||$.test(o.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)while(b=b.parentNode)if(b===a)return!0;return!1},B=b?function(a,b){if(a===b)return l=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===g||a.ownerDocument===v&&t(v,a)?-1:b===g||b.ownerDocument===v&&t(v,b)?1:k?J(k,a)-J(k,b):0:4&d?-1:1)}:function(a,b){if(a===b)return l=!0,0;var c,d=0,e=a.parentNode,f=b.parentNode,h=[a],i=[b];if(!e||!f)return a===g?-1:b===g?1:e?-1:f?1:k?J(k,a)-J(k,b):0;if(e===f)return la(a,b);c=a;while(c=c.parentNode)h.unshift(c);c=b;while(c=c.parentNode)i.unshift(c);while(h[d]===i[d])d++;return d?la(h[d],i[d]):h[d]===v?-1:i[d]===v?1:0},g):n},ga.matches=function(a,b){return ga(a,null,null,b)},ga.matchesSelector=function(a,b){if((a.ownerDocument||a)!==n&&m(a),b=b.replace(U,\"='$1']\"),!(!c.matchesSelector||!p||r&&r.test(b)||q&&q.test(b)))try{var d=s.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return ga(b,n,null,[a]).length>0},ga.contains=function(a,b){return(a.ownerDocument||a)!==n&&m(a),t(a,b)},ga.attr=function(a,b){(a.ownerDocument||a)!==n&&m(a);var e=d.attrHandle[b.toLowerCase()],f=e&&D.call(d.attrHandle,b.toLowerCase())?e(a,b,!p):void 0;return void 0!==f?f:c.attributes||!p?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},ga.error=function(a){throw new Error(\"Syntax error, unrecognized expression: \"+a)},ga.uniqueSort=function(a){var b,d=[],e=0,f=0;if(l=!c.detectDuplicates,k=!c.sortStable&&a.slice(0),a.sort(B),l){while(b=a[f++])b===a[f]&&(e=d.push(f));while(e--)a.splice(d[e],1)}return k=null,a},e=ga.getText=function(a){var b,c=\"\",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if(\"string\"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=e(a)}else if(3===f||4===f)return a.nodeValue}else while(b=a[d++])c+=e(b);return c},d=ga.selectors={cacheLength:50,createPseudo:ia,match:X,attrHandle:{},find:{},relative:{\">\":{dir:\"parentNode\",first:!0},\" \":{dir:\"parentNode\"},\"+\":{dir:\"previousSibling\",first:!0},\"~\":{dir:\"previousSibling\"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(ca,da),a[3]=(a[3]||a[4]||a[5]||\"\").replace(ca,da),\"~=\"===a[2]&&(a[3]=\" \"+a[3]+\" \"),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),\"nth\"===a[1].slice(0,3)?(a[3]||ga.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*(\"even\"===a[3]||\"odd\"===a[3])),a[5]=+(a[7]+a[8]||\"odd\"===a[3])):a[3]&&ga.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return X.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||\"\":c&&V.test(c)&&(b=g(c,!0))&&(b=c.indexOf(\")\",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(ca,da).toLowerCase();return\"*\"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=y[a+\" \"];return b||(b=new RegExp(\"(^|\"+L+\")\"+a+\"(\"+L+\"|$)\"))&&y(a,function(a){return b.test(\"string\"==typeof a.className&&a.className||\"undefined\"!=typeof a.getAttribute&&a.getAttribute(\"class\")||\"\")})},ATTR:function(a,b,c){return function(d){var e=ga.attr(d,a);return null==e?\"!=\"===b:b?(e+=\"\",\"=\"===b?e===c:\"!=\"===b?e!==c:\"^=\"===b?c&&0===e.indexOf(c):\"*=\"===b?c&&e.indexOf(c)>-1:\"$=\"===b?c&&e.slice(-c.length)===c:\"~=\"===b?(\" \"+e.replace(Q,\" \")+\" \").indexOf(c)>-1:\"|=\"===b?e===c||e.slice(0,c.length+1)===c+\"-\":!1):!0}},CHILD:function(a,b,c,d,e){var f=\"nth\"!==a.slice(0,3),g=\"last\"!==a.slice(-4),h=\"of-type\"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?\"nextSibling\":\"previousSibling\",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h;if(q){if(f){while(p){l=b;while(l=l[p])if(h?l.nodeName.toLowerCase()===r:1===l.nodeType)return!1;o=p=\"only\"===a&&!o&&\"nextSibling\"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){k=q[u]||(q[u]={}),j=k[a]||[],n=j[0]===w&&j[1],m=j[0]===w&&j[2],l=n&&q.childNodes[n];while(l=++n&&l&&l[p]||(m=n=0)||o.pop())if(1===l.nodeType&&++m&&l===b){k[a]=[w,n,m];break}}else if(s&&(j=(b[u]||(b[u]={}))[a])&&j[0]===w)m=j[1];else while(l=++n&&l&&l[p]||(m=n=0)||o.pop())if((h?l.nodeName.toLowerCase()===r:1===l.nodeType)&&++m&&(s&&((l[u]||(l[u]={}))[a]=[w,m]),l===b))break;return m-=e,m===d||m%d===0&&m/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||ga.error(\"unsupported pseudo: \"+a);return e[u]?e(b):e.length>1?(c=[a,a,\"\",b],d.setFilters.hasOwnProperty(a.toLowerCase())?ia(function(a,c){var d,f=e(a,b),g=f.length;while(g--)d=J(a,f[g]),a[d]=!(c[d]=f[g])}):function(a){return e(a,0,c)}):e}},pseudos:{not:ia(function(a){var b=[],c=[],d=h(a.replace(R,\"$1\"));return d[u]?ia(function(a,b,c,e){var f,g=d(a,null,e,[]),h=a.length;while(h--)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),b[0]=null,!c.pop()}}),has:ia(function(a){return function(b){return ga(a,b).length>0}}),contains:ia(function(a){return a=a.replace(ca,da),function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:ia(function(a){return W.test(a||\"\")||ga.error(\"unsupported lang: \"+a),a=a.replace(ca,da).toLowerCase(),function(b){var c;do if(c=p?b.lang:b.getAttribute(\"xml:lang\")||b.getAttribute(\"lang\"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+\"-\");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===o},focus:function(a){return a===n.activeElement&&(!n.hasFocus||n.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return\"input\"===b&&!!a.checked||\"option\"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!d.pseudos.empty(a)},header:function(a){return Z.test(a.nodeName)},input:function(a){return Y.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return\"input\"===b&&\"button\"===a.type||\"button\"===b},text:function(a){var b;return\"input\"===a.nodeName.toLowerCase()&&\"text\"===a.type&&(null==(b=a.getAttribute(\"type\"))||\"text\"===b.toLowerCase())},first:oa(function(){return[0]}),last:oa(function(a,b){return[b-1]}),eq:oa(function(a,b,c){return[0>c?c+b:c]}),even:oa(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:oa(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:oa(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:oa(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},d.pseudos.nth=d.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})d.pseudos[b]=ma(b);for(b in{submit:!0,reset:!0})d.pseudos[b]=na(b);function qa(){}qa.prototype=d.filters=d.pseudos,d.setFilters=new qa,g=ga.tokenize=function(a,b){var c,e,f,g,h,i,j,k=z[a+\" \"];if(k)return b?0:k.slice(0);h=a,i=[],j=d.preFilter;while(h){(!c||(e=S.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=T.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(R,\" \")}),h=h.slice(c.length));for(g in d.filter)!(e=X[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length));if(!c)break}return b?h.length:h?ga.error(a):z(a,i).slice(0)};function ra(a){for(var b=0,c=a.length,d=\"\";c>b;b++)d+=a[b].value;return d}function sa(a,b,c){var d=b.dir,e=c&&\"parentNode\"===d,f=x++;return b.first?function(b,c,f){while(b=b[d])if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j=[w,f];if(g){while(b=b[d])if((1===b.nodeType||e)&&a(b,c,g))return!0}else while(b=b[d])if(1===b.nodeType||e){if(i=b[u]||(b[u]={}),(h=i[d])&&h[0]===w&&h[1]===f)return j[2]=h[2];if(i[d]=j,j[2]=a(b,c,g))return!0}}}function ta(a){return a.length>1?function(b,c,d){var e=a.length;while(e--)if(!a[e](b,c,d))return!1;return!0}:a[0]}function ua(a,b,c){for(var d=0,e=b.length;e>d;d++)ga(a,b[d],c);return c}function va(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));return g}function wa(a,b,c,d,e,f){return d&&!d[u]&&(d=wa(d)),e&&!e[u]&&(e=wa(e,f)),ia(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||ua(b||\"*\",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:va(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d){j=va(r,n),d(j,[],h,i),k=j.length;while(k--)(l=j[k])&&(r[n[k]]=!(q[n[k]]=l))}if(f){if(e||a){if(e){j=[],k=r.length;while(k--)(l=r[k])&&j.push(q[k]=l);e(null,r=[],j,i)}k=r.length;while(k--)(l=r[k])&&(j=e?J(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}else r=va(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):H.apply(g,r)})}function xa(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],h=g||d.relative[\" \"],i=g?1:0,k=sa(function(a){return a===b},h,!0),l=sa(function(a){return J(b,a)>-1},h,!0),m=[function(a,c,d){var e=!g&&(d||c!==j)||((b=c).nodeType?k(a,c,d):l(a,c,d));return b=null,e}];f>i;i++)if(c=d.relative[a[i].type])m=[sa(ta(m),c)];else{if(c=d.filter[a[i].type].apply(null,a[i].matches),c[u]){for(e=++i;f>e;e++)if(d.relative[a[e].type])break;return wa(i>1&&ta(m),i>1&&ra(a.slice(0,i-1).concat({value:\" \"===a[i-2].type?\"*\":\"\"})).replace(R,\"$1\"),c,e>i&&xa(a.slice(i,e)),f>e&&xa(a=a.slice(e)),f>e&&ra(a))}m.push(c)}return ta(m)}function ya(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,h,i,k){var l,m,o,p=0,q=\"0\",r=f&&[],s=[],t=j,u=f||e&&d.find.TAG(\"*\",k),v=w+=null==t?1:Math.random()||.1,x=u.length;for(k&&(j=g!==n&&g);q!==x&&null!=(l=u[q]);q++){if(e&&l){m=0;while(o=a[m++])if(o(l,g,h)){i.push(l);break}k&&(w=v)}c&&((l=!o&&l)&&p--,f&&r.push(l))}if(p+=q,c&&q!==p){m=0;while(o=b[m++])o(r,s,g,h);if(f){if(p>0)while(q--)r[q]||s[q]||(s[q]=F.call(i));s=va(s)}H.apply(i,s),k&&!f&&s.length>0&&p+b.length>1&&ga.uniqueSort(i)}return k&&(w=v,j=t),r};return c?ia(f):f}return h=ga.compile=function(a,b){var c,d=[],e=[],f=A[a+\" \"];if(!f){b||(b=g(a)),c=b.length;while(c--)f=xa(b[c]),f[u]?d.push(f):e.push(f);f=A(a,ya(e,d)),f.selector=a}return f},i=ga.select=function(a,b,e,f){var i,j,k,l,m,n=\"function\"==typeof a&&a,o=!f&&g(a=n.selector||a);if(e=e||[],1===o.length){if(j=o[0]=o[0].slice(0),j.length>2&&\"ID\"===(k=j[0]).type&&c.getById&&9===b.nodeType&&p&&d.relative[j[1].type]){if(b=(d.find.ID(k.matches[0].replace(ca,da),b)||[])[0],!b)return e;n&&(b=b.parentNode),a=a.slice(j.shift().value.length)}i=X.needsContext.test(a)?0:j.length;while(i--){if(k=j[i],d.relative[l=k.type])break;if((m=d.find[l])&&(f=m(k.matches[0].replace(ca,da),aa.test(j[0].type)&&pa(b.parentNode)||b))){if(j.splice(i,1),a=f.length&&ra(j),!a)return H.apply(e,f),e;break}}}return(n||h(a,o))(f,b,!p,e,aa.test(a)&&pa(b.parentNode)||b),e},c.sortStable=u.split(\"\").sort(B).join(\"\")===u,c.detectDuplicates=!!l,m(),c.sortDetached=ja(function(a){return 1&a.compareDocumentPosition(n.createElement(\"div\"))}),ja(function(a){return a.innerHTML=\"<a href='#'></a>\",\"#\"===a.firstChild.getAttribute(\"href\")})||ka(\"type|href|height|width\",function(a,b,c){return c?void 0:a.getAttribute(b,\"type\"===b.toLowerCase()?1:2)}),c.attributes&&ja(function(a){return a.innerHTML=\"<input/>\",a.firstChild.setAttribute(\"value\",\"\"),\"\"===a.firstChild.getAttribute(\"value\")})||ka(\"value\",function(a,b,c){return c||\"input\"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),ja(function(a){return null==a.getAttribute(\"disabled\")})||ka(K,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),ga}(a);m.find=s,m.expr=s.selectors,m.expr[\":\"]=m.expr.pseudos,m.unique=s.uniqueSort,m.text=s.getText,m.isXMLDoc=s.isXML,m.contains=s.contains;var t=m.expr.match.needsContext,u=/^<(\\w+)\\s*\\/?>(?:<\\/\\1>|)$/,v=/^.[^:#\\[\\.,]*$/;function w(a,b,c){if(m.isFunction(b))return m.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return m.grep(a,function(a){return a===b!==c});if(\"string\"==typeof b){if(v.test(b))return m.filter(b,a,c);b=m.filter(b,a)}return m.grep(a,function(a){return m.inArray(a,b)>=0!==c})}m.filter=function(a,b,c){var d=b[0];return c&&(a=\":not(\"+a+\")\"),1===b.length&&1===d.nodeType?m.find.matchesSelector(d,a)?[d]:[]:m.find.matches(a,m.grep(b,function(a){return 1===a.nodeType}))},m.fn.extend({find:function(a){var b,c=[],d=this,e=d.length;if(\"string\"!=typeof a)return this.pushStack(m(a).filter(function(){for(b=0;e>b;b++)if(m.contains(d[b],this))return!0}));for(b=0;e>b;b++)m.find(a,d[b],c);return c=this.pushStack(e>1?m.unique(c):c),c.selector=this.selector?this.selector+\" \"+a:a,c},filter:function(a){return this.pushStack(w(this,a||[],!1))},not:function(a){return this.pushStack(w(this,a||[],!0))},is:function(a){return!!w(this,\"string\"==typeof a&&t.test(a)?m(a):a||[],!1).length}});var x,y=a.document,z=/^(?:\\s*(<[\\w\\W]+>)[^>]*|#([\\w-]*))$/,A=m.fn.init=function(a,b){var c,d;if(!a)return this;if(\"string\"==typeof a){if(c=\"<\"===a.charAt(0)&&\">\"===a.charAt(a.length-1)&&a.length>=3?[null,a,null]:z.exec(a),!c||!c[1]&&b)return!b||b.jquery?(b||x).find(a):this.constructor(b).find(a);if(c[1]){if(b=b instanceof m?b[0]:b,m.merge(this,m.parseHTML(c[1],b&&b.nodeType?b.ownerDocument||b:y,!0)),u.test(c[1])&&m.isPlainObject(b))for(c in b)m.isFunction(this[c])?this[c](b[c]):this.attr(c,b[c]);return this}if(d=y.getElementById(c[2]),d&&d.parentNode){if(d.id!==c[2])return x.find(a);this.length=1,this[0]=d}return this.context=y,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):m.isFunction(a)?\"undefined\"!=typeof x.ready?x.ready(a):a(m):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),m.makeArray(a,this))};A.prototype=m.fn,x=m(y);var B=/^(?:parents|prev(?:Until|All))/,C={children:!0,contents:!0,next:!0,prev:!0};m.extend({dir:function(a,b,c){var d=[],e=a[b];while(e&&9!==e.nodeType&&(void 0===c||1!==e.nodeType||!m(e).is(c)))1===e.nodeType&&d.push(e),e=e[b];return d},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}}),m.fn.extend({has:function(a){var b,c=m(a,this),d=c.length;return this.filter(function(){for(b=0;d>b;b++)if(m.contains(this,c[b]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=t.test(a)||\"string\"!=typeof a?m(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&m.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?m.unique(f):f)},index:function(a){return a?\"string\"==typeof a?m.inArray(this[0],m(a)):m.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(m.unique(m.merge(this.get(),m(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});function D(a,b){do a=a[b];while(a&&1!==a.nodeType);return a}m.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return m.dir(a,\"parentNode\")},parentsUntil:function(a,b,c){return m.dir(a,\"parentNode\",c)},next:function(a){return D(a,\"nextSibling\")},prev:function(a){return D(a,\"previousSibling\")},nextAll:function(a){return m.dir(a,\"nextSibling\")},prevAll:function(a){return m.dir(a,\"previousSibling\")},nextUntil:function(a,b,c){return m.dir(a,\"nextSibling\",c)},prevUntil:function(a,b,c){return m.dir(a,\"previousSibling\",c)},siblings:function(a){return m.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return m.sibling(a.firstChild)},contents:function(a){return m.nodeName(a,\"iframe\")?a.contentDocument||a.contentWindow.document:m.merge([],a.childNodes)}},function(a,b){m.fn[a]=function(c,d){var e=m.map(this,b,c);return\"Until\"!==a.slice(-5)&&(d=c),d&&\"string\"==typeof d&&(e=m.filter(d,e)),this.length>1&&(C[a]||(e=m.unique(e)),B.test(a)&&(e=e.reverse())),this.pushStack(e)}});var E=/\\S+/g,F={};function G(a){var b=F[a]={};return m.each(a.match(E)||[],function(a,c){b[c]=!0}),b}m.Callbacks=function(a){a=\"string\"==typeof a?F[a]||G(a):m.extend({},a);var b,c,d,e,f,g,h=[],i=!a.once&&[],j=function(l){for(c=a.memory&&l,d=!0,f=g||0,g=0,e=h.length,b=!0;h&&e>f;f++)if(h[f].apply(l[0],l[1])===!1&&a.stopOnFalse){c=!1;break}b=!1,h&&(i?i.length&&j(i.shift()):c?h=[]:k.disable())},k={add:function(){if(h){var d=h.length;!function f(b){m.each(b,function(b,c){var d=m.type(c);\"function\"===d?a.unique&&k.has(c)||h.push(c):c&&c.length&&\"string\"!==d&&f(c)})}(arguments),b?e=h.length:c&&(g=d,j(c))}return this},remove:function(){return h&&m.each(arguments,function(a,c){var d;while((d=m.inArray(c,h,d))>-1)h.splice(d,1),b&&(e>=d&&e--,f>=d&&f--)}),this},has:function(a){return a?m.inArray(a,h)>-1:!(!h||!h.length)},empty:function(){return h=[],e=0,this},disable:function(){return h=i=c=void 0,this},disabled:function(){return!h},lock:function(){return i=void 0,c||k.disable(),this},locked:function(){return!i},fireWith:function(a,c){return!h||d&&!i||(c=c||[],c=[a,c.slice?c.slice():c],b?i.push(c):j(c)),this},fire:function(){return k.fireWith(this,arguments),this},fired:function(){return!!d}};return k},m.extend({Deferred:function(a){var b=[[\"resolve\",\"done\",m.Callbacks(\"once memory\"),\"resolved\"],[\"reject\",\"fail\",m.Callbacks(\"once memory\"),\"rejected\"],[\"notify\",\"progress\",m.Callbacks(\"memory\")]],c=\"pending\",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return m.Deferred(function(c){m.each(b,function(b,f){var g=m.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&m.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f[0]+\"With\"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?m.extend(a,d):d}},e={};return d.pipe=d.then,m.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+\"With\"](this===e?d:this,arguments),this},e[f[0]+\"With\"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b=0,c=d.call(arguments),e=c.length,f=1!==e||a&&m.isFunction(a.promise)?e:0,g=1===f?a:m.Deferred(),h=function(a,b,c){return function(e){b[a]=this,c[a]=arguments.length>1?d.call(arguments):e,c===i?g.notifyWith(b,c):--f||g.resolveWith(b,c)}},i,j,k;if(e>1)for(i=new Array(e),j=new Array(e),k=new Array(e);e>b;b++)c[b]&&m.isFunction(c[b].promise)?c[b].promise().done(h(b,k,c)).fail(g.reject).progress(h(b,j,i)):--f;return f||g.resolveWith(k,c),g.promise()}});var H;m.fn.ready=function(a){return m.ready.promise().done(a),this},m.extend({isReady:!1,readyWait:1,holdReady:function(a){a?m.readyWait++:m.ready(!0)},ready:function(a){if(a===!0?!--m.readyWait:!m.isReady){if(!y.body)return setTimeout(m.ready);m.isReady=!0,a!==!0&&--m.readyWait>0||(H.resolveWith(y,[m]),m.fn.triggerHandler&&(m(y).triggerHandler(\"ready\"),m(y).off(\"ready\")))}}});function I(){y.addEventListener?(y.removeEventListener(\"DOMContentLoaded\",J,!1),a.removeEventListener(\"load\",J,!1)):(y.detachEvent(\"onreadystatechange\",J),a.detachEvent(\"onload\",J))}function J(){(y.addEventListener||\"load\"===event.type||\"complete\"===y.readyState)&&(I(),m.ready())}m.ready.promise=function(b){if(!H)if(H=m.Deferred(),\"complete\"===y.readyState)setTimeout(m.ready);else if(y.addEventListener)y.addEventListener(\"DOMContentLoaded\",J,!1),a.addEventListener(\"load\",J,!1);else{y.attachEvent(\"onreadystatechange\",J),a.attachEvent(\"onload\",J);var c=!1;try{c=null==a.frameElement&&y.documentElement}catch(d){}c&&c.doScroll&&!function e(){if(!m.isReady){try{c.doScroll(\"left\")}catch(a){return setTimeout(e,50)}I(),m.ready()}}()}return H.promise(b)};var K=\"undefined\",L;for(L in m(k))break;k.ownLast=\"0\"!==L,k.inlineBlockNeedsLayout=!1,m(function(){var a,b,c,d;c=y.getElementsByTagName(\"body\")[0],c&&c.style&&(b=y.createElement(\"div\"),d=y.createElement(\"div\"),d.style.cssText=\"position:absolute;border:0;width:0;height:0;top:0;left:-9999px\",c.appendChild(d).appendChild(b),typeof b.style.zoom!==K&&(b.style.cssText=\"display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1\",k.inlineBlockNeedsLayout=a=3===b.offsetWidth,a&&(c.style.zoom=1)),c.removeChild(d))}),function(){var a=y.createElement(\"div\");if(null==k.deleteExpando){k.deleteExpando=!0;try{delete a.test}catch(b){k.deleteExpando=!1}}a=null}(),m.acceptData=function(a){var b=m.noData[(a.nodeName+\" \").toLowerCase()],c=+a.nodeType||1;return 1!==c&&9!==c?!1:!b||b!==!0&&a.getAttribute(\"classid\")===b};var M=/^(?:\\{[\\w\\W]*\\}|\\[[\\w\\W]*\\])$/,N=/([A-Z])/g;function O(a,b,c){if(void 0===c&&1===a.nodeType){var d=\"data-\"+b.replace(N,\"-$1\").toLowerCase();if(c=a.getAttribute(d),\"string\"==typeof c){try{c=\"true\"===c?!0:\"false\"===c?!1:\"null\"===c?null:+c+\"\"===c?+c:M.test(c)?m.parseJSON(c):c}catch(e){}m.data(a,b,c)}else c=void 0}return c}function P(a){var b;for(b in a)if((\"data\"!==b||!m.isEmptyObject(a[b]))&&\"toJSON\"!==b)return!1;\n\nreturn!0}function Q(a,b,d,e){if(m.acceptData(a)){var f,g,h=m.expando,i=a.nodeType,j=i?m.cache:a,k=i?a[h]:a[h]&&h;if(k&&j[k]&&(e||j[k].data)||void 0!==d||\"string\"!=typeof b)return k||(k=i?a[h]=c.pop()||m.guid++:h),j[k]||(j[k]=i?{}:{toJSON:m.noop}),(\"object\"==typeof b||\"function\"==typeof b)&&(e?j[k]=m.extend(j[k],b):j[k].data=m.extend(j[k].data,b)),g=j[k],e||(g.data||(g.data={}),g=g.data),void 0!==d&&(g[m.camelCase(b)]=d),\"string\"==typeof b?(f=g[b],null==f&&(f=g[m.camelCase(b)])):f=g,f}}function R(a,b,c){if(m.acceptData(a)){var d,e,f=a.nodeType,g=f?m.cache:a,h=f?a[m.expando]:m.expando;if(g[h]){if(b&&(d=c?g[h]:g[h].data)){m.isArray(b)?b=b.concat(m.map(b,m.camelCase)):b in d?b=[b]:(b=m.camelCase(b),b=b in d?[b]:b.split(\" \")),e=b.length;while(e--)delete d[b[e]];if(c?!P(d):!m.isEmptyObject(d))return}(c||(delete g[h].data,P(g[h])))&&(f?m.cleanData([a],!0):k.deleteExpando||g!=g.window?delete g[h]:g[h]=null)}}}m.extend({cache:{},noData:{\"applet \":!0,\"embed \":!0,\"object \":\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\"},hasData:function(a){return a=a.nodeType?m.cache[a[m.expando]]:a[m.expando],!!a&&!P(a)},data:function(a,b,c){return Q(a,b,c)},removeData:function(a,b){return R(a,b)},_data:function(a,b,c){return Q(a,b,c,!0)},_removeData:function(a,b){return R(a,b,!0)}}),m.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=m.data(f),1===f.nodeType&&!m._data(f,\"parsedAttrs\"))){c=g.length;while(c--)g[c]&&(d=g[c].name,0===d.indexOf(\"data-\")&&(d=m.camelCase(d.slice(5)),O(f,d,e[d])));m._data(f,\"parsedAttrs\",!0)}return e}return\"object\"==typeof a?this.each(function(){m.data(this,a)}):arguments.length>1?this.each(function(){m.data(this,a,b)}):f?O(f,a,m.data(f,a)):void 0},removeData:function(a){return this.each(function(){m.removeData(this,a)})}}),m.extend({queue:function(a,b,c){var d;return a?(b=(b||\"fx\")+\"queue\",d=m._data(a,b),c&&(!d||m.isArray(c)?d=m._data(a,b,m.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||\"fx\";var c=m.queue(a,b),d=c.length,e=c.shift(),f=m._queueHooks(a,b),g=function(){m.dequeue(a,b)};\"inprogress\"===e&&(e=c.shift(),d--),e&&(\"fx\"===b&&c.unshift(\"inprogress\"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+\"queueHooks\";return m._data(a,c)||m._data(a,c,{empty:m.Callbacks(\"once memory\").add(function(){m._removeData(a,b+\"queue\"),m._removeData(a,c)})})}}),m.fn.extend({queue:function(a,b){var c=2;return\"string\"!=typeof a&&(b=a,a=\"fx\",c--),arguments.length<c?m.queue(this[0],a):void 0===b?this:this.each(function(){var c=m.queue(this,a,b);m._queueHooks(this,a),\"fx\"===a&&\"inprogress\"!==c[0]&&m.dequeue(this,a)})},dequeue:function(a){return this.each(function(){m.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||\"fx\",[])},promise:function(a,b){var c,d=1,e=m.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};\"string\"!=typeof a&&(b=a,a=void 0),a=a||\"fx\";while(g--)c=m._data(f[g],a+\"queueHooks\"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var S=/[+-]?(?:\\d*\\.|)\\d+(?:[eE][+-]?\\d+|)/.source,T=[\"Top\",\"Right\",\"Bottom\",\"Left\"],U=function(a,b){return a=b||a,\"none\"===m.css(a,\"display\")||!m.contains(a.ownerDocument,a)},V=m.access=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if(\"object\"===m.type(c)){e=!0;for(h in c)m.access(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,m.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(m(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f},W=/^(?:checkbox|radio)$/i;!function(){var a=y.createElement(\"input\"),b=y.createElement(\"div\"),c=y.createDocumentFragment();if(b.innerHTML=\"  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>\",k.leadingWhitespace=3===b.firstChild.nodeType,k.tbody=!b.getElementsByTagName(\"tbody\").length,k.htmlSerialize=!!b.getElementsByTagName(\"link\").length,k.html5Clone=\"<:nav></:nav>\"!==y.createElement(\"nav\").cloneNode(!0).outerHTML,a.type=\"checkbox\",a.checked=!0,c.appendChild(a),k.appendChecked=a.checked,b.innerHTML=\"<textarea>x</textarea>\",k.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue,c.appendChild(b),b.innerHTML=\"<input type='radio' checked='checked' name='t'/>\",k.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,k.noCloneEvent=!0,b.attachEvent&&(b.attachEvent(\"onclick\",function(){k.noCloneEvent=!1}),b.cloneNode(!0).click()),null==k.deleteExpando){k.deleteExpando=!0;try{delete b.test}catch(d){k.deleteExpando=!1}}}(),function(){var b,c,d=y.createElement(\"div\");for(b in{submit:!0,change:!0,focusin:!0})c=\"on\"+b,(k[b+\"Bubbles\"]=c in a)||(d.setAttribute(c,\"t\"),k[b+\"Bubbles\"]=d.attributes[c].expando===!1);d=null}();var X=/^(?:input|select|textarea)$/i,Y=/^key/,Z=/^(?:mouse|pointer|contextmenu)|click/,$=/^(?:focusinfocus|focusoutblur)$/,_=/^([^.]*)(?:\\.(.+)|)$/;function aa(){return!0}function ba(){return!1}function ca(){try{return y.activeElement}catch(a){}}m.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,n,o,p,q,r=m._data(a);if(r){c.handler&&(i=c,c=i.handler,e=i.selector),c.guid||(c.guid=m.guid++),(g=r.events)||(g=r.events={}),(k=r.handle)||(k=r.handle=function(a){return typeof m===K||a&&m.event.triggered===a.type?void 0:m.event.dispatch.apply(k.elem,arguments)},k.elem=a),b=(b||\"\").match(E)||[\"\"],h=b.length;while(h--)f=_.exec(b[h])||[],o=q=f[1],p=(f[2]||\"\").split(\".\").sort(),o&&(j=m.event.special[o]||{},o=(e?j.delegateType:j.bindType)||o,j=m.event.special[o]||{},l=m.extend({type:o,origType:q,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&m.expr.match.needsContext.test(e),namespace:p.join(\".\")},i),(n=g[o])||(n=g[o]=[],n.delegateCount=0,j.setup&&j.setup.call(a,d,p,k)!==!1||(a.addEventListener?a.addEventListener(o,k,!1):a.attachEvent&&a.attachEvent(\"on\"+o,k))),j.add&&(j.add.call(a,l),l.handler.guid||(l.handler.guid=c.guid)),e?n.splice(n.delegateCount++,0,l):n.push(l),m.event.global[o]=!0);a=null}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,n,o,p,q,r=m.hasData(a)&&m._data(a);if(r&&(k=r.events)){b=(b||\"\").match(E)||[\"\"],j=b.length;while(j--)if(h=_.exec(b[j])||[],o=q=h[1],p=(h[2]||\"\").split(\".\").sort(),o){l=m.event.special[o]||{},o=(d?l.delegateType:l.bindType)||o,n=k[o]||[],h=h[2]&&new RegExp(\"(^|\\\\.)\"+p.join(\"\\\\.(?:.*\\\\.|)\")+\"(\\\\.|$)\"),i=f=n.length;while(f--)g=n[f],!e&&q!==g.origType||c&&c.guid!==g.guid||h&&!h.test(g.namespace)||d&&d!==g.selector&&(\"**\"!==d||!g.selector)||(n.splice(f,1),g.selector&&n.delegateCount--,l.remove&&l.remove.call(a,g));i&&!n.length&&(l.teardown&&l.teardown.call(a,p,r.handle)!==!1||m.removeEvent(a,o,r.handle),delete k[o])}else for(o in k)m.event.remove(a,o+b[j],c,d,!0);m.isEmptyObject(k)&&(delete r.handle,m._removeData(a,\"events\"))}},trigger:function(b,c,d,e){var f,g,h,i,k,l,n,o=[d||y],p=j.call(b,\"type\")?b.type:b,q=j.call(b,\"namespace\")?b.namespace.split(\".\"):[];if(h=l=d=d||y,3!==d.nodeType&&8!==d.nodeType&&!$.test(p+m.event.triggered)&&(p.indexOf(\".\")>=0&&(q=p.split(\".\"),p=q.shift(),q.sort()),g=p.indexOf(\":\")<0&&\"on\"+p,b=b[m.expando]?b:new m.Event(p,\"object\"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=q.join(\".\"),b.namespace_re=b.namespace?new RegExp(\"(^|\\\\.)\"+q.join(\"\\\\.(?:.*\\\\.|)\")+\"(\\\\.|$)\"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:m.makeArray(c,[b]),k=m.event.special[p]||{},e||!k.trigger||k.trigger.apply(d,c)!==!1)){if(!e&&!k.noBubble&&!m.isWindow(d)){for(i=k.delegateType||p,$.test(i+p)||(h=h.parentNode);h;h=h.parentNode)o.push(h),l=h;l===(d.ownerDocument||y)&&o.push(l.defaultView||l.parentWindow||a)}n=0;while((h=o[n++])&&!b.isPropagationStopped())b.type=n>1?i:k.bindType||p,f=(m._data(h,\"events\")||{})[b.type]&&m._data(h,\"handle\"),f&&f.apply(h,c),f=g&&h[g],f&&f.apply&&m.acceptData(h)&&(b.result=f.apply(h,c),b.result===!1&&b.preventDefault());if(b.type=p,!e&&!b.isDefaultPrevented()&&(!k._default||k._default.apply(o.pop(),c)===!1)&&m.acceptData(d)&&g&&d[p]&&!m.isWindow(d)){l=d[g],l&&(d[g]=null),m.event.triggered=p;try{d[p]()}catch(r){}m.event.triggered=void 0,l&&(d[g]=l)}return b.result}},dispatch:function(a){a=m.event.fix(a);var b,c,e,f,g,h=[],i=d.call(arguments),j=(m._data(this,\"events\")||{})[a.type]||[],k=m.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){h=m.event.handlers.call(this,a,j),b=0;while((f=h[b++])&&!a.isPropagationStopped()){a.currentTarget=f.elem,g=0;while((e=f.handlers[g++])&&!a.isImmediatePropagationStopped())(!a.namespace_re||a.namespace_re.test(e.namespace))&&(a.handleObj=e,a.data=e.data,c=((m.event.special[e.origType]||{}).handle||e.handler).apply(f.elem,i),void 0!==c&&(a.result=c)===!1&&(a.preventDefault(),a.stopPropagation()))}return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&(!a.button||\"click\"!==a.type))for(;i!=this;i=i.parentNode||this)if(1===i.nodeType&&(i.disabled!==!0||\"click\"!==a.type)){for(e=[],f=0;h>f;f++)d=b[f],c=d.selector+\" \",void 0===e[c]&&(e[c]=d.needsContext?m(c,this).index(i)>=0:m.find(c,this,null,[i]).length),e[c]&&e.push(d);e.length&&g.push({elem:i,handlers:e})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},fix:function(a){if(a[m.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];g||(this.fixHooks[e]=g=Z.test(e)?this.mouseHooks:Y.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new m.Event(f),b=d.length;while(b--)c=d[b],a[c]=f[c];return a.target||(a.target=f.srcElement||y),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,g.filter?g.filter(a,f):a},props:\"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which\".split(\" \"),fixHooks:{},keyHooks:{props:\"char charCode key keyCode\".split(\" \"),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:\"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement\".split(\" \"),filter:function(a,b){var c,d,e,f=b.button,g=b.fromElement;return null==a.pageX&&null!=b.clientX&&(d=a.target.ownerDocument||y,e=d.documentElement,c=d.body,a.pageX=b.clientX+(e&&e.scrollLeft||c&&c.scrollLeft||0)-(e&&e.clientLeft||c&&c.clientLeft||0),a.pageY=b.clientY+(e&&e.scrollTop||c&&c.scrollTop||0)-(e&&e.clientTop||c&&c.clientTop||0)),!a.relatedTarget&&g&&(a.relatedTarget=g===a.target?b.toElement:g),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==ca()&&this.focus)try{return this.focus(),!1}catch(a){}},delegateType:\"focusin\"},blur:{trigger:function(){return this===ca()&&this.blur?(this.blur(),!1):void 0},delegateType:\"focusout\"},click:{trigger:function(){return m.nodeName(this,\"input\")&&\"checkbox\"===this.type&&this.click?(this.click(),!1):void 0},_default:function(a){return m.nodeName(a.target,\"a\")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=m.extend(new m.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?m.event.trigger(e,null,b):m.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},m.removeEvent=y.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){var d=\"on\"+b;a.detachEvent&&(typeof a[d]===K&&(a[d]=null),a.detachEvent(d,c))},m.Event=function(a,b){return this instanceof m.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?aa:ba):this.type=a,b&&m.extend(this,b),this.timeStamp=a&&a.timeStamp||m.now(),void(this[m.expando]=!0)):new m.Event(a,b)},m.Event.prototype={isDefaultPrevented:ba,isPropagationStopped:ba,isImmediatePropagationStopped:ba,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=aa,a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=aa,a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=aa,a&&a.stopImmediatePropagation&&a.stopImmediatePropagation(),this.stopPropagation()}},m.each({mouseenter:\"mouseover\",mouseleave:\"mouseout\",pointerenter:\"pointerover\",pointerleave:\"pointerout\"},function(a,b){m.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!m.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),k.submitBubbles||(m.event.special.submit={setup:function(){return m.nodeName(this,\"form\")?!1:void m.event.add(this,\"click._submit keypress._submit\",function(a){var b=a.target,c=m.nodeName(b,\"input\")||m.nodeName(b,\"button\")?b.form:void 0;c&&!m._data(c,\"submitBubbles\")&&(m.event.add(c,\"submit._submit\",function(a){a._submit_bubble=!0}),m._data(c,\"submitBubbles\",!0))})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&m.event.simulate(\"submit\",this.parentNode,a,!0))},teardown:function(){return m.nodeName(this,\"form\")?!1:void m.event.remove(this,\"._submit\")}}),k.changeBubbles||(m.event.special.change={setup:function(){return X.test(this.nodeName)?((\"checkbox\"===this.type||\"radio\"===this.type)&&(m.event.add(this,\"propertychange._change\",function(a){\"checked\"===a.originalEvent.propertyName&&(this._just_changed=!0)}),m.event.add(this,\"click._change\",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1),m.event.simulate(\"change\",this,a,!0)})),!1):void m.event.add(this,\"beforeactivate._change\",function(a){var b=a.target;X.test(b.nodeName)&&!m._data(b,\"changeBubbles\")&&(m.event.add(b,\"change._change\",function(a){!this.parentNode||a.isSimulated||a.isTrigger||m.event.simulate(\"change\",this.parentNode,a,!0)}),m._data(b,\"changeBubbles\",!0))})},handle:function(a){var b=a.target;return this!==b||a.isSimulated||a.isTrigger||\"radio\"!==b.type&&\"checkbox\"!==b.type?a.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return m.event.remove(this,\"._change\"),!X.test(this.nodeName)}}),k.focusinBubbles||m.each({focus:\"focusin\",blur:\"focusout\"},function(a,b){var c=function(a){m.event.simulate(b,a.target,m.event.fix(a),!0)};m.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=m._data(d,b);e||d.addEventListener(a,c,!0),m._data(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=m._data(d,b)-1;e?m._data(d,b,e):(d.removeEventListener(a,c,!0),m._removeData(d,b))}}}),m.fn.extend({on:function(a,b,c,d,e){var f,g;if(\"object\"==typeof a){\"string\"!=typeof b&&(c=c||b,b=void 0);for(f in a)this.on(f,b,c,a[f],e);return this}if(null==c&&null==d?(d=b,c=b=void 0):null==d&&(\"string\"==typeof b?(d=c,c=void 0):(d=c,c=b,b=void 0)),d===!1)d=ba;else if(!d)return this;return 1===e&&(g=d,d=function(a){return m().off(a),g.apply(this,arguments)},d.guid=g.guid||(g.guid=m.guid++)),this.each(function(){m.event.add(this,a,d,c,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,m(a.delegateTarget).off(d.namespace?d.origType+\".\"+d.namespace:d.origType,d.selector,d.handler),this;if(\"object\"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return(b===!1||\"function\"==typeof b)&&(c=b,b=void 0),c===!1&&(c=ba),this.each(function(){m.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){m.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?m.event.trigger(a,b,c,!0):void 0}});function da(a){var b=ea.split(\"|\"),c=a.createDocumentFragment();if(c.createElement)while(b.length)c.createElement(b.pop());return c}var ea=\"abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video\",fa=/ jQuery\\d+=\"(?:null|\\d+)\"/g,ga=new RegExp(\"<(?:\"+ea+\")[\\\\s/>]\",\"i\"),ha=/^\\s+/,ia=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>/gi,ja=/<([\\w:]+)/,ka=/<tbody/i,la=/<|&#?\\w+;/,ma=/<(?:script|style|link)/i,na=/checked\\s*(?:[^=]|=\\s*.checked.)/i,oa=/^$|\\/(?:java|ecma)script/i,pa=/^true\\/(.*)/,qa=/^\\s*<!(?:\\[CDATA\\[|--)|(?:\\]\\]|--)>\\s*$/g,ra={option:[1,\"<select multiple='multiple'>\",\"</select>\"],legend:[1,\"<fieldset>\",\"</fieldset>\"],area:[1,\"<map>\",\"</map>\"],param:[1,\"<object>\",\"</object>\"],thead:[1,\"<table>\",\"</table>\"],tr:[2,\"<table><tbody>\",\"</tbody></table>\"],col:[2,\"<table><tbody></tbody><colgroup>\",\"</colgroup></table>\"],td:[3,\"<table><tbody><tr>\",\"</tr></tbody></table>\"],_default:k.htmlSerialize?[0,\"\",\"\"]:[1,\"X<div>\",\"</div>\"]},sa=da(y),ta=sa.appendChild(y.createElement(\"div\"));ra.optgroup=ra.option,ra.tbody=ra.tfoot=ra.colgroup=ra.caption=ra.thead,ra.th=ra.td;function ua(a,b){var c,d,e=0,f=typeof a.getElementsByTagName!==K?a.getElementsByTagName(b||\"*\"):typeof a.querySelectorAll!==K?a.querySelectorAll(b||\"*\"):void 0;if(!f)for(f=[],c=a.childNodes||a;null!=(d=c[e]);e++)!b||m.nodeName(d,b)?f.push(d):m.merge(f,ua(d,b));return void 0===b||b&&m.nodeName(a,b)?m.merge([a],f):f}function va(a){W.test(a.type)&&(a.defaultChecked=a.checked)}function wa(a,b){return m.nodeName(a,\"table\")&&m.nodeName(11!==b.nodeType?b:b.firstChild,\"tr\")?a.getElementsByTagName(\"tbody\")[0]||a.appendChild(a.ownerDocument.createElement(\"tbody\")):a}function xa(a){return a.type=(null!==m.find.attr(a,\"type\"))+\"/\"+a.type,a}function ya(a){var b=pa.exec(a.type);return b?a.type=b[1]:a.removeAttribute(\"type\"),a}function za(a,b){for(var c,d=0;null!=(c=a[d]);d++)m._data(c,\"globalEval\",!b||m._data(b[d],\"globalEval\"))}function Aa(a,b){if(1===b.nodeType&&m.hasData(a)){var c,d,e,f=m._data(a),g=m._data(b,f),h=f.events;if(h){delete g.handle,g.events={};for(c in h)for(d=0,e=h[c].length;e>d;d++)m.event.add(b,c,h[c][d])}g.data&&(g.data=m.extend({},g.data))}}function Ba(a,b){var c,d,e;if(1===b.nodeType){if(c=b.nodeName.toLowerCase(),!k.noCloneEvent&&b[m.expando]){e=m._data(b);for(d in e.events)m.removeEvent(b,d,e.handle);b.removeAttribute(m.expando)}\"script\"===c&&b.text!==a.text?(xa(b).text=a.text,ya(b)):\"object\"===c?(b.parentNode&&(b.outerHTML=a.outerHTML),k.html5Clone&&a.innerHTML&&!m.trim(b.innerHTML)&&(b.innerHTML=a.innerHTML)):\"input\"===c&&W.test(a.type)?(b.defaultChecked=b.checked=a.checked,b.value!==a.value&&(b.value=a.value)):\"option\"===c?b.defaultSelected=b.selected=a.defaultSelected:(\"input\"===c||\"textarea\"===c)&&(b.defaultValue=a.defaultValue)}}m.extend({clone:function(a,b,c){var d,e,f,g,h,i=m.contains(a.ownerDocument,a);if(k.html5Clone||m.isXMLDoc(a)||!ga.test(\"<\"+a.nodeName+\">\")?f=a.cloneNode(!0):(ta.innerHTML=a.outerHTML,ta.removeChild(f=ta.firstChild)),!(k.noCloneEvent&&k.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||m.isXMLDoc(a)))for(d=ua(f),h=ua(a),g=0;null!=(e=h[g]);++g)d[g]&&Ba(e,d[g]);if(b)if(c)for(h=h||ua(a),d=d||ua(f),g=0;null!=(e=h[g]);g++)Aa(e,d[g]);else Aa(a,f);return d=ua(f,\"script\"),d.length>0&&za(d,!i&&ua(a,\"script\")),d=h=e=null,f},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,l,n=a.length,o=da(b),p=[],q=0;n>q;q++)if(f=a[q],f||0===f)if(\"object\"===m.type(f))m.merge(p,f.nodeType?[f]:f);else if(la.test(f)){h=h||o.appendChild(b.createElement(\"div\")),i=(ja.exec(f)||[\"\",\"\"])[1].toLowerCase(),l=ra[i]||ra._default,h.innerHTML=l[1]+f.replace(ia,\"<$1></$2>\")+l[2],e=l[0];while(e--)h=h.lastChild;if(!k.leadingWhitespace&&ha.test(f)&&p.push(b.createTextNode(ha.exec(f)[0])),!k.tbody){f=\"table\"!==i||ka.test(f)?\"<table>\"!==l[1]||ka.test(f)?0:h:h.firstChild,e=f&&f.childNodes.length;while(e--)m.nodeName(j=f.childNodes[e],\"tbody\")&&!j.childNodes.length&&f.removeChild(j)}m.merge(p,h.childNodes),h.textContent=\"\";while(h.firstChild)h.removeChild(h.firstChild);h=o.lastChild}else p.push(b.createTextNode(f));h&&o.removeChild(h),k.appendChecked||m.grep(ua(p,\"input\"),va),q=0;while(f=p[q++])if((!d||-1===m.inArray(f,d))&&(g=m.contains(f.ownerDocument,f),h=ua(o.appendChild(f),\"script\"),g&&za(h),c)){e=0;while(f=h[e++])oa.test(f.type||\"\")&&c.push(f)}return h=null,o},cleanData:function(a,b){for(var d,e,f,g,h=0,i=m.expando,j=m.cache,l=k.deleteExpando,n=m.event.special;null!=(d=a[h]);h++)if((b||m.acceptData(d))&&(f=d[i],g=f&&j[f])){if(g.events)for(e in g.events)n[e]?m.event.remove(d,e):m.removeEvent(d,e,g.handle);j[f]&&(delete j[f],l?delete d[i]:typeof d.removeAttribute!==K?d.removeAttribute(i):d[i]=null,c.push(f))}}}),m.fn.extend({text:function(a){return V(this,function(a){return void 0===a?m.text(this):this.empty().append((this[0]&&this[0].ownerDocument||y).createTextNode(a))},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=wa(this,a);b.appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=wa(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?m.filter(a,this):this,e=0;null!=(c=d[e]);e++)b||1!==c.nodeType||m.cleanData(ua(c)),c.parentNode&&(b&&m.contains(c.ownerDocument,c)&&za(ua(c,\"script\")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++){1===a.nodeType&&m.cleanData(ua(a,!1));while(a.firstChild)a.removeChild(a.firstChild);a.options&&m.nodeName(a,\"select\")&&(a.options.length=0)}return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return m.clone(this,a,b)})},html:function(a){return V(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a)return 1===b.nodeType?b.innerHTML.replace(fa,\"\"):void 0;if(!(\"string\"!=typeof a||ma.test(a)||!k.htmlSerialize&&ga.test(a)||!k.leadingWhitespace&&ha.test(a)||ra[(ja.exec(a)||[\"\",\"\"])[1].toLowerCase()])){a=a.replace(ia,\"<$1></$2>\");try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(m.cleanData(ua(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(b){a=this.parentNode,m.cleanData(ua(this)),a&&a.replaceChild(b,this)}),a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b){a=e.apply([],a);var c,d,f,g,h,i,j=0,l=this.length,n=this,o=l-1,p=a[0],q=m.isFunction(p);if(q||l>1&&\"string\"==typeof p&&!k.checkClone&&na.test(p))return this.each(function(c){var d=n.eq(c);q&&(a[0]=p.call(this,c,d.html())),d.domManip(a,b)});if(l&&(i=m.buildFragment(a,this[0].ownerDocument,!1,this),c=i.firstChild,1===i.childNodes.length&&(i=c),c)){for(g=m.map(ua(i,\"script\"),xa),f=g.length;l>j;j++)d=i,j!==o&&(d=m.clone(d,!0,!0),f&&m.merge(g,ua(d,\"script\"))),b.call(this[j],d,j);if(f)for(h=g[g.length-1].ownerDocument,m.map(g,ya),j=0;f>j;j++)d=g[j],oa.test(d.type||\"\")&&!m._data(d,\"globalEval\")&&m.contains(h,d)&&(d.src?m._evalUrl&&m._evalUrl(d.src):m.globalEval((d.text||d.textContent||d.innerHTML||\"\").replace(qa,\"\")));i=c=null}return this}}),m.each({appendTo:\"append\",prependTo:\"prepend\",insertBefore:\"before\",insertAfter:\"after\",replaceAll:\"replaceWith\"},function(a,b){m.fn[a]=function(a){for(var c,d=0,e=[],g=m(a),h=g.length-1;h>=d;d++)c=d===h?this:this.clone(!0),m(g[d])[b](c),f.apply(e,c.get());return this.pushStack(e)}});var Ca,Da={};function Ea(b,c){var d,e=m(c.createElement(b)).appendTo(c.body),f=a.getDefaultComputedStyle&&(d=a.getDefaultComputedStyle(e[0]))?d.display:m.css(e[0],\"display\");return e.detach(),f}function Fa(a){var b=y,c=Da[a];return c||(c=Ea(a,b),\"none\"!==c&&c||(Ca=(Ca||m(\"<iframe frameborder='0' width='0' height='0'/>\")).appendTo(b.documentElement),b=(Ca[0].contentWindow||Ca[0].contentDocument).document,b.write(),b.close(),c=Ea(a,b),Ca.detach()),Da[a]=c),c}!function(){var a;k.shrinkWrapBlocks=function(){if(null!=a)return a;a=!1;var b,c,d;return c=y.getElementsByTagName(\"body\")[0],c&&c.style?(b=y.createElement(\"div\"),d=y.createElement(\"div\"),d.style.cssText=\"position:absolute;border:0;width:0;height:0;top:0;left:-9999px\",c.appendChild(d).appendChild(b),typeof b.style.zoom!==K&&(b.style.cssText=\"-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1\",b.appendChild(y.createElement(\"div\")).style.width=\"5px\",a=3!==b.offsetWidth),c.removeChild(d),a):void 0}}();var Ga=/^margin/,Ha=new RegExp(\"^(\"+S+\")(?!px)[a-z%]+$\",\"i\"),Ia,Ja,Ka=/^(top|right|bottom|left)$/;a.getComputedStyle?(Ia=function(b){return b.ownerDocument.defaultView.opener?b.ownerDocument.defaultView.getComputedStyle(b,null):a.getComputedStyle(b,null)},Ja=function(a,b,c){var d,e,f,g,h=a.style;return c=c||Ia(a),g=c?c.getPropertyValue(b)||c[b]:void 0,c&&(\"\"!==g||m.contains(a.ownerDocument,a)||(g=m.style(a,b)),Ha.test(g)&&Ga.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0===g?g:g+\"\"}):y.documentElement.currentStyle&&(Ia=function(a){return a.currentStyle},Ja=function(a,b,c){var d,e,f,g,h=a.style;return c=c||Ia(a),g=c?c[b]:void 0,null==g&&h&&h[b]&&(g=h[b]),Ha.test(g)&&!Ka.test(b)&&(d=h.left,e=a.runtimeStyle,f=e&&e.left,f&&(e.left=a.currentStyle.left),h.left=\"fontSize\"===b?\"1em\":g,g=h.pixelLeft+\"px\",h.left=d,f&&(e.left=f)),void 0===g?g:g+\"\"||\"auto\"});function La(a,b){return{get:function(){var c=a();if(null!=c)return c?void delete this.get:(this.get=b).apply(this,arguments)}}}!function(){var b,c,d,e,f,g,h;if(b=y.createElement(\"div\"),b.innerHTML=\"  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>\",d=b.getElementsByTagName(\"a\")[0],c=d&&d.style){c.cssText=\"float:left;opacity:.5\",k.opacity=\"0.5\"===c.opacity,k.cssFloat=!!c.cssFloat,b.style.backgroundClip=\"content-box\",b.cloneNode(!0).style.backgroundClip=\"\",k.clearCloneStyle=\"content-box\"===b.style.backgroundClip,k.boxSizing=\"\"===c.boxSizing||\"\"===c.MozBoxSizing||\"\"===c.WebkitBoxSizing,m.extend(k,{reliableHiddenOffsets:function(){return null==g&&i(),g},boxSizingReliable:function(){return null==f&&i(),f},pixelPosition:function(){return null==e&&i(),e},reliableMarginRight:function(){return null==h&&i(),h}});function i(){var b,c,d,i;c=y.getElementsByTagName(\"body\")[0],c&&c.style&&(b=y.createElement(\"div\"),d=y.createElement(\"div\"),d.style.cssText=\"position:absolute;border:0;width:0;height:0;top:0;left:-9999px\",c.appendChild(d).appendChild(b),b.style.cssText=\"-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute\",e=f=!1,h=!0,a.getComputedStyle&&(e=\"1%\"!==(a.getComputedStyle(b,null)||{}).top,f=\"4px\"===(a.getComputedStyle(b,null)||{width:\"4px\"}).width,i=b.appendChild(y.createElement(\"div\")),i.style.cssText=b.style.cssText=\"-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0\",i.style.marginRight=i.style.width=\"0\",b.style.width=\"1px\",h=!parseFloat((a.getComputedStyle(i,null)||{}).marginRight),b.removeChild(i)),b.innerHTML=\"<table><tr><td></td><td>t</td></tr></table>\",i=b.getElementsByTagName(\"td\"),i[0].style.cssText=\"margin:0;border:0;padding:0;display:none\",g=0===i[0].offsetHeight,g&&(i[0].style.display=\"\",i[1].style.display=\"none\",g=0===i[0].offsetHeight),c.removeChild(d))}}}(),m.swap=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e};var Ma=/alpha\\([^)]*\\)/i,Na=/opacity\\s*=\\s*([^)]*)/,Oa=/^(none|table(?!-c[ea]).+)/,Pa=new RegExp(\"^(\"+S+\")(.*)$\",\"i\"),Qa=new RegExp(\"^([+-])=(\"+S+\")\",\"i\"),Ra={position:\"absolute\",visibility:\"hidden\",display:\"block\"},Sa={letterSpacing:\"0\",fontWeight:\"400\"},Ta=[\"Webkit\",\"O\",\"Moz\",\"ms\"];function Ua(a,b){if(b in a)return b;var c=b.charAt(0).toUpperCase()+b.slice(1),d=b,e=Ta.length;while(e--)if(b=Ta[e]+c,b in a)return b;return d}function Va(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=m._data(d,\"olddisplay\"),c=d.style.display,b?(f[g]||\"none\"!==c||(d.style.display=\"\"),\"\"===d.style.display&&U(d)&&(f[g]=m._data(d,\"olddisplay\",Fa(d.nodeName)))):(e=U(d),(c&&\"none\"!==c||!e)&&m._data(d,\"olddisplay\",e?c:m.css(d,\"display\"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&\"none\"!==d.style.display&&\"\"!==d.style.display||(d.style.display=b?f[g]||\"\":\"none\"));return a}function Wa(a,b,c){var d=Pa.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||\"px\"):b}function Xa(a,b,c,d,e){for(var f=c===(d?\"border\":\"content\")?4:\"width\"===b?1:0,g=0;4>f;f+=2)\"margin\"===c&&(g+=m.css(a,c+T[f],!0,e)),d?(\"content\"===c&&(g-=m.css(a,\"padding\"+T[f],!0,e)),\"margin\"!==c&&(g-=m.css(a,\"border\"+T[f]+\"Width\",!0,e))):(g+=m.css(a,\"padding\"+T[f],!0,e),\"padding\"!==c&&(g+=m.css(a,\"border\"+T[f]+\"Width\",!0,e)));return g}function Ya(a,b,c){var d=!0,e=\"width\"===b?a.offsetWidth:a.offsetHeight,f=Ia(a),g=k.boxSizing&&\"border-box\"===m.css(a,\"boxSizing\",!1,f);if(0>=e||null==e){if(e=Ja(a,b,f),(0>e||null==e)&&(e=a.style[b]),Ha.test(e))return e;d=g&&(k.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+Xa(a,b,c||(g?\"border\":\"content\"),d,f)+\"px\"}m.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=Ja(a,\"opacity\");return\"\"===c?\"1\":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{\"float\":k.cssFloat?\"cssFloat\":\"styleFloat\"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=m.camelCase(b),i=a.style;if(b=m.cssProps[h]||(m.cssProps[h]=Ua(i,h)),g=m.cssHooks[b]||m.cssHooks[h],void 0===c)return g&&\"get\"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b];if(f=typeof c,\"string\"===f&&(e=Qa.exec(c))&&(c=(e[1]+1)*e[2]+parseFloat(m.css(a,b)),f=\"number\"),null!=c&&c===c&&(\"number\"!==f||m.cssNumber[h]||(c+=\"px\"),k.clearCloneStyle||\"\"!==c||0!==b.indexOf(\"background\")||(i[b]=\"inherit\"),!(g&&\"set\"in g&&void 0===(c=g.set(a,c,d)))))try{i[b]=c}catch(j){}}},css:function(a,b,c,d){var e,f,g,h=m.camelCase(b);return b=m.cssProps[h]||(m.cssProps[h]=Ua(a.style,h)),g=m.cssHooks[b]||m.cssHooks[h],g&&\"get\"in g&&(f=g.get(a,!0,c)),void 0===f&&(f=Ja(a,b,d)),\"normal\"===f&&b in Sa&&(f=Sa[b]),\"\"===c||c?(e=parseFloat(f),c===!0||m.isNumeric(e)?e||0:f):f}}),m.each([\"height\",\"width\"],function(a,b){m.cssHooks[b]={get:function(a,c,d){return c?Oa.test(m.css(a,\"display\"))&&0===a.offsetWidth?m.swap(a,Ra,function(){return Ya(a,b,d)}):Ya(a,b,d):void 0},set:function(a,c,d){var e=d&&Ia(a);return Wa(a,c,d?Xa(a,b,d,k.boxSizing&&\"border-box\"===m.css(a,\"boxSizing\",!1,e),e):0)}}}),k.opacity||(m.cssHooks.opacity={get:function(a,b){return Na.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||\"\")?.01*parseFloat(RegExp.$1)+\"\":b?\"1\":\"\"},set:function(a,b){var c=a.style,d=a.currentStyle,e=m.isNumeric(b)?\"alpha(opacity=\"+100*b+\")\":\"\",f=d&&d.filter||c.filter||\"\";c.zoom=1,(b>=1||\"\"===b)&&\"\"===m.trim(f.replace(Ma,\"\"))&&c.removeAttribute&&(c.removeAttribute(\"filter\"),\"\"===b||d&&!d.filter)||(c.filter=Ma.test(f)?f.replace(Ma,e):f+\" \"+e)}}),m.cssHooks.marginRight=La(k.reliableMarginRight,function(a,b){return b?m.swap(a,{display:\"inline-block\"},Ja,[a,\"marginRight\"]):void 0}),m.each({margin:\"\",padding:\"\",border:\"Width\"},function(a,b){m.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f=\"string\"==typeof c?c.split(\" \"):[c];4>d;d++)e[a+T[d]+b]=f[d]||f[d-2]||f[0];return e}},Ga.test(a)||(m.cssHooks[a+b].set=Wa)}),m.fn.extend({css:function(a,b){return V(this,function(a,b,c){var d,e,f={},g=0;if(m.isArray(b)){for(d=Ia(a),e=b.length;e>g;g++)f[b[g]]=m.css(a,b[g],!1,d);return f}return void 0!==c?m.style(a,b,c):m.css(a,b)},a,b,arguments.length>1)},show:function(){return Va(this,!0)},hide:function(){return Va(this)},toggle:function(a){return\"boolean\"==typeof a?a?this.show():this.hide():this.each(function(){U(this)?m(this).show():m(this).hide()})}});function Za(a,b,c,d,e){\nreturn new Za.prototype.init(a,b,c,d,e)}m.Tween=Za,Za.prototype={constructor:Za,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||\"swing\",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(m.cssNumber[c]?\"\":\"px\")},cur:function(){var a=Za.propHooks[this.prop];return a&&a.get?a.get(this):Za.propHooks._default.get(this)},run:function(a){var b,c=Za.propHooks[this.prop];return this.options.duration?this.pos=b=m.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):Za.propHooks._default.set(this),this}},Za.prototype.init.prototype=Za.prototype,Za.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=m.css(a.elem,a.prop,\"\"),b&&\"auto\"!==b?b:0):a.elem[a.prop]},set:function(a){m.fx.step[a.prop]?m.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[m.cssProps[a.prop]]||m.cssHooks[a.prop])?m.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},Za.propHooks.scrollTop=Za.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},m.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},m.fx=Za.prototype.init,m.fx.step={};var $a,_a,ab=/^(?:toggle|show|hide)$/,bb=new RegExp(\"^(?:([+-])=|)(\"+S+\")([a-z%]*)$\",\"i\"),cb=/queueHooks$/,db=[ib],eb={\"*\":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=bb.exec(b),f=e&&e[3]||(m.cssNumber[a]?\"\":\"px\"),g=(m.cssNumber[a]||\"px\"!==f&&+d)&&bb.exec(m.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do h=h||\".5\",g/=h,m.style(c.elem,a,g+f);while(h!==(h=c.cur()/d)&&1!==h&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};function fb(){return setTimeout(function(){$a=void 0}),$a=m.now()}function gb(a,b){var c,d={height:a},e=0;for(b=b?1:0;4>e;e+=2-b)c=T[e],d[\"margin\"+c]=d[\"padding\"+c]=a;return b&&(d.opacity=d.width=a),d}function hb(a,b,c){for(var d,e=(eb[b]||[]).concat(eb[\"*\"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function ib(a,b,c){var d,e,f,g,h,i,j,l,n=this,o={},p=a.style,q=a.nodeType&&U(a),r=m._data(a,\"fxshow\");c.queue||(h=m._queueHooks(a,\"fx\"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,n.always(function(){n.always(function(){h.unqueued--,m.queue(a,\"fx\").length||h.empty.fire()})})),1===a.nodeType&&(\"height\"in b||\"width\"in b)&&(c.overflow=[p.overflow,p.overflowX,p.overflowY],j=m.css(a,\"display\"),l=\"none\"===j?m._data(a,\"olddisplay\")||Fa(a.nodeName):j,\"inline\"===l&&\"none\"===m.css(a,\"float\")&&(k.inlineBlockNeedsLayout&&\"inline\"!==Fa(a.nodeName)?p.zoom=1:p.display=\"inline-block\")),c.overflow&&(p.overflow=\"hidden\",k.shrinkWrapBlocks()||n.always(function(){p.overflow=c.overflow[0],p.overflowX=c.overflow[1],p.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],ab.exec(e)){if(delete b[d],f=f||\"toggle\"===e,e===(q?\"hide\":\"show\")){if(\"show\"!==e||!r||void 0===r[d])continue;q=!0}o[d]=r&&r[d]||m.style(a,d)}else j=void 0;if(m.isEmptyObject(o))\"inline\"===(\"none\"===j?Fa(a.nodeName):j)&&(p.display=j);else{r?\"hidden\"in r&&(q=r.hidden):r=m._data(a,\"fxshow\",{}),f&&(r.hidden=!q),q?m(a).show():n.done(function(){m(a).hide()}),n.done(function(){var b;m._removeData(a,\"fxshow\");for(b in o)m.style(a,b,o[b])});for(d in o)g=hb(q?r[d]:0,d,n),d in r||(r[d]=g.start,q&&(g.end=g.start,g.start=\"width\"===d||\"height\"===d?1:0))}}function jb(a,b){var c,d,e,f,g;for(c in a)if(d=m.camelCase(c),e=b[d],f=a[c],m.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=m.cssHooks[d],g&&\"expand\"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function kb(a,b,c){var d,e,f=0,g=db.length,h=m.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=$a||fb(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:m.extend({},b),opts:m.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:$a||fb(),duration:c.duration,tweens:[],createTween:function(b,c){var d=m.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(jb(k,j.opts.specialEasing);g>f;f++)if(d=db[f].call(j,a,k,j.opts))return d;return m.map(k,hb,j),m.isFunction(j.opts.start)&&j.opts.start.call(a,j),m.fx.timer(m.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}m.Animation=m.extend(kb,{tweener:function(a,b){m.isFunction(a)?(b=a,a=[\"*\"]):a=a.split(\" \");for(var c,d=0,e=a.length;e>d;d++)c=a[d],eb[c]=eb[c]||[],eb[c].unshift(b)},prefilter:function(a,b){b?db.unshift(a):db.push(a)}}),m.speed=function(a,b,c){var d=a&&\"object\"==typeof a?m.extend({},a):{complete:c||!c&&b||m.isFunction(a)&&a,duration:a,easing:c&&b||b&&!m.isFunction(b)&&b};return d.duration=m.fx.off?0:\"number\"==typeof d.duration?d.duration:d.duration in m.fx.speeds?m.fx.speeds[d.duration]:m.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue=\"fx\"),d.old=d.complete,d.complete=function(){m.isFunction(d.old)&&d.old.call(this),d.queue&&m.dequeue(this,d.queue)},d},m.fn.extend({fadeTo:function(a,b,c,d){return this.filter(U).css(\"opacity\",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=m.isEmptyObject(a),f=m.speed(b,c,d),g=function(){var b=kb(this,m.extend({},a),f);(e||m._data(this,\"finish\"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return\"string\"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||\"fx\",[]),this.each(function(){var b=!0,e=null!=a&&a+\"queueHooks\",f=m.timers,g=m._data(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&cb.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));(b||!c)&&m.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||\"fx\"),this.each(function(){var b,c=m._data(this),d=c[a+\"queue\"],e=c[a+\"queueHooks\"],f=m.timers,g=d?d.length:0;for(c.finish=!0,m.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),m.each([\"toggle\",\"show\",\"hide\"],function(a,b){var c=m.fn[b];m.fn[b]=function(a,d,e){return null==a||\"boolean\"==typeof a?c.apply(this,arguments):this.animate(gb(b,!0),a,d,e)}}),m.each({slideDown:gb(\"show\"),slideUp:gb(\"hide\"),slideToggle:gb(\"toggle\"),fadeIn:{opacity:\"show\"},fadeOut:{opacity:\"hide\"},fadeToggle:{opacity:\"toggle\"}},function(a,b){m.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),m.timers=[],m.fx.tick=function(){var a,b=m.timers,c=0;for($a=m.now();c<b.length;c++)a=b[c],a()||b[c]!==a||b.splice(c--,1);b.length||m.fx.stop(),$a=void 0},m.fx.timer=function(a){m.timers.push(a),a()?m.fx.start():m.timers.pop()},m.fx.interval=13,m.fx.start=function(){_a||(_a=setInterval(m.fx.tick,m.fx.interval))},m.fx.stop=function(){clearInterval(_a),_a=null},m.fx.speeds={slow:600,fast:200,_default:400},m.fn.delay=function(a,b){return a=m.fx?m.fx.speeds[a]||a:a,b=b||\"fx\",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},function(){var a,b,c,d,e;b=y.createElement(\"div\"),b.setAttribute(\"className\",\"t\"),b.innerHTML=\"  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>\",d=b.getElementsByTagName(\"a\")[0],c=y.createElement(\"select\"),e=c.appendChild(y.createElement(\"option\")),a=b.getElementsByTagName(\"input\")[0],d.style.cssText=\"top:1px\",k.getSetAttribute=\"t\"!==b.className,k.style=/top/.test(d.getAttribute(\"style\")),k.hrefNormalized=\"/a\"===d.getAttribute(\"href\"),k.checkOn=!!a.value,k.optSelected=e.selected,k.enctype=!!y.createElement(\"form\").enctype,c.disabled=!0,k.optDisabled=!e.disabled,a=y.createElement(\"input\"),a.setAttribute(\"value\",\"\"),k.input=\"\"===a.getAttribute(\"value\"),a.value=\"t\",a.setAttribute(\"type\",\"radio\"),k.radioValue=\"t\"===a.value}();var lb=/\\r/g;m.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=m.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,m(this).val()):a,null==e?e=\"\":\"number\"==typeof e?e+=\"\":m.isArray(e)&&(e=m.map(e,function(a){return null==a?\"\":a+\"\"})),b=m.valHooks[this.type]||m.valHooks[this.nodeName.toLowerCase()],b&&\"set\"in b&&void 0!==b.set(this,e,\"value\")||(this.value=e))});if(e)return b=m.valHooks[e.type]||m.valHooks[e.nodeName.toLowerCase()],b&&\"get\"in b&&void 0!==(c=b.get(e,\"value\"))?c:(c=e.value,\"string\"==typeof c?c.replace(lb,\"\"):null==c?\"\":c)}}}),m.extend({valHooks:{option:{get:function(a){var b=m.find.attr(a,\"value\");return null!=b?b:m.trim(m.text(a))}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f=\"select-one\"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],!(!c.selected&&i!==e||(k.optDisabled?c.disabled:null!==c.getAttribute(\"disabled\"))||c.parentNode.disabled&&m.nodeName(c.parentNode,\"optgroup\"))){if(b=m(c).val(),f)return b;g.push(b)}return g},set:function(a,b){var c,d,e=a.options,f=m.makeArray(b),g=e.length;while(g--)if(d=e[g],m.inArray(m.valHooks.option.get(d),f)>=0)try{d.selected=c=!0}catch(h){d.scrollHeight}else d.selected=!1;return c||(a.selectedIndex=-1),e}}}}),m.each([\"radio\",\"checkbox\"],function(){m.valHooks[this]={set:function(a,b){return m.isArray(b)?a.checked=m.inArray(m(a).val(),b)>=0:void 0}},k.checkOn||(m.valHooks[this].get=function(a){return null===a.getAttribute(\"value\")?\"on\":a.value})});var mb,nb,ob=m.expr.attrHandle,pb=/^(?:checked|selected)$/i,qb=k.getSetAttribute,rb=k.input;m.fn.extend({attr:function(a,b){return V(this,m.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){m.removeAttr(this,a)})}}),m.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(a&&3!==f&&8!==f&&2!==f)return typeof a.getAttribute===K?m.prop(a,b,c):(1===f&&m.isXMLDoc(a)||(b=b.toLowerCase(),d=m.attrHooks[b]||(m.expr.match.bool.test(b)?nb:mb)),void 0===c?d&&\"get\"in d&&null!==(e=d.get(a,b))?e:(e=m.find.attr(a,b),null==e?void 0:e):null!==c?d&&\"set\"in d&&void 0!==(e=d.set(a,c,b))?e:(a.setAttribute(b,c+\"\"),c):void m.removeAttr(a,b))},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(E);if(f&&1===a.nodeType)while(c=f[e++])d=m.propFix[c]||c,m.expr.match.bool.test(c)?rb&&qb||!pb.test(c)?a[d]=!1:a[m.camelCase(\"default-\"+c)]=a[d]=!1:m.attr(a,c,\"\"),a.removeAttribute(qb?c:d)},attrHooks:{type:{set:function(a,b){if(!k.radioValue&&\"radio\"===b&&m.nodeName(a,\"input\")){var c=a.value;return a.setAttribute(\"type\",b),c&&(a.value=c),b}}}}}),nb={set:function(a,b,c){return b===!1?m.removeAttr(a,c):rb&&qb||!pb.test(c)?a.setAttribute(!qb&&m.propFix[c]||c,c):a[m.camelCase(\"default-\"+c)]=a[c]=!0,c}},m.each(m.expr.match.bool.source.match(/\\w+/g),function(a,b){var c=ob[b]||m.find.attr;ob[b]=rb&&qb||!pb.test(b)?function(a,b,d){var e,f;return d||(f=ob[b],ob[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,ob[b]=f),e}:function(a,b,c){return c?void 0:a[m.camelCase(\"default-\"+b)]?b.toLowerCase():null}}),rb&&qb||(m.attrHooks.value={set:function(a,b,c){return m.nodeName(a,\"input\")?void(a.defaultValue=b):mb&&mb.set(a,b,c)}}),qb||(mb={set:function(a,b,c){var d=a.getAttributeNode(c);return d||a.setAttributeNode(d=a.ownerDocument.createAttribute(c)),d.value=b+=\"\",\"value\"===c||b===a.getAttribute(c)?b:void 0}},ob.id=ob.name=ob.coords=function(a,b,c){var d;return c?void 0:(d=a.getAttributeNode(b))&&\"\"!==d.value?d.value:null},m.valHooks.button={get:function(a,b){var c=a.getAttributeNode(b);return c&&c.specified?c.value:void 0},set:mb.set},m.attrHooks.contenteditable={set:function(a,b,c){mb.set(a,\"\"===b?!1:b,c)}},m.each([\"width\",\"height\"],function(a,b){m.attrHooks[b]={set:function(a,c){return\"\"===c?(a.setAttribute(b,\"auto\"),c):void 0}}})),k.style||(m.attrHooks.style={get:function(a){return a.style.cssText||void 0},set:function(a,b){return a.style.cssText=b+\"\"}});var sb=/^(?:input|select|textarea|button|object)$/i,tb=/^(?:a|area)$/i;m.fn.extend({prop:function(a,b){return V(this,m.prop,a,b,arguments.length>1)},removeProp:function(a){return a=m.propFix[a]||a,this.each(function(){try{this[a]=void 0,delete this[a]}catch(b){}})}}),m.extend({propFix:{\"for\":\"htmlFor\",\"class\":\"className\"},prop:function(a,b,c){var d,e,f,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g)return f=1!==g||!m.isXMLDoc(a),f&&(b=m.propFix[b]||b,e=m.propHooks[b]),void 0!==c?e&&\"set\"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&\"get\"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){var b=m.find.attr(a,\"tabindex\");return b?parseInt(b,10):sb.test(a.nodeName)||tb.test(a.nodeName)&&a.href?0:-1}}}}),k.hrefNormalized||m.each([\"href\",\"src\"],function(a,b){m.propHooks[b]={get:function(a){return a.getAttribute(b,4)}}}),k.optSelected||(m.propHooks.selected={get:function(a){var b=a.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null}}),m.each([\"tabIndex\",\"readOnly\",\"maxLength\",\"cellSpacing\",\"cellPadding\",\"rowSpan\",\"colSpan\",\"useMap\",\"frameBorder\",\"contentEditable\"],function(){m.propFix[this.toLowerCase()]=this}),k.enctype||(m.propFix.enctype=\"encoding\");var ub=/[\\t\\r\\n\\f]/g;m.fn.extend({addClass:function(a){var b,c,d,e,f,g,h=0,i=this.length,j=\"string\"==typeof a&&a;if(m.isFunction(a))return this.each(function(b){m(this).addClass(a.call(this,b,this.className))});if(j)for(b=(a||\"\").match(E)||[];i>h;h++)if(c=this[h],d=1===c.nodeType&&(c.className?(\" \"+c.className+\" \").replace(ub,\" \"):\" \")){f=0;while(e=b[f++])d.indexOf(\" \"+e+\" \")<0&&(d+=e+\" \");g=m.trim(d),c.className!==g&&(c.className=g)}return this},removeClass:function(a){var b,c,d,e,f,g,h=0,i=this.length,j=0===arguments.length||\"string\"==typeof a&&a;if(m.isFunction(a))return this.each(function(b){m(this).removeClass(a.call(this,b,this.className))});if(j)for(b=(a||\"\").match(E)||[];i>h;h++)if(c=this[h],d=1===c.nodeType&&(c.className?(\" \"+c.className+\" \").replace(ub,\" \"):\"\")){f=0;while(e=b[f++])while(d.indexOf(\" \"+e+\" \")>=0)d=d.replace(\" \"+e+\" \",\" \");g=a?m.trim(d):\"\",c.className!==g&&(c.className=g)}return this},toggleClass:function(a,b){var c=typeof a;return\"boolean\"==typeof b&&\"string\"===c?b?this.addClass(a):this.removeClass(a):this.each(m.isFunction(a)?function(c){m(this).toggleClass(a.call(this,c,this.className,b),b)}:function(){if(\"string\"===c){var b,d=0,e=m(this),f=a.match(E)||[];while(b=f[d++])e.hasClass(b)?e.removeClass(b):e.addClass(b)}else(c===K||\"boolean\"===c)&&(this.className&&m._data(this,\"__className__\",this.className),this.className=this.className||a===!1?\"\":m._data(this,\"__className__\")||\"\")})},hasClass:function(a){for(var b=\" \"+a+\" \",c=0,d=this.length;d>c;c++)if(1===this[c].nodeType&&(\" \"+this[c].className+\" \").replace(ub,\" \").indexOf(b)>=0)return!0;return!1}}),m.each(\"blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu\".split(\" \"),function(a,b){m.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),m.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,\"**\"):this.off(b,a||\"**\",c)}});var vb=m.now(),wb=/\\?/,xb=/(,)|(\\[|{)|(}|])|\"(?:[^\"\\\\\\r\\n]|\\\\[\"\\\\\\/bfnrt]|\\\\u[\\da-fA-F]{4})*\"\\s*:?|true|false|null|-?(?!0\\d)\\d+(?:\\.\\d+|)(?:[eE][+-]?\\d+|)/g;m.parseJSON=function(b){if(a.JSON&&a.JSON.parse)return a.JSON.parse(b+\"\");var c,d=null,e=m.trim(b+\"\");return e&&!m.trim(e.replace(xb,function(a,b,e,f){return c&&b&&(d=0),0===d?a:(c=e||b,d+=!f-!e,\"\")}))?Function(\"return \"+e)():m.error(\"Invalid JSON: \"+b)},m.parseXML=function(b){var c,d;if(!b||\"string\"!=typeof b)return null;try{a.DOMParser?(d=new DOMParser,c=d.parseFromString(b,\"text/xml\")):(c=new ActiveXObject(\"Microsoft.XMLDOM\"),c.async=\"false\",c.loadXML(b))}catch(e){c=void 0}return c&&c.documentElement&&!c.getElementsByTagName(\"parsererror\").length||m.error(\"Invalid XML: \"+b),c};var yb,zb,Ab=/#.*$/,Bb=/([?&])_=[^&]*/,Cb=/^(.*?):[ \\t]*([^\\r\\n]*)\\r?$/gm,Db=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Eb=/^(?:GET|HEAD)$/,Fb=/^\\/\\//,Gb=/^([\\w.+-]+:)(?:\\/\\/(?:[^\\/?#]*@|)([^\\/?#:]*)(?::(\\d+)|)|)/,Hb={},Ib={},Jb=\"*/\".concat(\"*\");try{zb=location.href}catch(Kb){zb=y.createElement(\"a\"),zb.href=\"\",zb=zb.href}yb=Gb.exec(zb.toLowerCase())||[];function Lb(a){return function(b,c){\"string\"!=typeof b&&(c=b,b=\"*\");var d,e=0,f=b.toLowerCase().match(E)||[];if(m.isFunction(c))while(d=f[e++])\"+\"===d.charAt(0)?(d=d.slice(1)||\"*\",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function Mb(a,b,c,d){var e={},f=a===Ib;function g(h){var i;return e[h]=!0,m.each(a[h]||[],function(a,h){var j=h(b,c,d);return\"string\"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}return g(b.dataTypes[0])||!e[\"*\"]&&g(\"*\")}function Nb(a,b){var c,d,e=m.ajaxSettings.flatOptions||{};for(d in b)void 0!==b[d]&&((e[d]?a:c||(c={}))[d]=b[d]);return c&&m.extend(!0,a,c),a}function Ob(a,b,c){var d,e,f,g,h=a.contents,i=a.dataTypes;while(\"*\"===i[0])i.shift(),void 0===e&&(e=a.mimeType||b.getResponseHeader(\"Content-Type\"));if(e)for(g in h)if(h[g]&&h[g].test(e)){i.unshift(g);break}if(i[0]in c)f=i[0];else{for(g in c){if(!i[0]||a.converters[g+\" \"+i[0]]){f=g;break}d||(d=g)}f=f||d}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function Pb(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];f=k.shift();while(f)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if(\"*\"===f)f=i;else if(\"*\"!==i&&i!==f){if(g=j[i+\" \"+f]||j[\"* \"+f],!g)for(e in j)if(h=e.split(\" \"),h[1]===f&&(g=j[i+\" \"+h[0]]||j[\"* \"+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a[\"throws\"])b=g(b);else try{b=g(b)}catch(l){return{state:\"parsererror\",error:g?l:\"No conversion from \"+i+\" to \"+f}}}return{state:\"success\",data:b}}m.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:zb,type:\"GET\",isLocal:Db.test(yb[1]),global:!0,processData:!0,async:!0,contentType:\"application/x-www-form-urlencoded; charset=UTF-8\",accepts:{\"*\":Jb,text:\"text/plain\",html:\"text/html\",xml:\"application/xml, text/xml\",json:\"application/json, text/javascript\"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:\"responseXML\",text:\"responseText\",json:\"responseJSON\"},converters:{\"* text\":String,\"text html\":!0,\"text json\":m.parseJSON,\"text xml\":m.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?Nb(Nb(a,m.ajaxSettings),b):Nb(m.ajaxSettings,a)},ajaxPrefilter:Lb(Hb),ajaxTransport:Lb(Ib),ajax:function(a,b){\"object\"==typeof a&&(b=a,a=void 0),b=b||{};var c,d,e,f,g,h,i,j,k=m.ajaxSetup({},b),l=k.context||k,n=k.context&&(l.nodeType||l.jquery)?m(l):m.event,o=m.Deferred(),p=m.Callbacks(\"once memory\"),q=k.statusCode||{},r={},s={},t=0,u=\"canceled\",v={readyState:0,getResponseHeader:function(a){var b;if(2===t){if(!j){j={};while(b=Cb.exec(f))j[b[1].toLowerCase()]=b[2]}b=j[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===t?f:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return t||(a=s[c]=s[c]||a,r[a]=b),this},overrideMimeType:function(a){return t||(k.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>t)for(b in a)q[b]=[q[b],a[b]];else v.always(a[v.status]);return this},abort:function(a){var b=a||u;return i&&i.abort(b),x(0,b),this}};if(o.promise(v).complete=p.add,v.success=v.done,v.error=v.fail,k.url=((a||k.url||zb)+\"\").replace(Ab,\"\").replace(Fb,yb[1]+\"//\"),k.type=b.method||b.type||k.method||k.type,k.dataTypes=m.trim(k.dataType||\"*\").toLowerCase().match(E)||[\"\"],null==k.crossDomain&&(c=Gb.exec(k.url.toLowerCase()),k.crossDomain=!(!c||c[1]===yb[1]&&c[2]===yb[2]&&(c[3]||(\"http:\"===c[1]?\"80\":\"443\"))===(yb[3]||(\"http:\"===yb[1]?\"80\":\"443\")))),k.data&&k.processData&&\"string\"!=typeof k.data&&(k.data=m.param(k.data,k.traditional)),Mb(Hb,k,b,v),2===t)return v;h=m.event&&k.global,h&&0===m.active++&&m.event.trigger(\"ajaxStart\"),k.type=k.type.toUpperCase(),k.hasContent=!Eb.test(k.type),e=k.url,k.hasContent||(k.data&&(e=k.url+=(wb.test(e)?\"&\":\"?\")+k.data,delete k.data),k.cache===!1&&(k.url=Bb.test(e)?e.replace(Bb,\"$1_=\"+vb++):e+(wb.test(e)?\"&\":\"?\")+\"_=\"+vb++)),k.ifModified&&(m.lastModified[e]&&v.setRequestHeader(\"If-Modified-Since\",m.lastModified[e]),m.etag[e]&&v.setRequestHeader(\"If-None-Match\",m.etag[e])),(k.data&&k.hasContent&&k.contentType!==!1||b.contentType)&&v.setRequestHeader(\"Content-Type\",k.contentType),v.setRequestHeader(\"Accept\",k.dataTypes[0]&&k.accepts[k.dataTypes[0]]?k.accepts[k.dataTypes[0]]+(\"*\"!==k.dataTypes[0]?\", \"+Jb+\"; q=0.01\":\"\"):k.accepts[\"*\"]);for(d in k.headers)v.setRequestHeader(d,k.headers[d]);if(k.beforeSend&&(k.beforeSend.call(l,v,k)===!1||2===t))return v.abort();u=\"abort\";for(d in{success:1,error:1,complete:1})v[d](k[d]);if(i=Mb(Ib,k,b,v)){v.readyState=1,h&&n.trigger(\"ajaxSend\",[v,k]),k.async&&k.timeout>0&&(g=setTimeout(function(){v.abort(\"timeout\")},k.timeout));try{t=1,i.send(r,x)}catch(w){if(!(2>t))throw w;x(-1,w)}}else x(-1,\"No Transport\");function x(a,b,c,d){var j,r,s,u,w,x=b;2!==t&&(t=2,g&&clearTimeout(g),i=void 0,f=d||\"\",v.readyState=a>0?4:0,j=a>=200&&300>a||304===a,c&&(u=Ob(k,v,c)),u=Pb(k,u,v,j),j?(k.ifModified&&(w=v.getResponseHeader(\"Last-Modified\"),w&&(m.lastModified[e]=w),w=v.getResponseHeader(\"etag\"),w&&(m.etag[e]=w)),204===a||\"HEAD\"===k.type?x=\"nocontent\":304===a?x=\"notmodified\":(x=u.state,r=u.data,s=u.error,j=!s)):(s=x,(a||!x)&&(x=\"error\",0>a&&(a=0))),v.status=a,v.statusText=(b||x)+\"\",j?o.resolveWith(l,[r,x,v]):o.rejectWith(l,[v,x,s]),v.statusCode(q),q=void 0,h&&n.trigger(j?\"ajaxSuccess\":\"ajaxError\",[v,k,j?r:s]),p.fireWith(l,[v,x]),h&&(n.trigger(\"ajaxComplete\",[v,k]),--m.active||m.event.trigger(\"ajaxStop\")))}return v},getJSON:function(a,b,c){return m.get(a,b,c,\"json\")},getScript:function(a,b){return m.get(a,void 0,b,\"script\")}}),m.each([\"get\",\"post\"],function(a,b){m[b]=function(a,c,d,e){return m.isFunction(c)&&(e=e||d,d=c,c=void 0),m.ajax({url:a,type:b,dataType:e,data:c,success:d})}}),m._evalUrl=function(a){return m.ajax({url:a,type:\"GET\",dataType:\"script\",async:!1,global:!1,\"throws\":!0})},m.fn.extend({wrapAll:function(a){if(m.isFunction(a))return this.each(function(b){m(this).wrapAll(a.call(this,b))});if(this[0]){var b=m(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstChild&&1===a.firstChild.nodeType)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return this.each(m.isFunction(a)?function(b){m(this).wrapInner(a.call(this,b))}:function(){var b=m(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=m.isFunction(a);return this.each(function(c){m(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){m.nodeName(this,\"body\")||m(this).replaceWith(this.childNodes)}).end()}}),m.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0||!k.reliableHiddenOffsets()&&\"none\"===(a.style&&a.style.display||m.css(a,\"display\"))},m.expr.filters.visible=function(a){return!m.expr.filters.hidden(a)};var Qb=/%20/g,Rb=/\\[\\]$/,Sb=/\\r?\\n/g,Tb=/^(?:submit|button|image|reset|file)$/i,Ub=/^(?:input|select|textarea|keygen)/i;function Vb(a,b,c,d){var e;if(m.isArray(b))m.each(b,function(b,e){c||Rb.test(a)?d(a,e):Vb(a+\"[\"+(\"object\"==typeof e?b:\"\")+\"]\",e,c,d)});else if(c||\"object\"!==m.type(b))d(a,b);else for(e in b)Vb(a+\"[\"+e+\"]\",b[e],c,d)}m.param=function(a,b){var c,d=[],e=function(a,b){b=m.isFunction(b)?b():null==b?\"\":b,d[d.length]=encodeURIComponent(a)+\"=\"+encodeURIComponent(b)};if(void 0===b&&(b=m.ajaxSettings&&m.ajaxSettings.traditional),m.isArray(a)||a.jquery&&!m.isPlainObject(a))m.each(a,function(){e(this.name,this.value)});else for(c in a)Vb(c,a[c],b,e);return d.join(\"&\").replace(Qb,\"+\")},m.fn.extend({serialize:function(){return m.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=m.prop(this,\"elements\");return a?m.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!m(this).is(\":disabled\")&&Ub.test(this.nodeName)&&!Tb.test(a)&&(this.checked||!W.test(a))}).map(function(a,b){var c=m(this).val();return null==c?null:m.isArray(c)?m.map(c,function(a){return{name:b.name,value:a.replace(Sb,\"\\r\\n\")}}):{name:b.name,value:c.replace(Sb,\"\\r\\n\")}}).get()}}),m.ajaxSettings.xhr=void 0!==a.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&Zb()||$b()}:Zb;var Wb=0,Xb={},Yb=m.ajaxSettings.xhr();a.attachEvent&&a.attachEvent(\"onunload\",function(){for(var a in Xb)Xb[a](void 0,!0)}),k.cors=!!Yb&&\"withCredentials\"in Yb,Yb=k.ajax=!!Yb,Yb&&m.ajaxTransport(function(a){if(!a.crossDomain||k.cors){var b;return{send:function(c,d){var e,f=a.xhr(),g=++Wb;if(f.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(e in a.xhrFields)f[e]=a.xhrFields[e];a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType),a.crossDomain||c[\"X-Requested-With\"]||(c[\"X-Requested-With\"]=\"XMLHttpRequest\");for(e in c)void 0!==c[e]&&f.setRequestHeader(e,c[e]+\"\");f.send(a.hasContent&&a.data||null),b=function(c,e){var h,i,j;if(b&&(e||4===f.readyState))if(delete Xb[g],b=void 0,f.onreadystatechange=m.noop,e)4!==f.readyState&&f.abort();else{j={},h=f.status,\"string\"==typeof f.responseText&&(j.text=f.responseText);try{i=f.statusText}catch(k){i=\"\"}h||!a.isLocal||a.crossDomain?1223===h&&(h=204):h=j.text?200:404}j&&d(h,i,j,f.getAllResponseHeaders())},a.async?4===f.readyState?setTimeout(b):f.onreadystatechange=Xb[g]=b:b()},abort:function(){b&&b(void 0,!0)}}}});function Zb(){try{return new a.XMLHttpRequest}catch(b){}}function $b(){try{return new a.ActiveXObject(\"Microsoft.XMLHTTP\")}catch(b){}}m.ajaxSetup({accepts:{script:\"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript\"},contents:{script:/(?:java|ecma)script/},converters:{\"text script\":function(a){return m.globalEval(a),a}}}),m.ajaxPrefilter(\"script\",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type=\"GET\",a.global=!1)}),m.ajaxTransport(\"script\",function(a){if(a.crossDomain){var b,c=y.head||m(\"head\")[0]||y.documentElement;return{send:function(d,e){b=y.createElement(\"script\"),b.async=!0,a.scriptCharset&&(b.charset=a.scriptCharset),b.src=a.url,b.onload=b.onreadystatechange=function(a,c){(c||!b.readyState||/loaded|complete/.test(b.readyState))&&(b.onload=b.onreadystatechange=null,b.parentNode&&b.parentNode.removeChild(b),b=null,c||e(200,\"success\"))},c.insertBefore(b,c.firstChild)},abort:function(){b&&b.onload(void 0,!0)}}}});var _b=[],ac=/(=)\\?(?=&|$)|\\?\\?/;m.ajaxSetup({jsonp:\"callback\",jsonpCallback:function(){var a=_b.pop()||m.expando+\"_\"+vb++;return this[a]=!0,a}}),m.ajaxPrefilter(\"json jsonp\",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(ac.test(b.url)?\"url\":\"string\"==typeof b.data&&!(b.contentType||\"\").indexOf(\"application/x-www-form-urlencoded\")&&ac.test(b.data)&&\"data\");return h||\"jsonp\"===b.dataTypes[0]?(e=b.jsonpCallback=m.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(ac,\"$1\"+e):b.jsonp!==!1&&(b.url+=(wb.test(b.url)?\"&\":\"?\")+b.jsonp+\"=\"+e),b.converters[\"script json\"]=function(){return g||m.error(e+\" was not called\"),g[0]},b.dataTypes[0]=\"json\",f=a[e],a[e]=function(){g=arguments},d.always(function(){a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,_b.push(e)),g&&m.isFunction(f)&&f(g[0]),g=f=void 0}),\"script\"):void 0}),m.parseHTML=function(a,b,c){if(!a||\"string\"!=typeof a)return null;\"boolean\"==typeof b&&(c=b,b=!1),b=b||y;var d=u.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=m.buildFragment([a],b,e),e&&e.length&&m(e).remove(),m.merge([],d.childNodes))};var bc=m.fn.load;m.fn.load=function(a,b,c){if(\"string\"!=typeof a&&bc)return bc.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(\" \");return h>=0&&(d=m.trim(a.slice(h,a.length)),a=a.slice(0,h)),m.isFunction(b)?(c=b,b=void 0):b&&\"object\"==typeof b&&(f=\"POST\"),g.length>0&&m.ajax({url:a,type:f,dataType:\"html\",data:b}).done(function(a){e=arguments,g.html(d?m(\"<div>\").append(m.parseHTML(a)).find(d):a)}).complete(c&&function(a,b){g.each(c,e||[a.responseText,b,a])}),this},m.each([\"ajaxStart\",\"ajaxStop\",\"ajaxComplete\",\"ajaxError\",\"ajaxSuccess\",\"ajaxSend\"],function(a,b){m.fn[b]=function(a){return this.on(b,a)}}),m.expr.filters.animated=function(a){return m.grep(m.timers,function(b){return a===b.elem}).length};var cc=a.document.documentElement;function dc(a){return m.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}m.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=m.css(a,\"position\"),l=m(a),n={};\"static\"===k&&(a.style.position=\"relative\"),h=l.offset(),f=m.css(a,\"top\"),i=m.css(a,\"left\"),j=(\"absolute\"===k||\"fixed\"===k)&&m.inArray(\"auto\",[f,i])>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),m.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(n.top=b.top-h.top+g),null!=b.left&&(n.left=b.left-h.left+e),\"using\"in b?b.using.call(a,n):l.css(n)}},m.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){m.offset.setOffset(this,a,b)});var b,c,d={top:0,left:0},e=this[0],f=e&&e.ownerDocument;if(f)return b=f.documentElement,m.contains(b,e)?(typeof e.getBoundingClientRect!==K&&(d=e.getBoundingClientRect()),c=dc(f),{top:d.top+(c.pageYOffset||b.scrollTop)-(b.clientTop||0),left:d.left+(c.pageXOffset||b.scrollLeft)-(b.clientLeft||0)}):d},position:function(){if(this[0]){var a,b,c={top:0,left:0},d=this[0];return\"fixed\"===m.css(d,\"position\")?b=d.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),m.nodeName(a[0],\"html\")||(c=a.offset()),c.top+=m.css(a[0],\"borderTopWidth\",!0),c.left+=m.css(a[0],\"borderLeftWidth\",!0)),{top:b.top-c.top-m.css(d,\"marginTop\",!0),left:b.left-c.left-m.css(d,\"marginLeft\",!0)}}},offsetParent:function(){return this.map(function(){var a=this.offsetParent||cc;while(a&&!m.nodeName(a,\"html\")&&\"static\"===m.css(a,\"position\"))a=a.offsetParent;return a||cc})}}),m.each({scrollLeft:\"pageXOffset\",scrollTop:\"pageYOffset\"},function(a,b){var c=/Y/.test(b);m.fn[a]=function(d){return V(this,function(a,d,e){var f=dc(a);return void 0===e?f?b in f?f[b]:f.document.documentElement[d]:a[d]:void(f?f.scrollTo(c?m(f).scrollLeft():e,c?e:m(f).scrollTop()):a[d]=e)},a,d,arguments.length,null)}}),m.each([\"top\",\"left\"],function(a,b){m.cssHooks[b]=La(k.pixelPosition,function(a,c){return c?(c=Ja(a,b),Ha.test(c)?m(a).position()[b]+\"px\":c):void 0})}),m.each({Height:\"height\",Width:\"width\"},function(a,b){m.each({padding:\"inner\"+a,content:b,\"\":\"outer\"+a},function(c,d){m.fn[d]=function(d,e){var f=arguments.length&&(c||\"boolean\"!=typeof d),g=c||(d===!0||e===!0?\"margin\":\"border\");return V(this,function(b,c,d){var e;return m.isWindow(b)?b.document.documentElement[\"client\"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body[\"scroll\"+a],e[\"scroll\"+a],b.body[\"offset\"+a],e[\"offset\"+a],e[\"client\"+a])):void 0===d?m.css(b,c,g):m.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),m.fn.size=function(){return this.length},m.fn.andSelf=m.fn.addBack,\"function\"==typeof define&&define.amd&&define(\"jquery\",[],function(){return m});var ec=a.jQuery,fc=a.$;return m.noConflict=function(b){return a.$===m&&(a.$=fc),b&&a.jQuery===m&&(a.jQuery=ec),m},typeof b===K&&(a.jQuery=a.$=m),m});\n"},{"id":2,"identifier":"D:\\云购\\public\\node_modules\\webpack\\buildin\\amd-options.js","name":"(webpack)/buildin/amd-options.js","index":2,"index2":0,"size":43,"cacheable":true,"built":false,"optional":false,"prefetched":false,"chunks":[12],"assets":[],"issuer":"D:\\云购\\public\\js\\libs\\jquery-1.11.3.js","failed":false,"errors":0,"warnings":0,"reasons":[{"moduleId":1,"moduleIdentifier":"D:\\云购\\public\\js\\libs\\jquery-1.11.3.js","module":"./js/libs/jquery-1.11.3.js","moduleName":"./js/libs/jquery-1.11.3.js","type":"amd require","userRequest":{"range":[95754,95764],"loc":{"start":{"line":5,"column":31621},"end":{"line":5,"column":31631}},"type":"MemberExpression","computed":false,"object":{"range":[95754,95760],"loc":{"start":{"line":5,"column":31621},"end":{"line":5,"column":31627}},"type":"Identifier","name":"define"},"property":{"range":[95761,95764],"loc":{"start":{"line":5,"column":31628},"end":{"line":5,"column":31631}},"type":"Identifier","name":"amd"}},"loc":"5:31621-31631"},{"moduleId":8,"moduleIdentifier":"D:\\云购\\public\\js\\libs\\pagination-min.js","module":"./js/libs/pagination-min.js","moduleName":"./js/libs/pagination-min.js","type":"amd require","userRequest":{"range":[12637,12647],"loc":{"start":{"line":12,"column":12351},"end":{"line":12,"column":12361}},"type":"MemberExpression","computed":false,"object":{"range":[12637,12643],"loc":{"start":{"line":12,"column":12351},"end":{"line":12,"column":12357}},"type":"Identifier","name":"define"},"property":{"range":[12644,12647],"loc":{"start":{"line":12,"column":12358},"end":{"line":12,"column":12361}},"type":"Identifier","name":"amd"}},"loc":"12:12351-12361"}],"source":"module.exports = __webpack_amd_options__;\r\n"},{"id":3,"identifier":"D:\\云购\\public\\js\\app\\public.js","name":"./js/app/public.js","index":3,"index2":2,"size":14585,"cacheable":true,"built":false,"optional":false,"prefetched":false,"chunks":[12],"assets":[],"issuer":"D:\\云购\\public\\js\\app\\cart.main.js","failed":false,"errors":0,"warnings":0,"reasons":[{"moduleId":0,"moduleIdentifier":"D:\\云购\\public\\js\\app\\detail.main.js","module":"./js/app/detail.main.js","moduleName":"./js/app/detail.main.js","type":"cjs require","userRequest":"./public","loc":"6:0-19"},{"moduleId":0,"moduleIdentifier":"D:\\云购\\public\\js\\app\\message.main.js","module":"./js/app/message.main.js","moduleName":"./js/app/message.main.js","type":"cjs require","userRequest":"./public","loc":"3:0-19"},{"moduleId":0,"moduleIdentifier":"D:\\云购\\public\\js\\app\\help.main.js","module":"./js/app/help.main.js","moduleName":"./js/app/help.main.js","type":"cjs require","userRequest":"./public","loc":"1:0-19"},{"moduleId":0,"moduleIdentifier":"D:\\云购\\public\\js\\app\\login.main.js","module":"./js/app/login.main.js","moduleName":"./js/app/login.main.js","type":"cjs require","userRequest":"./public","loc":"2:0-19"},{"moduleId":0,"moduleIdentifier":"D:\\云购\\public\\js\\app\\lottery.main.js","module":"./js/app/lottery.main.js","moduleName":"./js/app/lottery.main.js","type":"cjs require","userRequest":"./public","loc":"7:0-19"},{"moduleId":0,"moduleIdentifier":"D:\\云购\\public\\js\\app\\memberindex.main.js","module":"./js/app/memberindex.main.js","moduleName":"./js/app/memberindex.main.js","type":"cjs require","userRequest":"./public","loc":"7:0-19"},{"moduleId":0,"moduleIdentifier":"D:\\云购\\public\\js\\app\\cart.main.js","module":"./js/app/cart.main.js","moduleName":"./js/app/cart.main.js","type":"cjs require","userRequest":"./public","loc":"1:0-19"},{"moduleId":0,"moduleIdentifier":"D:\\云购\\public\\js\\app\\news.main.js","module":"./js/app/news.main.js","moduleName":"./js/app/news.main.js","type":"cjs require","userRequest":"./public","loc":"2:0-19"},{"moduleId":0,"moduleIdentifier":"D:\\云购\\public\\js\\app\\post.main.js","module":"./js/app/post.main.js","moduleName":"./js/app/post.main.js","type":"cjs require","userRequest":"./public","loc":"4:0-19"},{"moduleId":0,"moduleIdentifier":"D:\\云购\\public\\js\\app\\qcbind.main.js","module":"./js/app/qcbind.main.js","moduleName":"./js/app/qcbind.main.js","type":"cjs require","userRequest":"./public","loc":"2:0-19"},{"moduleId":0,"moduleIdentifier":"D:\\云购\\public\\js\\app\\uMy.main.js","module":"./js/app/uMy.main.js","moduleName":"./js/app/uMy.main.js","type":"cjs require","userRequest":"./public","loc":"4:0-19"},{"moduleId":0,"moduleIdentifier":"D:\\云购\\public\\js\\app\\index.main.js","module":"./js/app/index.main.js","moduleName":"./js/app/index.main.js","type":"cjs require","userRequest":"./public","loc":"5:0-19"}],"source":"winheight = $(window).height();\r\nwinwidth = $(window).width();\r\ndocheight = $(document).height();\r\nscrolltop = $(document).scrollTop();\r\nclick = \"click\";\r\nurl = window.location.href;\r\najaxOrigin = 'http://webcms.didv.cn/';\r\n_sizeTel = /^1[3,4,5,7,8]{1}[0-9]{9}$/i;\r\n_email = /^[a-z0-9]+([._\\\\-]*[a-z0-9])*@([a-z0-9]+[-a-z0-9]*[a-z0-9]+.){1,63}[a-z0-9]+$/i;\r\nerrorIcon = '<i class=\"passport-icon transparent-png\"></i>';\r\najaxlack = true;\r\nwindwoHost = 'http://webcms.didv.cn/';\r\nreg = new RegExp(\"^[0-9]*$\");  \r\npageTrue = $(\"#pageID\").val(); //页面\r\nlogoTrue = false;\r\n// 个人用户信息\r\nmyuserID = '';\r\nmyuserPhoto = '/Images/UserFace-160-0000.jpg';\r\nmyuserWeb = '';\r\nmyusername = '暂无';\r\n\r\n$(function(){\r\n\t$(\"#liMobile, #liMember\").hover(function(){\r\n\t\t$(this).addClass('u-arr-hover');\r\n\t},function(){\r\n\t\t$(this).removeClass('u-arr-hover');\r\n\t});\r\n\r\n\t$(\"#txtHSearch\").on(\"focus\", function(){\r\n\t\t$(this).next(\"span\").hide();\r\n\t});\r\n\t$(\"#txtHSearch\").on(\"blur\", function(){\r\n\t\t$(this).next(\"span\").show();\r\n\t});\r\n\r\n\t$(\"#divHotGoodsList .g-hotL-list\").hover(function(){\r\n\t\t$(this).addClass('g-hotL-hover');\r\n\t},function(){\r\n\t\t$(this).removeClass('g-hotL-hover');\r\n\t});\r\n\r\n\t$(\"#divSoonGoodsList .soon-list-con, #divNewGoodsList .soon-list-con\").hover(function(){\r\n\t\t$(this).addClass('soon-list-hover');\r\n\t},function(){\r\n\t\t$(this).removeClass('soon-list-hover');\r\n\t});\r\n\r\n\t// 登陆弹层函数\r\n\twindow.tanLoginFun = function(forward){\r\n\t\ttanFun(390,407,'<iframe name=\"fastLoginFrame\" id=\"fastLoginFrame\" frameborder=\"0\" src=\"http://webcms.didv.cn/member/passport/ShopLogin.html?forward='+encodeURIComponent(forward)+'\" style=\"width:390px;height:407px;padding:0px;overflow:auto;\"></iframe>');\r\n\t}\r\n\r\n\t// 弹层\r\n\twindow.tanFun = function(_width,_height,_con){\r\n\t\twinheight = $(window).height();\r\n\t\twinwidth = $(window).width();\r\n\t\tdocheight = $(document).height();\r\n\t\tscrolltop = $(document).scrollTop();\r\n\t\t$(\"#pageDialogBG\").attr({'style':'opacity: 0.3; width: '+winwidth+'px; height: '+docheight+'px; display: block;'});\r\n\t\t$(\"#pageDialogClose\").show();\r\n\t\t// $(\"#pageDialogBorder\").attr({'style':'opacity: 0.1; width: 400px; height: 417px; top: 1361.5px; left: 103px; display: block;'});\r\n\t\t$(\"#pageDialog\").attr({'style':'top: '+((winheight/2-_height/2)+scrolltop)+'px; left: '+((winwidth/2-_width/2))+'px; display: block;'});\r\n\t\t$(\"#pageDialogMain\").attr({'style':'width: '+_width+'px; height: '+_height+'px;'});\r\n\t\t$(\"#pageDialogMain .content\").html(_con);\r\n\t}\r\n\r\n\t// 关闭弹层\r\n\t$(\"#pageDialogClose\").on(click, function(){\r\n\t\tgotoClick();\r\n\t});\r\n\r\n\r\n\twindow.gotoClick = function(){\r\n\t\t$(\"#pageDialogBG, #pageDialog\").hide();\r\n\t}\r\n\r\n\tvar t;\r\n\twindow.FailDialog = function(_w,_h,_con,_URL){ //162x60\r\n\t\twinheight = $(window).height();\r\n\t\twinwidth = $(window).width();\r\n\t\tdocheight = $(document).height();\r\n\t\tscrolltop = $(document).scrollTop();\r\n\t\t$(\"#pageDialogBG\").attr({'style':'opacity: 0.3; width: '+winwidth+'px; height: '+docheight+'px; display: block;'});\r\n\t\t$(\"#pageDialogClose\").hide();\r\n\t\t$(\"#pageDialog\").attr({'style':'top: '+((winheight/2-_h/2)+scrolltop)+'px; left: '+((winwidth/2-_w/2))+'px; display: block;'});\r\n\t\t$(\"#pageDialogMain\").attr({'style':'width: '+_w+'px; height:'+_h+'px;'});\r\n\t\t$(\"#pageDialogMain .content\").html('<div class=\"mAltOK\"><s></s>'+_con+'</div>');\r\n\t\tt = setTimeout(function(){\r\n\t\t\tgotoClick();\r\n\t\t\tclearTimeout(t);\r\n\t\t\t//console.log(_URL);\r\n\t\t\tif( _URL==undefined||_URL=='' ) return;\r\n\t\t\twindow.location.href = _URL;\r\n\t\t},2000);\r\n\t}\r\n\t\r\n\r\n\t\r\n\t// 输入框\r\n\t$(\".iptfocus\").focus(function(){\r\n\t\t$(this).siblings(\".iptem\").hide();\r\n\t\t$(this).parents(\"li\").addClass(\"enter-focus\");\r\n\t});\r\n\t$(\".iptfocus\").blur(function(){\r\n\t\t//console.log($(this).val());\r\n\t\t$(this).parent().removeClass(\"error-text\").find(\".orange\").hide();\r\n\t\tif( $(this).val()==\"\" ){\r\n\t\t\t$(this).siblings(\".iptem\").show();\r\n\t\t}\r\n\t\t$(this).parents(\"li\").removeClass(\"enter-focus\");\r\n\t});\r\n\t$(\".iptem\").on(click, function(){\r\n\t\t$(this).siblings(\"input\").focus();\r\n\t});\r\n\r\n\t//输入框提示\r\n\t$(\".inputFocus\").focus(function(){\r\n\t\t$(this).addClass(\"focus\");\r\n\t\tif( $(this).val()==this.defaultValue ){  \r\n\t\t\t$(this).val(\"\");           \r\n\t\t} \r\n\t}).blur(function(){\r\n\t\tif ( $(this).val()=='' ) {\r\n\t\t\t$(this).val(this.defaultValue);\r\n\t\t\t$(this).removeClass(\"focus\");\r\n\t\t}\r\n\t});\r\n\r\n\t\r\n\r\n\t// 单选框\r\n\t$(\".box-check\").on(click, function(){\r\n\t\t$(this).parent().parent().find(\".box-check\").removeClass(\"current\");\r\n\t\t$(this).addClass(\"current\");\r\n\t\t$(this).parent().parent().parent().find(\"input\").val($(this).next(\".blank1\").attr(\"name\"));\r\n\t});\r\n\r\n\t// 复选框\r\n\t$(\".lab\").on(click, function(){\r\n\t\tif( $(this).hasClass(\"current\") ){\r\n\t\t\t$(this).parent().find(\"input\").val(\"0\");\r\n\t\t\t$(this).removeClass(\"current\");\r\n\t\t}else{\r\n\t\t\t$(this).addClass(\"current\");\r\n\t\t\t$(this).parent().find(\"input\").val(\"1\");\r\n\t\t}\r\n\t});\r\n\r\n\t// 隐私设置\r\n\t$(\".i-side p > label\").on(click, function(){\r\n\t\t$(this).parents('.i-side').find(\".label\").removeClass(\"current\");\r\n\t\t$(this).addClass(\"current\");\r\n\t\t$(this).parents('.i-side').find(\".follow\").hide();\r\n\t\t$(this).parent().find(\".follow\").show();\r\n\t});\r\n\r\n\t$(\".follow label\").on(click, function(){\r\n\t\t$(this).addClass(\"current\").siblings().removeClass(\"current\");;\r\n\t\tif( $(this).attr(\"f\")==\"Only\" ){\r\n\t\t\t$(this).parent().find(\".inp\").removeAttr(\"disabled\");\r\n\t\t}else if( $(this).attr(\"f\")==\"All\" ){\r\n\t\t\t$(this).parent().find(\".inp\").attr({\"disabled\":\"disabled\"});\r\n\t\t}\r\n\t});\r\n\r\n\twindow.ColseMessage = function(_this,_id){\r\n\t\t$(_this).parents(_id).hide();\r\n\t}\r\n\r\n\t// 导航二级\r\n\tvar indexNavNum = 0;\r\n\t$(\"#divGoodsSort\").hover(function(){\r\n\t\tif( $(this).find(\"#divSortList\").is(\":hidden\") ){\r\n\t\t\tindexNavNum = 1;\r\n\t\t};\r\n\t\t$(this).find(\"#divSortList\").show();\r\n\t},function(){\r\n\t\tif( indexNavNum==0 ) return;\r\n\t\t$(this).find(\"#divSortList\").hide();\r\n\t});\r\n\t\r\n\r\n\tvar rules = [{\r\n\t    reg:/\\d+/,\r\n\t    weight:2\r\n\t},{\r\n\t    reg:/[a-z]+/,\r\n\t    weight:4\r\n\t},{\r\n\t    reg:/[A-Z]+/,\r\n\t    weight:8\r\n\t},{\r\n\t    reg:/[~!@#\\$%^&*\\(\\)\\{\\};,.\\?\\/'\"]/,\r\n\t    weight:16\r\n\t}];\r\n\r\n\tvar strongLevel = {\r\n\t    '1':'弱',\r\n\t    '2':'中',\r\n\t    '3':'强'\r\n\t};\r\n\twindow.passwordsFun = function(passwords){\r\n\t    var weight=0;\r\n\t    for(var j=rules.length-1;j>=0;j--){\r\n\t        if(rules[j].reg.test(passwords)){\r\n\t            weight|=rules[j].weight;\r\n\t        }\r\n\t    }\r\n\t    var key='3';\r\n\t    if(weight<=5)key='1';\r\n\t    else if(weight<=14)key='2';\r\n\t    return strongLevel[key];\r\n\t}\r\n\r\n\r\n\t// 累积参与人次\r\n\ttotalbuycountFun();\r\n\tfor( var i=0; i<9; i++ ){\r\n\t\t$(\"#ulHTotalBuy .num cite\").append(\"<em>\"+(i+1)+\"</em>\")\r\n\t}\r\n\tfunction totalbuycountFun(){\r\n\t\t$.ajax({\r\n            url: \"/order/service/totalbuycount\",\r\n            type: 'GET',\r\n            dataType: 'json',\r\n            data: {}\r\n        })\r\n        .done(function(data) {\r\n            // //console.log(data);\r\n            if( data.success ){\r\n            \tvar fundTotal = data.result.fundTotal.toString();\r\n            \t// var fundTotal = \"16\";\r\n            \tvar fundTotalLen = fundTotal.length;\r\n            \tvar numLen = $(\"#ulHTotalBuy .num\").length;\r\n            \tfor( var i=0; i<(numLen-fundTotalLen); i++ ){\r\n\t\t\t\t\tfundTotal = \"0\"+fundTotal;\r\n\t\t\t\t}\r\n            \t// //console.log(fundTotal,fundTotalLen,numLen)\r\n \t\t\t\tfor ( var i=1; i<=numLen; i++ ) {\r\n\t\t\t\t\tvar substringVar = fundTotal.substring(i-1,i);\r\n\t\t\t\t\t$(\"#ulHTotalBuy .num\").eq(i-1).find(\"cite\").animate({\"top\":\"-\"+(substringVar*27)+\"px\"},1000);\r\n\t\t\t\t\t// //console.log(i,substringVar);\r\n\t\t\t\t};\r\n\r\n            }else{\r\n                alert(data.error_msg);\r\n            }\r\n        })\r\n        .fail(function() {\r\n            // //alert('网络错误！')\r\n        })\r\n        .always(function() {\r\n\r\n        });\r\n\t}\r\n\r\n\t// 检查是否登陆\r\n\twindow.logoFun = function(Callback){\r\n\t\t$.ajax({\r\n            url: \"/member/service/checklogin\",\r\n            type: 'POST',\r\n            dataType: 'json',\r\n            data: {}\r\n        })\r\n        .done(function(data) {\r\n            //console.log(data);\r\n            if( data.success ){\r\n            \tlogoTrue = true;\r\n            \tCallback(true);\r\n            }else{\r\n            \tlogoTrue = false;\r\n                Callback(false);\r\n            }\r\n        })\r\n        .fail(function() {\r\n            //alert('网络错误！')\r\n        })\r\n        .always(function() {\r\n\r\n        });\r\n\t}\r\n\tlogoFun(function(e){  //个人信息\r\n\t\t$.ajax({\r\n            url: \"/member/service/logininfo\",\r\n            type: 'POST',\r\n            dataType: 'json',\r\n            data: {}\r\n        })\r\n        .done(function(data) {\r\n            //console.log(data);\r\n            if( data.success ){\r\n            \tmyuserID = data.result.userID//: \"56761153887c22184e8b45b5\"\r\n\t\t\t\tmyuserPhoto = data.result.userPhoto//: \"/upload/member/avatar/UserFace-160-0000.jpg\"\r\n\t\t\t\tmyuserWeb = data.result.userWeb//: \"56761153887c22184e8b45b5\"\r\n\t\t\t\tmyusername = data.result.username//: \"15821039514\"\r\n            }\r\n        });\r\n\t});\r\n\r\n\r\n\r\n\t// 微信二维码提示\r\n\t$(\"#qr_box\").mouseover(function(){\r\n\t\t$(\"#guide\").animate({\"marginLeft\":\"149px\",\"opacity\":\"1\"},1000).show();\r\n\t});\r\n\t// $(\"#qr_box\").mouseout(function(){\r\n\t// \t$(\"#guide\").animate({\"marginLeft\":\"-101px\",\"opacity\":\"0\"},1000,function(){//console.log(2)});\r\n\t// });\r\n\r\n\t// 返回顶部\r\n\t$(\".u-float-list\").on(\"click\",function(){\r\n\t\t$(document).scrollTop(0);\r\n\t});\r\n\r\n\t// 倒计时\r\n\tvar setT;\r\n\twindow.setIntervalFun = function(_TIME,Callback){\r\n\t\tclearInterval(setT);\r\n\t\tsetT = setInterval(function(){\r\n\t\t\t_TIME--;\r\n\t\t\tCallback(_TIME);\r\n\t\t\t//console.log(_TIME);\r\n\t\t\tif( _TIME<=0 ){\r\n\t\t\t\tclearInterval(setT);\r\n\t\t\t}\r\n\t\t},1000);\r\n\t}\r\n\r\n\t// 发送验证码接口\r\n\twindow.ajaxCodeFun = function(dataPOST,ajaxNum,Callback){\r\n\t\tvar ajaxURL;\r\n\t\tvar dataObj; \r\n\t\tif( ajaxNum==0 ){\r\n\t\t\tajaxURL = \"/service/vcode/sendcodeemail\";\r\n\t\t\tdataObj = {\r\n\t\t\t\tuserEmail:dataPOST\r\n\t\t\t}\r\n\t\t}else if( ajaxNum==1 ){\r\n\t\t\tajaxURL = \"/service/vcode/sendcodesms\";\r\n\t\t\tdataObj = {\r\n\t\t\t\tmobile:dataPOST\r\n\t\t\t}\r\n\t\t}\r\n\t\t$.ajax({\r\n\t        url: ajaxURL,\r\n\t        type: 'POST',\r\n\t        dataType: 'json',\r\n\t        data: dataObj\r\n\t    })\r\n\t    .done(function(data) {\r\n\t        //console.log(data);\r\n\t        Callback();\r\n\t    })\r\n\t    .fail(function() {\r\n\t        //alert('网络错误！')\r\n\t    })\r\n\t    .always(function() {\r\n\t    \tajaxlack = true;\r\n\t    });\t\r\n\t}\r\n\r\n\t// 账户是否存在函数\r\n\twindow.checkEmailMobileFun = function(dataPOST,ajaxNum,Callback){\r\n\t\tvar ajaxURL;\r\n\t\tvar dataObj;\r\n\t\tif( ajaxNum==0 ){\r\n\t\t\tajaxURL = \"/member/service/checkmobile\";\r\n\t\t\tdataObj = {\r\n\t\t\t\tmobile:dataPOST\r\n\t\t\t}\r\n\t\t}else if( ajaxNum==1 ){\r\n\t\t\tajaxURL = \"/member/service/checkemail\";\r\n\t\t\tdataObj = {\r\n\t\t\t\temail:dataPOST\r\n\t\t\t}\r\n\t\t}\r\n\t\t$.ajax({\r\n\t        url: ajaxURL,\r\n\t        type: 'POST',\r\n\t        dataType: 'json',\r\n\t        data: dataObj\r\n\t    })\r\n\t    .done(function(data) {\r\n\t        //console.log(data);\r\n\t        Callback(data);\r\n\t    })\r\n\t    .fail(function() {\r\n\t        //alert('网络错误！')\r\n\t    })\r\n\t    .always(function() {\r\n\r\n\t    });\t\r\n\t}\r\n\r\n\twindow.yellowTxt = function (size){\r\n\t\tvar txt = [];\r\n\t\tif( size==2 ){\r\n\t\t\ttxt = ['100','强'];\r\n\t\t}else if( size==1 ){\r\n\t\t\ttxt = ['66.66','中'];\r\n\t\t}else{\r\n\t\t\ttxt = ['33.33','弱'];\r\n\t\t}\r\n\t\treturn '<p class=\"yellow\"><strong>安全强度：</strong><cite><dfn style=\"width:'+txt[0]+'%;\"></dfn></cite>'+txt[1]+'</p>';\r\n\t}\r\n\r\n\t// 分页\r\n\twindow.PageCreate = function(_ID,total,pageSize,pageNumber,Callback){\r\n\t\tvar container = $(_ID);\r\n\t\tcontainer.hide();\r\n\t\tif( (total/pageSize)<=1 ){\r\n\t\t\tCallback();\r\n\t\t\treturn;\r\n\t\t}\r\n        var sources = function(){\r\n            var result = [];\r\n            for(var i = 1; i <= total; i++){\r\n                result.push(i);\r\n            }\r\n            return result;\r\n        }();\r\n        var options = {\r\n            dataSource: sources,\r\n            showGoInput: true,\r\n            showGoButton: true,\r\n            pageNumber: pageNumber,\r\n            pageSize: pageSize,\r\n            callback: function(response, pagination){\r\n                Callback(pagination.pageNumber);\r\n            },\r\n        };\r\n        container.show();\r\n        container.pagination(options);\r\n    }\r\n\r\n    // 倒计时\r\n    window.CountdownFun = function(id,closeTime,callback){\r\n        $(id).each(function () {\r\n            var displayTime;\r\n            function showTime(){\r\n                var day = Math.floor(closeTime / (1000 * 60 * 60 * 24));\r\n                var hour = Math.floor(closeTime / (3600)) - (day * 24);\r\n                var minute = Math.floor(closeTime / (60)) - (day * 24 * 60) - (hour * 60);\r\n                var second = Math.floor(closeTime) - (day * 24 * 60 * 60) - (hour * 60 * 60) - (minute * 60);\r\n                closeTime -= 0.01;\r\n                if( closeTime<=0 ){\r\n                    clearInterval(displayTime);\r\n                    callback(true,id);\r\n                    return;\r\n                }\r\n                var hm = closeTime.toFixed(2).split(\".\")[1];            \r\n                callback([(minute<=9 ? \"0\"+minute : minute),(second<=9 ? \"0\"+second : second),hm],id);\r\n            }\r\n            showTime();\r\n            displayTime = setInterval(function(){\r\n                showTime();\r\n            }, 10);\r\n        });\r\n    }\r\n\r\n    // 搜索\r\n    $(\"#btnHSearch\").on(\"click\",function(){\r\n    \tvar $txtHSearch = $(\"#txtHSearch\");\r\n    \tvar val = $txtHSearch.val();\r\n    \tif( $txtHSearch.hasClass(\"focus\") ){\r\n    \t\twindow.location.href = \"/yungou/product/search?q=\"+val;\r\n    \t}else{\r\n    \t\t$txtHSearch.focus();\r\n    \t}\r\n    });\r\n\r\n    // 弹出登录\r\n\t$(document).on(\"click\",\"#a_login, .tan_login\",function(){\r\n    \ttanLoginFun(url);\r\n    });\r\n\r\n\t// 时间转时间戳\r\n\twindow.timeGetTimeFun = function(_time){\r\n\t\tvar str = _time; // 日期字符串\r\n\t\tstr = str.replace(/-/g,'/'); // 将-替换成/，因为下面这个构造函数只支持/分隔的日期字符串\r\n\t\t//console.log(str);\r\n\t\tvar date = new Date(str); // 构造一个日期型数据，值为传入的字符串\r\n\t\tvar time = date.getTime();\r\n\t\treturn time;\r\n\t}\r\n\r\n\t// 分享\r\n\twindow.heyShare = function(web,content,title,url,msg) {\r\n\t    switch (web) {\r\n\t        case \"tsina\"://分享新浪微博\r\n\t            window.open(\"http://v.t.sina.com.cn/share/share.php?title=\" + encodeURIComponent(content) + \"&url=\" + encodeURIComponent(url) + \"\");\r\n\t            break;\r\n\t        case \"tqq\": //分享到qq微博\r\n\t            javascript: (function() { window.open('http://v.t.qq.com/share/share.php?title=' + encodeURIComponent(content) + '&url=' + encodeURIComponent(url) + '&source=bookmark', '_blank', 'width=610,height=350'); })();\r\n\t            break;\r\n\t\t\tcase \"qzone\"://分享到qq空间\r\n\t\t\t \twindow.open(\"http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?title=\" + encodeURIComponent(content) + \"&url=\" + encodeURIComponent(url) + \"\");\r\n\t\t\t\tbreak;\r\n\t    }\r\n\t}\r\n\r\n\r\n\t// 复制代码\r\n\twindow.oCopy = function(obj){\r\n\t\tvar e=document.getElementById(\"txtInfo\");//对象是contents \r\n        e.select(); //选择对象 \r\n        document.execCommand(\"Copy\"); //执行浏览器复制命令\r\n\t}\r\n\r\n\r\n\t\r\n\r\n\r\n\r\n});"},{"id":4,"identifier":"D:\\云购\\public\\js\\app\\CartList.js","name":"./js/app/CartList.js","index":4,"index2":3,"size":4179,"cacheable":true,"built":false,"optional":false,"prefetched":false,"chunks":[0],"assets":[],"issuer":"D:\\云购\\public\\js\\app\\cart.main.js","failed":false,"errors":0,"warnings":0,"reasons":[{"moduleId":0,"moduleIdentifier":"D:\\云购\\public\\js\\app\\cart.main.js","module":"./js/app/cart.main.js","moduleName":"./js/app/cart.main.js","type":"cjs require","userRequest":"./CartList","loc":"2:0-21"}],"source":"$(function(){\r\n\r\n\t// 人气加入购物车\r\n\t$(document).on(\"click\",\".u-cart-add\",function(){\r\n\t\tvar codeid = $(this).parents(\".f-recomm-list\").attr('codeid');\r\n\t\tcartAddFun(codeid,1,function(data){\r\n            FailDialog(160,60,'添加成功！',url);\r\n        });\r\n\t});\r\n\r\n\r\n\t// 增加商品数量\r\n\t$(\".z-plus\").on(\"click\",function(){\r\n\t\tvar $this = $(this);\r\n\t\tvar val = eval($this.siblings(\"input\").val())+1;\r\n\t\tvar maxnum = eval($this.siblings(\"input\").attr(\"maxnum\"));\r\n\t\tvar goodsid = $this.siblings(\"input\").attr(\"goodsid\");\r\n\t\tif( val>maxnum ) return;\r\n\t\tcartNumFun(goodsid,val,function(data){\r\n\t\t\t$this.siblings(\"input\").val(val);\r\n\t\t\t$this.parents(\"dd\").find(\".orange\").html('￥'+(val)+'.00');\r\n\t\t\tcartListNum();\r\n\t\t});\r\n\t});\r\n\r\n\t// 减少商品数量\r\n\t$(\".z-less\").on(\"click\",function(){\r\n\t\tvar $this = $(this);\r\n\t\tvar val = eval($this.siblings(\"input\").val())-1;\r\n\t\tvar goodsid = $this.siblings(\"input\").attr(\"goodsid\");\r\n\t\tif( val<1 ) return;\r\n\t\tcartNumFun(goodsid,val,function(){\r\n\t\t\t$this.siblings(\"input\").val(val);\r\n\t\t\t$this.parents(\"dd\").find(\".orange\").html('￥'+(val)+'.00');\r\n\t\t\tcartListNum();\r\n\t\t});\r\n\t});\r\n\r\n\t// 选择商品\r\n\t$(\".z-check\").on(\"click\",function(){\r\n\t\tvar $this = $(this);\r\n\t\tif( $this.find(\"b\").hasClass(\"z-comms\") ){\r\n\t\t\t$this.html('');\r\n\t\t}else{\r\n\t\t\t$this.html('<b class=\"z-comms\"></b>');\r\n\t\t}\r\n\t\tcartListNum();\r\n\t});\r\n\r\n\t// 输入价格\r\n\t$(\".cartNum\").on(\"keyup\", function(){\r\n\t\tvar $this = $(this);\r\n\t\tvar goodsid = $(this).attr(\"goodsid\");\r\n\t\tvar val = eval($this.val());\r\n\t\tif( val<=0 ) return;\r\n\t\tcartNumFun(goodsid,val,function(){\r\n\t\t\t$this.parents(\"dd\").find(\".orange\").html('￥'+(val)+'.00');\r\n\t\t\tcartListNum();\r\n\t\t});\r\n\t});\r\n\r\n\t// 全选\r\n\t$(\"#sSelAll\").on(\"click\",function(){\r\n\t\tvar $this = $(this);\r\n\t\tif( $this.find(\"b\").hasClass(\"z-comms\") ){\r\n\t\t\t$(\".z-check\").html('<b class=\"z-comms\"></b>');\r\n\t\t}else{\r\n\t\t\t$(\".z-check\").html('');\r\n\t\t\t$(\"#hidTotalMoney\").val(0);\r\n\t\t}\r\n\t\tcartListNum();\r\n\t});\r\n\t$(\"#btnSelAll\").on(\"click\",function(){\r\n\t\tif( $(this).parent().prev().find(\"b\").hasClass(\"z-comms\") ){\r\n\t\t\t$(\".z-check\").html('');\r\n\t\t\t$(\"#hidTotalMoney\").val(0);\r\n\t\t}else{\r\n\t\t\t$(\".z-check\").html('<b class=\"z-comms\"></b>');\r\n\t\t}\r\n\t\tcartListNum();\r\n\t});\r\n\r\n\t// 删除\r\n\t$(\"#btnDelete\").on(\"click\",function(){\r\n\t\t\r\n\t});\r\n\r\n\t// 循环购物车数量\r\n\tfunction cartListNum(){\r\n\t\tvar $dd = $(\"#dlCartList dd\");\r\n\t\tvar ddNum = $dd.length;\r\n\t\tvar val = 0;\r\n\t\tfor( var i=0; i<ddNum; i++ ) {\r\n\t\t\tif( $dd.eq(i).find(\"b\").hasClass(\"z-comms\") ){\r\n\t\t\t\tval += eval($dd.eq(i).find(\".cartNum\").val());\r\n\t\t\t}\r\n\t\t}\r\n\t\t$(\"#hidTotalMoney\").val(val);\r\n\t\t$(\"#iTotalMoney\").html('￥'+val+'.00');\r\n\t}\r\n\r\n\t// 数量增加和减少函数\r\n\tfunction addRemoveNum(_this,e){\r\n\t\tif( !_this.parents('dd').find('b').hasClass('z-comms') ) return;\r\n\r\n\t\tif( e=='add' ){\r\n\t\t\t$(\"#hidTotalMoney\").val(eval($(\"#hidTotalMoney\").val())+1);\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\t$(\"#hidTotalMoney\").val(eval($(\"#hidTotalMoney\").val())-1);\r\n\t}\r\n\r\n\t$(\"#divRecList .f-recomm-list\").hover(function(){\r\n\t\t$(this).addClass(\"f-recomm-hover\");\r\n\t\t$(this).append('<div class=\"z-mask\"></div><a href=\"javascript:;\" class=\"u-cart-add transparent-png\"></a>');\r\n\t},function(){\r\n\t\t$(this).removeClass(\"f-recomm-hover\");\r\n\t\t$(this).find(\".z-mask,.u-cart-add\").remove();\r\n\t});\r\n\r\n\t$(\"#divBankList cite span\").on(\"click\",function(){\r\n\t\tvar index = $(this).index();\r\n\t\t$(this).addClass(\"current\").siblings().removeClass(\"current\");\r\n\t\tif( index==0 ){\r\n\t\t\t$(\"#dlCXK\").show();\r\n\t\t\t$(\"#dlXYK\").hide();\r\n\t\t}else{\r\n\t\t\t$(\"#dlCXK\").hide();\r\n\t\t\t$(\"#dlXYK\").show();\r\n\t\t}\r\n\t});\r\n\r\n\t// $(\"#submitOK\").on(\"click\", function(){\r\n\t// \ttanFun(490,237,'<div class=\"payment_ts\">'\r\n //                +'<h3><s class=\"z-arrows\"></s>请在新开窗口完成支付！</h3>'\r\n //                +'<ul>'\r\n //                    +'<li class=\"payment_ts_con\">如您的浏览器不支持，请复制以下链接到IE浏览器打开，完成付款后跟据您的情况进行以下操作！</li>'\r\n //                    +'<li class=\"payment_ts_links\">http://cart.1yyg.com/payment.do</li>'\r\n //                    +'<li class=\"payment_ts_but\"><a id=\"btnBuyOk\" href=\"javascript:gotoClick();\" class=\"pay_tipsbut\">完成支付</a><a id=\"btnReSelect\" href=\"javascript:gotoClick();\" class=\"blue\">支付遇到问题？返回重新选择</a></li>'\r\n //                +'</ul>'\r\n //            +'</div>');\r\n\t// });\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n})"},{"id":5,"identifier":"D:\\云购\\public\\js\\app\\cartAjax.js","name":"./js/app/cartAjax.js","index":5,"index2":5,"size":9247,"cacheable":true,"built":false,"optional":false,"prefetched":false,"chunks":[0,1,2,3,5,6,9,11],"assets":[],"issuer":"D:\\云购\\public\\js\\app\\cart.main.js","failed":false,"errors":0,"warnings":0,"reasons":[{"moduleId":0,"moduleIdentifier":"D:\\云购\\public\\js\\app\\cart.main.js","module":"./js/app/cart.main.js","moduleName":"./js/app/cart.main.js","type":"cjs require","userRequest":"./cartAjax","loc":"3:0-21"},{"moduleId":0,"moduleIdentifier":"D:\\云购\\public\\js\\app\\detail.main.js","module":"./js/app/detail.main.js","moduleName":"./js/app/detail.main.js","type":"cjs require","userRequest":"./cartAjax","loc":"8:0-21"},{"moduleId":0,"moduleIdentifier":"D:\\云购\\public\\js\\app\\help.main.js","module":"./js/app/help.main.js","moduleName":"./js/app/help.main.js","type":"cjs require","userRequest":"./cartAjax","loc":"2:0-21"},{"moduleId":0,"moduleIdentifier":"D:\\云购\\public\\js\\app\\lottery.main.js","module":"./js/app/lottery.main.js","moduleName":"./js/app/lottery.main.js","type":"cjs require","userRequest":"./cartAjax","loc":"10:0-21"},{"moduleId":0,"moduleIdentifier":"D:\\云购\\public\\js\\app\\memberindex.main.js","module":"./js/app/memberindex.main.js","moduleName":"./js/app/memberindex.main.js","type":"cjs require","userRequest":"./cartAjax","loc":"6:0-21"},{"moduleId":0,"moduleIdentifier":"D:\\云购\\public\\js\\app\\post.main.js","module":"./js/app/post.main.js","moduleName":"./js/app/post.main.js","type":"cjs require","userRequest":"./cartAjax","loc":"7:0-21"},{"moduleId":0,"moduleIdentifier":"D:\\云购\\public\\js\\app\\uMy.main.js","module":"./js/app/uMy.main.js","moduleName":"./js/app/uMy.main.js","type":"cjs require","userRequest":"./cartAjax","loc":"7:0-21"},{"moduleId":0,"moduleIdentifier":"D:\\云购\\public\\js\\app\\index.main.js","module":"./js/app/index.main.js","moduleName":"./js/app/index.main.js","type":"cjs require","userRequest":"./cartAjax","loc":"6:0-21"}],"source":"require(\"../libs/jquery.fly.min\"); //购物车飞入效果\r\n$(function(){\r\n\r\n    // 首页加入购物车\r\n    $(\".u-cart\").on(\"click\",function(){\r\n        var addcar = $(this);\r\n        var codeid = addcar.attr('codeid');\r\n        var img = addcar.attr('_src');\r\n        var $cartNumID = $(\"#rightCartNum\");\r\n        cartAddFun(codeid,1,function(data){\r\n            var cartNum = eval($cartNumID.html())+1;\r\n            $cartNumID.show().html(cartNum);  \r\n        });\r\n        flyFun(img);\r\n    });\r\n\r\n    // 详细页加入购物车\r\n    $(\".consume-addcar\").on(\"click\",function(){\r\n        var addcar = $(this);\r\n        var goodsid = addcar.attr('goodsid');\r\n        var img = addcar.attr('_src');\r\n        var $cartNumID = $(\"#rightCartNum\");\r\n        var num = $(\".input-num\").val()\r\n        cartNumFun(goodsid,num,function(data){\r\n            rightcartlabelFun();\r\n        });\r\n        flyFun(img);\r\n    });\r\n\r\n    // 购物车效果\r\n    function flyFun(img){\r\n        var scrolltop = $(document).scrollTop();\r\n        var offset = $(\"#end\").offset();\r\n        var flyer = $('<img class=\"u-flyer\" src=\"'+img+'\" width=\"50\" height=\"50\" style=\"z-index:9999;border-radius: 50%;\">');\r\n        flyer.fly({\r\n            start: {\r\n                left: event.pageX,\r\n                top: (event.pageY-scrolltop)\r\n            },\r\n            end: {\r\n                left: offset.left+10,\r\n                top: (offset.top+10-scrolltop),\r\n                width: 6,\r\n                height: 6\r\n            },\r\n            onEnd: function(){\r\n                this.destory();\r\n            }\r\n        });\r\n    }\r\n\r\n    // 立即结算\r\n    $(\"#btnGoPay\").on(\"click\",function(){\r\n        if( logoTrue ){\r\n            var goods_ids = checkoutGoodsIds();\r\n            console.log(goods_ids);\r\n            $.ajax({\r\n                url: \"/order/cart/checkout\",\r\n                type: 'POST',\r\n                dataType: 'json',\r\n                data: { goods_ids:goods_ids }\r\n            })\r\n            .done(function(data) {\r\n                console.log(data);\r\n                if( data.success ){\r\n                    window.location.href = '/yungou/cart/payment?pay_sn='+data.result;\r\n                }else{\r\n                    alert(data.error_msg);\r\n                }\r\n            })\r\n            .fail(function() {\r\n                //alert('网络错误！')\r\n            })\r\n            .always(function() {\r\n\r\n            });\r\n        }else{\r\n            tanLoginFun(\"/yungou/cart/list\");\r\n        }\r\n    });\r\n\r\n    // 立即支付\r\n    $(\"#submitOK\").on(\"click\",function(){\r\n        if( logoTrue ){\r\n            var pay_sn = $(\"#hidCheckSN\").val();\r\n            var payway = 'weixin';\r\n            var integral = 0;\r\n            var predeposit = 1;\r\n            $.ajax({\r\n                url: \"/order/pay/create\",\r\n                type: 'POST',\r\n                dataType: 'json',\r\n                data: { pay_sn:pay_sn,payway:payway,integral:integral,predeposit:predeposit } //points_used=1&predeposit_used=1\r\n            })\r\n            .done(function(data) {\r\n                console.log(data);\r\n                if( data.success ){\r\n                    out_trade_no = data.result.out_trade_no;\r\n                    pay_state = data.result.pay_state;\r\n                    pay_url = data.result.pay_url;\r\n                    // if( pay_state ){\r\n                    //     window.location.href = '/yungou/cart/shopok?id='+out_trade_no;\r\n                    //     return;\r\n                    // }\r\n                    tanFun(490,237,'<div class=\"payment_ts\">'\r\n                        +'<h3><s class=\"z-arrows\"></s>请在新开窗口完成支付！</h3>'\r\n                        +'<ul>'\r\n                            +'<li class=\"payment_ts_con\">如您的浏览器不支持，请复制以下链接到IE浏览器打开，完成付款后跟据您的情况进行以下操作！</li>'\r\n                            +'<li class=\"payment_ts_links\">'+url+'</li>'\r\n                            +'<li class=\"payment_ts_but\"><a id=\"btnBuyOk\" href=\"javascript:gotoClick();\" class=\"pay_tipsbut\">完成支付</a><a id=\"btnReSelect\" href=\"javascript:gotoClick();\" class=\"blue\">支付遇到问题？返回重新选择</a></li>'\r\n                        +'</ul>'\r\n                    +'</div>');\r\n                    getpayresultFun();\r\n                    window.open(pay_url);\r\n                }else{\r\n                    alert(data.error_msg);\r\n                }\r\n            })\r\n            .fail(function() {\r\n                //alert('网络错误！')\r\n            })\r\n            .always(function() {\r\n\r\n            });\r\n        }else{\r\n            tanLoginFun(\"/yungou/cart/list\");\r\n        }\r\n    });\r\n    \r\n\r\n    function getpayresultFun(){\r\n        $.ajax({\r\n            url: \"/order/pay/getpayresult\",\r\n            type: 'POST',\r\n            dataType: 'json',\r\n            data: { id:out_trade_no } \r\n        })\r\n        .done(function(data) {\r\n            console.log(data);\r\n            if( data.success ){\r\n                // window.location.href = '/yungou/cart/shopok';\r\n                window.location.href = '/yungou/cart/shopok?id='+out_trade_no;\r\n            }else{\r\n                getpayresultFun();\r\n            }\r\n        })\r\n        .fail(function() {\r\n            //alert('网络错误！')\r\n        })\r\n        .always(function() {\r\n\r\n        });\r\n    }\r\n\r\n\r\n\r\n    // 获取勾选商品id\r\n    function checkoutGoodsIds(){\r\n        var $dd = $(\"#dlCartList dd\");\r\n        var ddNum = $dd.length;\r\n        var id = '';\r\n        for( var i=0; i<ddNum; i++ ) {\r\n            if( $dd.eq(i).find(\"b\").hasClass(\"z-comms\") ){\r\n                if( id==\"\" ){\r\n                    id = $dd.eq(i).attr(\"goodsid\");\r\n                }else{\r\n                    id += \",\"+$dd.eq(i).attr(\"goodsid\");\r\n                }\r\n            }\r\n        }\r\n        return id;\r\n    }\r\n\r\n    // 详细页立即购物\r\n    $(\".consume-now\").on(\"click\",function(){\r\n        var num = $(\".input-num\").val();\r\n        var goodsid = $(this).attr(\"goodsid\");\r\n        cartAddFun(goodsid,num,function(){\r\n            window.location.href = '/yungou/cart/list';\r\n        });\r\n    });\r\n\r\n    // 单个商品删除\r\n    $(\".cart_delete\").on(\"click\",function(){\r\n        var goodsid = $(this).parents(\".dd\").attr(\"goodsid\");\r\n        $(\".f-box-prompt\").remove();\r\n        $(\"#divCartBox\").append('<div class=\"z-popUp f-box-prompt\" style=\"top:'+($(this).parents(\".dd\").position().top+70)+'px\">'\r\n                +'<p>确定要删除吗？</p>'\r\n                +'<a href=\"javascript:;\" title=\"确定\" class=\"u-btn-determine cart_delete_determine\" goodsid=\"'+goodsid+'\">确定</a>'\r\n                +'<a href=\"javascript:;\" title=\"取消\" class=\"u-btn-cancel cart_delete_cancel\">取消</a>'\r\n                +'<b><s></s></b>'\r\n            +'</div>');\r\n    });\r\n\r\n    // 删除确认删除弹出\r\n    $(document).on(\"click\",\".cart_delete_cancel\",function(){\r\n        $(\".f-box-prompt\").remove();\r\n    });\r\n\r\n    // 确认删除\r\n    $(document).on(\"click\",\".cart_delete_determine\",function(){\r\n        var goodsid = $(this).attr(\"goodsid\");\r\n        cartClearFun(goodsid,function(){\r\n            window.location.reload();\r\n        });\r\n    });\r\n\r\n\r\n    // 删除选中商品\r\n    $(\"#btnDelete\").on(\"click\",function(){\r\n        // 循环购物车数量\r\n        var $dd = $(\"#dlCartList dd\");\r\n        var ddNum = $dd.length;\r\n        var goodsid = '';\r\n        for( var i=0; i<ddNum; i++ ) {\r\n            if( $dd.eq(i).find(\"b\").hasClass(\"z-comms\") ){\r\n                goodsid=='' ? goodsid = $dd.eq(i).attr(\"goodsid\") : goodsid += \",\"+$dd.eq(i).attr(\"goodsid\");\r\n            }\r\n        }\r\n        console.log(goodsid);\r\n        tanFun(398,197,'<div class=\"z-popUp z-pop-box\">'\r\n            +'<span class=\"gray3\">确定要删除所选的商品？</span>'\r\n            +'<a href=\"javascript:gotoClick();\" title=\"取消\" class=\"z-btn-cancel\">取消</a>'\r\n            +'<a href=\"javascript:;\" title=\"确定\" goodsid=\"'+goodsid+'\" class=\"z-btn-determine cart_delete_determine\">确定</a>'\r\n            +'</div>');\r\n    });\r\n\r\n\r\n\r\n\r\n\r\n});\r\n\r\n// 购物车数量修改\r\nwindow.cartNumFun = function(goodsid,num,Callback){\r\n    $.ajax({\r\n        url: \"/order/cart/updatenum\",\r\n        type: 'POST',\r\n        dataType: 'json',\r\n        data: { goods_id:goodsid, quantity:num }\r\n    })\r\n    .done(function(data) {\r\n        console.log(data);\r\n        if( data.success ){\r\n            Callback(data);\r\n        }else{\r\n            alert(data.error_msg);\r\n        }\r\n    })\r\n    .fail(function() {\r\n        //alert('网络错误！')\r\n    })\r\n    .always(function() {\r\n\r\n    });\r\n}\r\n\r\n\r\n// 增加商品  购物车\r\nwindow.cartAddFun = function(goodsid,num,Callback){\r\n    $.ajax({\r\n        url: \"/order/cart/add\",\r\n        type: 'POST',\r\n        dataType: 'json',\r\n        data: { goods_id:goodsid, quantity:num }\r\n    })\r\n    .done(function(data) {\r\n        //console.log(data);\r\n        if( data.success ){\r\n            Callback(data);\r\n        }else{\r\n            alert(data.error_msg);\r\n        }\r\n    })\r\n    .fail(function() {\r\n        // //alert('网络错误！')\r\n    })\r\n    .always(function() {\r\n        ajaxlack = true;\r\n    });\r\n}\r\n\r\n// 删除购物车商品\r\nwindow.cartClearFun = function(goodsid,Callback){\r\n    $.ajax({\r\n        url: \"/order/cart/clear\",\r\n        type: 'POST',\r\n        dataType: 'json',\r\n        data: { goods_ids:goodsid }\r\n    })\r\n    .done(function(data) {\r\n        console.log(data);\r\n        if( data.success ){\r\n            Callback(data);\r\n        }else{\r\n            alert(data.error_msg);\r\n        }\r\n    })\r\n    .fail(function() {\r\n        //alert('网络错误！')\r\n    })\r\n    .always(function() {\r\n\r\n    });\r\n}"},{"id":6,"identifier":"D:\\云购\\public\\js\\libs\\jquery.fly.min.js","name":"./js/libs/jquery.fly.min.js","index":6,"index2":4,"size":1861,"cacheable":true,"built":false,"optional":false,"prefetched":false,"chunks":[0,1,2,3,5,6,9,11],"assets":[],"issuer":"D:\\云购\\public\\js\\app\\lottery.main.js","failed":false,"errors":0,"warnings":0,"reasons":[{"moduleId":0,"moduleIdentifier":"D:\\云购\\public\\js\\app\\lottery.main.js","module":"./js/app/lottery.main.js","moduleName":"./js/app/lottery.main.js","type":"cjs require","userRequest":"../libs/jquery.fly.min","loc":"4:0-33"},{"moduleId":5,"moduleIdentifier":"D:\\云购\\public\\js\\app\\cartAjax.js","module":"./js/app/cartAjax.js","moduleName":"./js/app/cartAjax.js","type":"cjs require","userRequest":"../libs/jquery.fly.min","loc":"1:0-33"}],"source":"/*! fly - v1.0.0 - 2014-12-22\n* https://github.com/amibug/fly\n* Copyright (c) 2014 wuyuedong; Licensed MIT */\nvar $ = require(\"jquery\");\n!function(a){a.fly=function(b,c){var d={version:\"1.0.0\",autoPlay:!0,vertex_Rtop:20,speed:1.2,start:{},end:{},onEnd:a.noop},e=this,f=a(b);e.init=function(a){this.setOptions(a),!!this.settings.autoPlay&&this.play()},e.setOptions=function(b){this.settings=a.extend(!0,{},d,b);var c=this.settings,e=c.start,g=c.end;f.css({marginTop:\"0px\",marginLeft:\"0px\",position:\"fixed\"}).appendTo(\"body\"),null!=g.width&&null!=g.height&&a.extend(!0,e,{width:f.width(),height:f.height()});var h=Math.min(e.top,g.top)-Math.abs(e.left-g.left)/3;h<c.vertex_Rtop&&(h=Math.min(c.vertex_Rtop,Math.min(e.top,g.top)));var i=Math.sqrt(Math.pow(e.top-g.top,2)+Math.pow(e.left-g.left,2)),j=Math.ceil(Math.min(Math.max(Math.log(i)/.05-75,30),100)/c.speed),k=e.top==h?0:-Math.sqrt((g.top-h)/(e.top-h)),l=(k*e.left-g.left)/(k-1),m=g.left==l?0:(g.top-h)/Math.pow(g.left-l,2);a.extend(!0,c,{count:-1,steps:j,vertex_left:l,vertex_top:h,curvature:m})},e.play=function(){this.move()},e.move=function(){var b=this.settings,c=b.start,d=b.count,e=b.steps,g=b.end,h=c.left+(g.left-c.left)*d/e,i=0==b.curvature?c.top+(g.top-c.top)*d/e:b.curvature*Math.pow(h-b.vertex_left,2)+b.vertex_top;if(null!=g.width&&null!=g.height){var j=e/2,k=g.width-(g.width-c.width)*Math.cos(j>d?0:(d-j)/(e-j)*Math.PI/2),l=g.height-(g.height-c.height)*Math.cos(j>d?0:(d-j)/(e-j)*Math.PI/2);f.css({width:k+\"px\",height:l+\"px\",\"font-size\":Math.min(k,l)+\"px\"})}f.css({left:h+\"px\",top:i+\"px\"}),b.count++;var m=window.requestAnimationFrame(a.proxy(this.move,this));d==e&&(window.cancelAnimationFrame(m),b.onEnd.apply(this))},e.destory=function(){f.remove()},e.init(c)},a.fn.fly=function(b){return this.each(function(){void 0==a(this).data(\"fly\")&&a(this).data(\"fly\",new a.fly(this,b))})}}(jQuery);"},{"id":7,"identifier":"D:\\云购\\public\\js\\libs\\query.js","name":"./js/libs/query.js","index":8,"index2":7,"size":9453,"cacheable":true,"built":false,"optional":false,"prefetched":false,"chunks":[1,3,4,5,6,7,9,10,11],"assets":[],"issuer":"D:\\云购\\public\\js\\app\\detail.main.js","failed":false,"errors":0,"warnings":0,"reasons":[{"moduleId":0,"moduleIdentifier":"D:\\云购\\public\\js\\app\\detail.main.js","module":"./js/app/detail.main.js","moduleName":"./js/app/detail.main.js","type":"cjs require","userRequest":"../libs/query","loc":"1:0-24"},{"moduleId":0,"moduleIdentifier":"D:\\云购\\public\\js\\app\\login.main.js","module":"./js/app/login.main.js","moduleName":"./js/app/login.main.js","type":"cjs require","userRequest":"../libs/query","loc":"1:0-24"},{"moduleId":0,"moduleIdentifier":"D:\\云购\\public\\js\\app\\lottery.main.js","module":"./js/app/lottery.main.js","moduleName":"./js/app/lottery.main.js","type":"cjs require","userRequest":"../libs/query","loc":"1:0-24"},{"moduleId":0,"moduleIdentifier":"D:\\云购\\public\\js\\app\\memberindex.main.js","module":"./js/app/memberindex.main.js","moduleName":"./js/app/memberindex.main.js","type":"cjs require","userRequest":"../libs/query","loc":"1:0-24"},{"moduleId":0,"moduleIdentifier":"D:\\云购\\public\\js\\app\\message.main.js","module":"./js/app/message.main.js","moduleName":"./js/app/message.main.js","type":"cjs require","userRequest":"../libs/query","loc":"1:0-24"},{"moduleId":0,"moduleIdentifier":"D:\\云购\\public\\js\\app\\post.main.js","module":"./js/app/post.main.js","moduleName":"./js/app/post.main.js","type":"cjs require","userRequest":"../libs/query","loc":"1:0-24"},{"moduleId":0,"moduleIdentifier":"D:\\云购\\public\\js\\app\\qcbind.main.js","module":"./js/app/qcbind.main.js","moduleName":"./js/app/qcbind.main.js","type":"cjs require","userRequest":"../libs/query","loc":"1:0-24"},{"moduleId":0,"moduleIdentifier":"D:\\云购\\public\\js\\app\\uMy.main.js","module":"./js/app/uMy.main.js","moduleName":"./js/app/uMy.main.js","type":"cjs require","userRequest":"../libs/query","loc":"1:0-24"},{"moduleId":0,"moduleIdentifier":"D:\\云购\\public\\js\\app\\index.main.js","module":"./js/app/index.main.js","moduleName":"./js/app/index.main.js","type":"cjs require","userRequest":"../libs/query","loc":"1:0-24"}],"source":"/**\r\n* http://plugins.jquery.com/project/query-object\r\n* jQuery.query - Query String Modification and Creation for jQuery\r\n* Written by Blair Mitchelmore (blair DOT mitchelmore AT gmail DOT com)\r\n* Licensed under the WTFPL (http://sam.zoy.org/wtfpl/).\r\n* Date: 2009/8/13\r\n*\r\n* @author Blair Mitchelmore\r\n* @version 2.1.7\r\n** jquery.query-2.1.7.js**/\r\nnew function(settings) {\r\n    // Various Settings\r\n    var $separator = settings.separator || '&';\r\n    var $spaces = settings.spaces === false ? false : true;\r\n    var $suffix = settings.suffix === false ? '' : '[]';\r\n    var $prefix = settings.prefix === false ? false : true;\r\n    var $hash = $prefix ? settings.hash === true ? \"#\" : \"?\" : \"\";\r\n    var $numbers = settings.numbers === false ? false : true;\r\n\r\n    jQuery.query = new function() {\r\n        var is = function(o, t) {\r\n            return o != undefined && o !== null && (!!t ? o.constructor == t : true);\r\n        };\r\n        var parse = function(path) {\r\n            var m, rx = /\\[([^[]*)\\]/g , match = /^([^[]+)(\\[.*\\])?$/ .exec(path), base = match[1], tokens = [];\r\n            while (m = rx.exec(match[2])) tokens.push(m[1]);\r\n            return [base, tokens];\r\n        };\r\n        var set = function(target, tokens, value) {\r\n            var o, token = tokens.shift();\r\n            if (typeof target != 'object') target = null;\r\n            if (token === \"\") {\r\n                if (!target) target = [];\r\n                if (is(target, Array)) {\r\n                    target.push(tokens.length == 0 ? value : set(null, tokens.slice(0), value));\r\n                } else if (is(target, Object)) {\r\n                    var i = 0;\r\n                    while (target[i++] != null) ;\r\n                    target[--i] = tokens.length == 0 ? value : set(target[i], tokens.slice(0), value);\r\n                } else {\r\n                    target = [];\r\n                    target.push(tokens.length == 0 ? value : set(null, tokens.slice(0), value));\r\n                }\r\n            } else if (token && token.match( /^\\s*[0-9]+\\s*$/ )) {\r\n                var index = parseInt(token, 10);\r\n                if (!target) target = [];\r\n                target[index] = tokens.length == 0 ? value : set(target[index], tokens.slice(0), value);\r\n            } else if (token) {\r\n                var index = token.replace( /^\\s*|\\s*$/g , \"\");\r\n                if (!target) target = { };\r\n                if (is(target, Array)) {\r\n                    var temp = { };\r\n                    for (var i = 0; i < target.length; ++i) {\r\n                        temp[i] = target[i];\r\n                    }\r\n                    target = temp;\r\n                }\r\n                target[index] = tokens.length == 0 ? value : set(target[index], tokens.slice(0), value);\r\n            } else {\r\n                return value;\r\n            }\r\n            return target;\r\n        };\r\n\r\n        var queryObject = function(a) {\r\n            var self = this;\r\n            self.keys = { };\r\n\r\n            if (a.queryObject) {\r\n                jQuery.each(a.get(), function(key, val) {\r\n                    self.SET(key, val);\r\n                });\r\n            } else {\r\n                jQuery.each(arguments, function() {\r\n                    var q = \"\" + this;\r\n                    q = q.replace( /^[?#]/ , ''); // remove any leading ? || #\r\n                    q = q.replace( /[;&]$/ , ''); // remove any trailing & || ;\r\n                    if ($spaces) q = q.replace( /[+]/g , ' '); // replace +'s with spaces\r\n\r\n                    jQuery.each(q.split( /[&;]/ ), function() {\r\n                        var key = decodeURIComponent(this.split('=')[0] || \"\");\r\n                        var val = decodeURIComponent(this.split('=')[1] || \"\");\r\n\r\n                        if (!key) return;\r\n\r\n                        if ($numbers) {\r\n                            if ( /^[+-]?[0-9]+\\.[0-9]*$/ .test(val)) // simple float regex\r\n                                val = parseFloat(val);\r\n                            else if ( /^[+-]?[0-9]+$/ .test(val)) // simple int regex\r\n                                val = parseInt(val, 10);\r\n                        }\r\n\r\n                        val = (!val && val !== 0) ? true : val;\r\n\r\n                        if (val !== false && val !== true && typeof val != 'number')\r\n                            val = val;\r\n\r\n                        self.SET(key, val);\r\n                    });\r\n                });\r\n            }\r\n            return self;\r\n        };\r\n\r\n        queryObject.prototype = {\r\n            queryObject: true,\r\n            has: function(key, type) {\r\n                var value = this.get(key);\r\n                return is(value, type);\r\n            },\r\n            GET: function(key) {\r\n                if (!is(key)) return this.keys;\r\n                var parsed = parse(key), base = parsed[0], tokens = parsed[1];\r\n                var target = this.keys[base];\r\n                while (target != null && tokens.length != 0) {\r\n                    target = target[tokens.shift()];\r\n                }\r\n                return typeof target == 'number' ? target : target || \"\";\r\n            },\r\n            get: function(key) {\r\n                var target = this.GET(key);\r\n                if (is(target, Object))\r\n                    return jQuery.extend(true, { }, target);\r\n                else if (is(target, Array))\r\n                    return target.slice(0);\r\n                return target;\r\n            },\r\n            SET: function(key, val) {\r\n                var value = !is(val) ? null : val;\r\n                var parsed = parse(key), base = parsed[0], tokens = parsed[1];\r\n                var target = this.keys[base];\r\n                this.keys[base] = set(target, tokens.slice(0), value);\r\n                return this;\r\n            },\r\n            set: function(key, val) {\r\n                return this.copy().SET(key, val);\r\n            },\r\n            REMOVE: function(key) {\r\n                return this.SET(key, null).COMPACT();\r\n            },\r\n            remove: function(key) {\r\n                return this.copy().REMOVE(key);\r\n            },\r\n            EMPTY: function() {\r\n                var self = this;\r\n                jQuery.each(self.keys, function(key, value) {\r\n                    delete self.keys[key];\r\n                });\r\n                return self;\r\n            },\r\n            load: function(url) {\r\n                var hash = url.replace( /^.*?[#](.+?)(?:\\?.+)?$/ , \"$1\");\r\n                var search = url.replace( /^.*?[?](.+?)(?:#.+)?$/ , \"$1\");\r\n                return new queryObject(url.length == search.length ? '' : search, url.length == hash.length ? '' : hash);\r\n            },\r\n            empty: function() {\r\n                return this.copy().EMPTY();\r\n            },\r\n            copy: function() {\r\n                return new queryObject(this);\r\n            },\r\n            COMPACT: function() {\r\n\r\n                function build(orig) {\r\n                    var obj = typeof orig == \"object\" ? is(orig, Array) ? [] : { } : orig;\r\n                    if (typeof orig == 'object') {\r\n\r\n                        function add(o, key, value) {\r\n                            if (is(o, Array))\r\n                                o.push(value);\r\n                            else\r\n                                o[key] = value;\r\n                        }\r\n\r\n                        jQuery.each(orig, function(key, value) {\r\n                            if (!is(value)) return true;\r\n                            add(obj, key, build(value));\r\n                        });\r\n                    }\r\n                    return obj;\r\n                }\r\n\r\n                this.keys = build(this.keys);\r\n                return this;\r\n            },\r\n            compact: function() {\r\n                return this.copy().COMPACT();\r\n            },\r\n            toString: function() {\r\n                var i = 0, queryString = [], chunks = [], self = this;\r\n                var encode = function(str) {\r\n                    str = str + \"\";\r\n                    if ($spaces) str = str.replace( / /g , \"+\");\r\n                    return encodeURIComponent(str);\r\n                };\r\n                var addFields = function(arr, key, value) {\r\n                    if (!is(value) || value === false) return;\r\n                    var o = [encode(key)];\r\n                    if (value !== true) {\r\n                        o.push(\"=\");\r\n                        o.push(encode(value));\r\n                    }\r\n                    arr.push(o.join(\"\"));\r\n                };\r\n                var build = function(obj, base) {\r\n                    var newKey = function(key) {\r\n                        return !base || base == \"\" ? [key].join(\"\") : [base, \"[\", key, \"]\"].join(\"\");\r\n                    };\r\n                    jQuery.each(obj, function(key, value) {\r\n                        if (typeof value == 'object')\r\n                            build(value, newKey(key));\r\n                        else\r\n                            addFields(chunks, newKey(key), value);\r\n                    });\r\n                };\r\n\r\n                build(this.keys);\r\n\r\n                if (chunks.length > 0) queryString.push($hash);\r\n                queryString.push(chunks.join($separator));\r\n\r\n                return queryString.join(\"\");\r\n            }\r\n        };\r\n\r\n        return new queryObject(location.search, location.hash);\r\n    };\r\n}(jQuery.query || { });  // Pass in jQuery.query as settings object"},{"id":8,"identifier":"D:\\云购\\public\\js\\libs\\pagination-min.js","name":"./js/libs/pagination-min.js","index":9,"index2":8,"size":12699,"cacheable":true,"built":false,"optional":false,"prefetched":false,"chunks":[1,3,5,6,9,11],"assets":[],"issuer":"D:\\云购\\public\\js\\app\\detail.main.js","failed":false,"errors":0,"warnings":0,"reasons":[{"moduleId":0,"moduleIdentifier":"D:\\云购\\public\\js\\app\\detail.main.js","module":"./js/app/detail.main.js","moduleName":"./js/app/detail.main.js","type":"cjs require","userRequest":"../libs/pagination-min","loc":"2:0-33"},{"moduleId":0,"moduleIdentifier":"D:\\云购\\public\\js\\app\\lottery.main.js","module":"./js/app/lottery.main.js","moduleName":"./js/app/lottery.main.js","type":"cjs require","userRequest":"../libs/pagination-min","loc":"2:0-33"},{"moduleId":0,"moduleIdentifier":"D:\\云购\\public\\js\\app\\memberindex.main.js","module":"./js/app/memberindex.main.js","moduleName":"./js/app/memberindex.main.js","type":"cjs require","userRequest":"../libs/pagination-min","loc":"4:0-33"},{"moduleId":0,"moduleIdentifier":"D:\\云购\\public\\js\\app\\post.main.js","module":"./js/app/post.main.js","moduleName":"./js/app/post.main.js","type":"cjs require","userRequest":"../libs/pagination-min","loc":"2:0-33"},{"moduleId":0,"moduleIdentifier":"D:\\云购\\public\\js\\app\\uMy.main.js","module":"./js/app/uMy.main.js","moduleName":"./js/app/uMy.main.js","type":"cjs require","userRequest":"../libs/pagination-min","loc":"2:0-33"},{"moduleId":0,"moduleIdentifier":"D:\\云购\\public\\js\\app\\index.main.js","module":"./js/app/index.main.js","moduleName":"./js/app/index.main.js","type":"cjs require","userRequest":"../libs/pagination-min","loc":"3:0-33"}],"source":"/*\n * pagination.js 2.0.7\n * A jQuery plugin to provide simple yet fully customisable pagination\n * https://github.com/superRaytin/paginationjs\n\n * Homepage: http://paginationjs.com\n *\n * Copyright 2014-2100, superRaytin\n * Released under the MIT license.\n*/\nvar $ = require(\"jquery\");\n!function(a,b){function c(a){throw new Error(\"Pagination: \"+a)}function d(a){a.dataSource||c('\"dataSource\" is required.'),\"string\"==typeof a.dataSource?\"undefined\"==typeof a.totalNumber?c('\"totalNumber\" is required.'):b.isNumeric(a.totalNumber)||c('\"totalNumber\" is incorrect. (Number)'):j.isObject(a.dataSource)&&(\"undefined\"==typeof a.locator?c('\"dataSource\" is an Object, please specify \"locator\".'):\"string\"==typeof a.locator||b.isFunction(a.locator)||c(\"\"+a.locator+\" is incorrect. (String | Function)\"))}function e(a){var c=[\"go\",\"previous\",\"next\",\"disable\",\"enable\",\"refresh\",\"show\",\"hide\",\"destroy\"];b.each(c,function(b,c){a.off(i+c)}),a.data(\"pagination\",{}),b(\".paginationjs\",a).remove()}function f(a,b){return(\"object\"==(b=typeof a)?null==a&&\"null\"||Object.prototype.toString.call(a).slice(8,-1):b).toLowerCase()}\"undefined\"==typeof b&&c(\"Pagination requires jQuery.\");var g=\"pagination\",h=\"addHook\",i=\"__pagination-\";b.fn.pagination&&(g=\"pagination2\"),b.fn[g]=function(f){if(\"undefined\"==typeof f)return this;var g=b(this),h={initialize:function(){var a=this;if(g.data(\"pagination\")||g.data(\"pagination\",{}),a.callHook(\"beforeInit\")!==!1){g.data(\"pagination\").initialized&&b(\".paginationjs\",g).remove(),a.disabled=!!l.disabled;var c=a.model={pageRange:l.pageRange,pageSize:l.pageSize};a.parseDataSource(l.dataSource,function(b){if(a.sync=j.isArray(b),a.sync&&(c.totalNumber=l.totalNumber=b.length),c.totalPage=a.getTotalPage(),!(l.hideWhenLessThanOnePage&&c.totalPage<=1)){var d=a.render(!0);l.className&&d.addClass(l.className),c.el=d,g[\"bottom\"===l.position?\"append\":\"prepend\"](d),a.observer(),g.data(\"pagination\").initialized=!0,a.callHook(\"afterInit\",d)}})}},render:function(a){var c=this,d=c.model,e=d.el||b('<div class=\"paginationjs\"></div>'),f=a!==!0;c.callHook(\"beforeRender\",f);var g=d.pageNumber||l.pageNumber,h=l.pageRange,i=d.totalPage,j=g-h,k=g+h;return k>i&&(k=i,j=i-2*h,j=1>j?1:j),1>=j&&(j=1,k=Math.min(2*h+1,i)),e.html(c.createTemplate({currentPage:g,pageRange:h,totalPage:i,rangeStart:j,rangeEnd:k})),c.callHook(\"afterRender\",f),e},createTemplate:function(a){var c,d,e=this,f=a.currentPage,g=a.totalPage,h=a.rangeStart,i=a.rangeEnd,j=l.totalNumber,k=l.showPrevious,m=l.showNext,n=l.showPageNumbers,o=l.showNavigator,p=l.showGoInput,q=l.showGoButton,r=l.pageLink,s=l.prevText,t=l.nextText,u=l.ellipsisText,v=l.goButtonText,w=l.classPrefix,x=l.activeClassName,y=l.disableClassName,z=l.ulClassName,A=b.isFunction(l.formatNavigator)?l.formatNavigator():l.formatNavigator,B=b.isFunction(l.formatGoInput)?l.formatGoInput():l.formatGoInput,C=b.isFunction(l.formatGoButton)?l.formatGoButton():l.formatGoButton,D=b.isFunction(l.autoHidePrevious)?l.autoHidePrevious():l.autoHidePrevious,E=b.isFunction(l.autoHideNext)?l.autoHideNext():l.autoHideNext,F=b.isFunction(l.header)?l.header():l.header,G=b.isFunction(l.footer)?l.footer():l.footer,H=\"\",I='<input type=\"text\" class=\"J-paginationjs-go-pagenumber\">',J='<input type=\"button\" class=\"J-paginationjs-go-button\" value=\"'+v+'\">';if(F&&(c=e.replaceVariables(F,{currentPage:f,totalPage:g,totalNumber:j}),H+=c),k||n||m){if(H+='<div class=\"paginationjs-pages\">',H+=z?'<ul class=\"'+z+'\">':\"<ul>\",k&&(1===f?D||(H+='<li class=\"'+w+\"-prev \"+y+'\"><a>'+s+\"</a></li>\"):H+='<li class=\"'+w+'-prev J-paginationjs-previous\" data-num=\"'+(f-1)+'\" title=\"Previous page\"><a href=\"'+r+'\">'+s+\"</a></li>\"),n){if(3>=h)for(d=1;h>d;d++)H+=d==f?'<li class=\"'+w+\"-page J-paginationjs-page \"+x+'\" data-num=\"'+d+'\"><a>'+d+\"</a></li>\":'<li class=\"'+w+'-page J-paginationjs-page\" data-num=\"'+d+'\"><a href=\"'+r+'\">'+d+\"</a></li>\";else l.showFirstOnEllipsisShow&&(H+='<li class=\"'+w+\"-page \"+w+'-first J-paginationjs-page\" data-num=\"1\"><a href=\"'+r+'\">1</a></li>'),H+='<li class=\"'+w+\"-ellipsis \"+y+'\"><a>'+u+\"</a></li>\";for(d=h;i>=d;d++)H+=d==f?'<li class=\"'+w+\"-page J-paginationjs-page \"+x+'\" data-num=\"'+d+'\"><a>'+d+\"</a></li>\":'<li class=\"'+w+'-page J-paginationjs-page\" data-num=\"'+d+'\"><a href=\"'+r+'\">'+d+\"</a></li>\";if(i>=g-2)for(d=i+1;g>=d;d++)H+='<li class=\"'+w+'-page J-paginationjs-page\" data-num=\"'+d+'\"><a href=\"'+r+'\">'+d+\"</a></li>\";else H+='<li class=\"'+w+\"-ellipsis \"+y+'\"><a>'+u+\"</a></li>\",l.showLastOnEllipsisShow&&(H+='<li class=\"'+w+\"-page \"+w+'-last J-paginationjs-page\" data-num=\"'+g+'\"><a href=\"'+r+'\">'+g+\"</a></li>\")}m&&(f==g?E||(H+='<li class=\"'+w+\"-next \"+y+'\"><a>'+t+\"</a></li>\"):H+='<li class=\"'+w+'-next J-paginationjs-next\" data-num=\"'+(f+1)+'\" title=\"Next page\"><a href=\"'+r+'\">'+t+\"</a></li>\"),H+=\"</ul></div>\"}return o&&A&&(c=e.replaceVariables(A,{currentPage:f,totalPage:g,totalNumber:j}),H+='<div class=\"'+w+'-nav J-paginationjs-nav\">'+c+\"</div>\"),p&&B&&(c=e.replaceVariables(B,{currentPage:f,totalPage:g,totalNumber:j,input:I}),H+='<div class=\"'+w+'-go-input\">'+c+\"</div>\"),q&&C&&(c=e.replaceVariables(C,{currentPage:f,totalPage:g,totalNumber:j,button:J}),H+='<div class=\"'+w+'-go-button\">'+c+\"</div>\"),G&&(c=e.replaceVariables(G,{currentPage:f,totalPage:g,totalNumber:j}),H+=c),H},go:function(a,c){function d(a){if(e.callHook(\"beforePaging\",h)===!1)return!1;if(f.direction=\"undefined\"==typeof f.pageNumber?0:h>f.pageNumber?1:-1,f.pageNumber=h,e.render(),e.disabled&&!e.sync&&e.enable(),g.data(\"pagination\").model=f,b.isFunction(l.formatResult)){var d=b.extend(!0,[],a);j.isArray(a=l.formatResult(d))||(a=d)}g.data(\"pagination\").currentPageData=a,e.doCallback(a,c),e.callHook(\"afterPaging\",h),1==h&&e.callHook(\"afterIsFirstPage\"),h==f.totalPage&&e.callHook(\"afterIsLastPage\")}var e=this,f=e.model;if(!e.disabled){var h=a,i=l.pageSize,k=f.totalPage;if(h=parseInt(h),!(!h||1>h||h>k)){if(e.sync)return void d(e.getDataSegment(h));var m={},n=l.alias||{};m[n.pageSize?n.pageSize:\"pageSize\"]=i,m[n.pageNumber?n.pageNumber:\"pageNumber\"]=h;var o={type:\"get\",cache:!1,data:{},contentType:\"application/x-www-form-urlencoded; charset=UTF-8\",dataType:\"json\",async:!0};b.extend(!0,o,l.ajax),b.extend(o.data||{},m),o.url=l.dataSource,o.success=function(a){d(e.filterDataByLocator(a))},o.error=function(a,b,c){l.formatAjaxError&&l.formatAjaxError(a,b,c),e.enable()},e.disable(),b.ajax(o)}}},doCallback:function(a,c){var d=this,e=d.model;b.isFunction(c)?c(a,e):b.isFunction(l.callback)&&l.callback(a,e)},destroy:function(){this.callHook(\"beforeDestroy\")!==!1&&(this.model.el.remove(),g.off(),b(\"#paginationjs-style\").remove(),this.callHook(\"afterDestroy\"))},previous:function(a){this.go(this.model.pageNumber-1,a)},next:function(a){this.go(this.model.pageNumber+1,a)},disable:function(){var a=this,b=a.sync?\"sync\":\"async\";a.callHook(\"beforeDisable\",b)!==!1&&(a.disabled=!0,a.model.disabled=!0,a.callHook(\"afterDisable\",b))},enable:function(){var a=this,b=a.sync?\"sync\":\"async\";a.callHook(\"beforeEnable\",b)!==!1&&(a.disabled=!1,a.model.disabled=!1,a.callHook(\"afterEnable\",b))},refresh:function(a){this.go(this.model.pageNumber,a)},show:function(){var a=this;a.model.el.is(\":visible\")||a.model.el.show()},hide:function(){var a=this;a.model.el.is(\":visible\")&&a.model.el.hide()},replaceVariables:function(a,b){var c;for(var d in b){var e=b[d],f=new RegExp(\"<%=\\\\s*\"+d+\"\\\\s*%>\",\"img\");c=(c||a).replace(f,e)}return c},getDataSegment:function(a){var b=l.pageSize,c=l.dataSource,d=l.totalNumber,e=b*(a-1)+1,f=Math.min(a*b,d);return c.slice(e-1,f)},getTotalPage:function(){return Math.ceil(l.totalNumber/l.pageSize)},getLocator:function(a){var d;return\"string\"==typeof a?d=a:b.isFunction(a)?d=a():c('\"locator\" is incorrect. (String | Function)'),d},filterDataByLocator:function(a){var d,e=this.getLocator(l.locator);if(j.isObject(a)){try{b.each(e.split(\".\"),function(b,c){d=(d?d:a)[c]})}catch(f){}d?j.isArray(d)||c(\"dataSource.\"+e+\" must be an Array.\"):c(\"dataSource.\"+e+\" is undefined.\")}return d||a},parseDataSource:function(a,d){var e=this,f=arguments;j.isObject(a)?d(l.dataSource=e.filterDataByLocator(a)):j.isArray(a)?d(l.dataSource=a):b.isFunction(a)?l.dataSource(function(a){b.isFunction(a)&&c('Unexpect parameter of the \"done\" Function.'),f.callee.call(e,a,d)}):\"string\"==typeof a?(/^https?|file:/.test(a)&&(l.ajaxDataType=\"jsonp\"),d(a)):c('Unexpect data type of the \"dataSource\".')},callHook:function(c){var d,e=g.data(\"pagination\"),f=Array.prototype.slice.apply(arguments);return f.shift(),l[c]&&b.isFunction(l[c])&&l[c].apply(a,f)===!1&&(d=!1),e.hooks&&e.hooks[c]&&b.each(e.hooks[c],function(b,c){c.apply(a,f)===!1&&(d=!1)}),d!==!1},observer:function(){var a=this,d=a.model.el;g.on(i+\"go\",function(d,e,f){e=parseInt(b.trim(e)),e&&(b.isNumeric(e)||c('\"pageNumber\" is incorrect. (Number)'),a.go(e,f))}),d.delegate(\".J-paginationjs-page\",\"click\",function(c){var d=b(c.currentTarget),e=b.trim(d.attr(\"data-num\"));return!e||d.hasClass(l.disableClassName)||d.hasClass(l.activeClassName)?void 0:a.callHook(\"beforePageOnClick\",c,e)===!1?!1:(a.go(e),a.callHook(\"afterPageOnClick\",c,e),l.pageLink?void 0:!1)}),d.delegate(\".J-paginationjs-previous\",\"click\",function(c){var d=b(c.currentTarget),e=b.trim(d.attr(\"data-num\"));return e&&!d.hasClass(l.disableClassName)?a.callHook(\"beforePreviousOnClick\",c,e)===!1?!1:(a.go(e),a.callHook(\"afterPreviousOnClick\",c,e),l.pageLink?void 0:!1):void 0}),d.delegate(\".J-paginationjs-next\",\"click\",function(c){var d=b(c.currentTarget),e=b.trim(d.attr(\"data-num\"));return e&&!d.hasClass(l.disableClassName)?a.callHook(\"beforeNextOnClick\",c,e)===!1?!1:(a.go(e),a.callHook(\"afterNextOnClick\",c,e),l.pageLink?void 0:!1):void 0}),d.delegate(\".J-paginationjs-go-button\",\"click\",function(){var c=b(\".J-paginationjs-go-pagenumber\",d).val();return a.callHook(\"beforeGoButtonOnClick\",event,c)===!1?!1:(g.trigger(i+\"go\",c),void a.callHook(\"afterGoButtonOnClick\",event,c))}),d.delegate(\".J-paginationjs-go-pagenumber\",\"keyup\",function(c){if(13===c.which){var e=b(c.currentTarget).val();if(a.callHook(\"beforeGoInputOnEnter\",c,e)===!1)return!1;g.trigger(i+\"go\",e),b(\".J-paginationjs-go-pagenumber\",d).focus(),a.callHook(\"afterGoInputOnEnter\",c,e)}}),g.on(i+\"previous\",function(b,c){a.previous(c)}),g.on(i+\"next\",function(b,c){a.next(c)}),g.on(i+\"disable\",function(){a.disable()}),g.on(i+\"enable\",function(){a.enable()}),g.on(i+\"refresh\",function(b,c){a.refresh(c)}),g.on(i+\"show\",function(){a.show()}),g.on(i+\"hide\",function(){a.hide()}),g.on(i+\"destroy\",function(){a.destroy()}),l.triggerPagingOnInit&&g.trigger(i+\"go\",Math.min(l.pageNumber,a.model.totalPage))}};if(g.data(\"pagination\")&&g.data(\"pagination\").initialized===!0){if(b.isNumeric(f))return g.trigger.call(this,i+\"go\",f,arguments[1]),this;if(\"string\"==typeof f){var k=Array.prototype.slice.apply(arguments);switch(k[0]=i+k[0],f){case\"previous\":case\"next\":case\"go\":case\"disable\":case\"enable\":case\"refresh\":case\"show\":case\"hide\":case\"destroy\":g.trigger.apply(this,k);break;case\"getSelectedPageNum\":return g.data(\"pagination\").model?g.data(\"pagination\").model.pageNumber:g.data(\"pagination\").attributes.pageNumber;case\"getTotalPage\":return g.data(\"pagination\").model.totalPage;case\"getSelectedPageData\":return g.data(\"pagination\").currentPageData;case\"isDisabled\":return g.data(\"pagination\").model.disabled===!0;default:c(\"Pagination do not provide action: \"+f)}return this}e(g)}else j.isObject(f)||c(\"Illegal options\");var l=b.extend({},arguments.callee.defaults,f);return d(l),h.initialize(),this},b.fn[g].defaults={totalNumber:1,pageNumber:1,pageSize:10,pageRange:2,showPrevious:!0,showNext:!0,showPageNumbers:!0,showNavigator:!1,showGoInput:!1,showGoButton:!1,pageLink:\"\",prevText:\"&laquo;\",nextText:\"&raquo;\",ellipsisText:\"...\",goButtonText:\"Go\",classPrefix:\"paginationjs\",activeClassName:\"active\",disableClassName:\"disabled\",inlineStyle:!0,formatNavigator:\"<%= currentPage %> / <%= totalPage %>\",formatGoInput:\"<%= input %>\",formatGoButton:\"<%= button %>\",position:\"bottom\",autoHidePrevious:!1,autoHideNext:!1,triggerPagingOnInit:!0,hideWhenLessThanOnePage:!1,showFirstOnEllipsisShow:!0,showLastOnEllipsisShow:!0,callback:function(){}},b.fn[h]=function(a,d){arguments.length<2&&c(\"Missing argument.\"),b.isFunction(d)||c(\"callback must be a function.\");var e=b(this),f=e.data(\"pagination\");f||(e.data(\"pagination\",{}),f=e.data(\"pagination\")),!f.hooks&&(f.hooks={}),f.hooks[a]=f.hooks[a]||[],f.hooks[a].push(d)},b[g]=function(a,d){arguments.length<2&&c(\"Requires two parameters.\");var e;return e=\"string\"!=typeof a&&a instanceof jQuery?a:b(a),e.length?(e.pagination(d),e):void 0};var j={};b.each([\"Object\",\"Array\"],function(a,b){j[\"is\"+b]=function(a){return f(a)===b.toLowerCase()}}),\"function\"==typeof define&&define.amd&&define(function(){return b})}(this,window.jQuery);"},{"id":9,"identifier":"D:\\云购\\public\\js\\libs\\jquery.lazyload.js","name":"./js/libs/jquery.lazyload.js","index":10,"index2":9,"size":3247,"cacheable":true,"built":false,"optional":false,"prefetched":false,"chunks":[1,3,5,8,9,11],"assets":[],"issuer":"D:\\云购\\public\\js\\app\\detail.main.js","failed":false,"errors":0,"warnings":0,"reasons":[{"moduleId":0,"moduleIdentifier":"D:\\云购\\public\\js\\app\\detail.main.js","module":"./js/app/detail.main.js","moduleName":"./js/app/detail.main.js","type":"cjs require","userRequest":"../libs/jquery.lazyload","loc":"3:0-34"},{"moduleId":0,"moduleIdentifier":"D:\\云购\\public\\js\\app\\lottery.main.js","module":"./js/app/lottery.main.js","moduleName":"./js/app/lottery.main.js","type":"cjs require","userRequest":"../libs/jquery.lazyload","loc":"3:0-34"},{"moduleId":0,"moduleIdentifier":"D:\\云购\\public\\js\\app\\news.main.js","module":"./js/app/news.main.js","moduleName":"./js/app/news.main.js","type":"cjs require","userRequest":"../libs/jquery.lazyload","loc":"1:0-34"},{"moduleId":0,"moduleIdentifier":"D:\\云购\\public\\js\\app\\post.main.js","module":"./js/app/post.main.js","moduleName":"./js/app/post.main.js","type":"cjs require","userRequest":"../libs/jquery.lazyload","loc":"3:0-34"},{"moduleId":0,"moduleIdentifier":"D:\\云购\\public\\js\\app\\uMy.main.js","module":"./js/app/uMy.main.js","moduleName":"./js/app/uMy.main.js","type":"cjs require","userRequest":"../libs/jquery.lazyload","loc":"3:0-34"},{"moduleId":0,"moduleIdentifier":"D:\\云购\\public\\js\\app\\index.main.js","module":"./js/app/index.main.js","moduleName":"./js/app/index.main.js","type":"cjs require","userRequest":"../libs/jquery.lazyload","loc":"4:0-34"}],"source":"/*\r\n * Lazy Load - jQuery plugin for lazy loading images\r\n *\r\n * Copyright (c) 2007-2013 Mika Tuupola\r\n *\r\n * Licensed under the MIT license:\r\n *   http://www.opensource.org/licenses/mit-license.php\r\n *\r\n * Project home:\r\n *   http://www.appelsiini.net/projects/lazyload\r\n *\r\n * Version:  1.8.4\r\n *\r\n */\r\n var $ = require(\"jquery\");\r\n(function(a,b,c,d){var e=a(b);a.fn.lazyload=function(c){function i(){var b=0;f.each(function(){var c=a(this);if(h.skip_invisible&&!c.is(\":visible\"))return;if(!a.abovethetop(this,h)&&!a.leftofbegin(this,h))if(!a.belowthefold(this,h)&&!a.rightoffold(this,h))c.trigger(\"appear\"),b=0;else if(++b>h.failure_limit)return!1})}var f=this,g,h={threshold:0,failure_limit:0,event:\"scroll\",effect:\"show\",container:b,data_attribute:\"original\",skip_invisible:!0,appear:null,load:null};return c&&(d!==c.failurelimit&&(c.failure_limit=c.failurelimit,delete c.failurelimit),d!==c.effectspeed&&(c.effect_speed=c.effectspeed,delete c.effectspeed),a.extend(h,c)),g=h.container===d||h.container===b?e:a(h.container),0===h.event.indexOf(\"scroll\")&&g.bind(h.event,function(a){return i()}),this.each(function(){var b=this,c=a(b);b.loaded=!1,c.one(\"appear\",function(){if(!this.loaded){if(h.appear){var d=f.length;h.appear.call(b,d,h)}a(\"<img />\").bind(\"load\",function(){c.hide().attr(\"src\",c.data(h.data_attribute))[h.effect](h.effect_speed),b.loaded=!0;var d=a.grep(f,function(a){return!a.loaded});f=a(d);if(h.load){var e=f.length;h.load.call(b,e,h)}}).attr(\"src\",c.data(h.data_attribute))}}),0!==h.event.indexOf(\"scroll\")&&c.bind(h.event,function(a){b.loaded||c.trigger(\"appear\")})}),e.bind(\"resize\",function(a){i()}),/iphone|ipod|ipad.*os 5/gi.test(navigator.appVersion)&&e.bind(\"pageshow\",function(b){b.originalEvent.persisted&&f.each(function(){a(this).trigger(\"appear\")})}),a(b).load(function(){i()}),this},a.belowthefold=function(c,f){var g;return f.container===d||f.container===b?g=e.height()+e.scrollTop():g=a(f.container).offset().top+a(f.container).height(),g<=a(c).offset().top-f.threshold},a.rightoffold=function(c,f){var g;return f.container===d||f.container===b?g=e.width()+e.scrollLeft():g=a(f.container).offset().left+a(f.container).width(),g<=a(c).offset().left-f.threshold},a.abovethetop=function(c,f){var g;return f.container===d||f.container===b?g=e.scrollTop():g=a(f.container).offset().top,g>=a(c).offset().top+f.threshold+a(c).height()},a.leftofbegin=function(c,f){var g;return f.container===d||f.container===b?g=e.scrollLeft():g=a(f.container).offset().left,g>=a(c).offset().left+f.threshold+a(c).width()},a.inviewport=function(b,c){return!a.rightoffold(b,c)&&!a.leftofbegin(b,c)&&!a.belowthefold(b,c)&&!a.abovethetop(b,c)},a.extend(a.expr[\":\"],{\"below-the-fold\":function(b){return a.belowthefold(b,{threshold:0})},\"above-the-top\":function(b){return!a.belowthefold(b,{threshold:0})},\"right-of-screen\":function(b){return a.rightoffold(b,{threshold:0})},\"left-of-screen\":function(b){return!a.rightoffold(b,{threshold:0})},\"in-viewport\":function(b){return a.inviewport(b,{threshold:0})},\"above-the-fold\":function(b){return!a.belowthefold(b,{threshold:0})},\"right-of-fold\":function(b){return a.rightoffold(b,{threshold:0})},\"left-of-fold\":function(b){return!a.rightoffold(b,{threshold:0})}})})(jQuery,window,document)"},{"id":10,"identifier":"D:\\云购\\public\\js\\libs\\jquery.jqzoom.js","name":"./js/libs/jquery.jqzoom.js","index":11,"index2":10,"size":4723,"cacheable":true,"built":false,"optional":false,"prefetched":false,"chunks":[1,5],"assets":[],"issuer":"D:\\云购\\public\\js\\app\\detail.main.js","failed":false,"errors":0,"warnings":0,"reasons":[{"moduleId":0,"moduleIdentifier":"D:\\云购\\public\\js\\app\\detail.main.js","module":"./js/app/detail.main.js","moduleName":"./js/app/detail.main.js","type":"cjs require","userRequest":"../libs/jquery.jqzoom","loc":"4:0-32"},{"moduleId":0,"moduleIdentifier":"D:\\云购\\public\\js\\app\\lottery.main.js","module":"./js/app/lottery.main.js","moduleName":"./js/app/lottery.main.js","type":"cjs require","userRequest":"../libs/jquery.jqzoom","loc":"5:0-32"}],"source":"//**************************************************************\n// jQZoom allows you to realize a small magnifier window,close\n// to the image or images on your web page easily.\n//\n// jqZoom version 2.1\n// Author Doc. Ing. Renzi Marco(www.mind-projects.it)\n// First Release on Dec 05 2007\n// i'm searching for a job,pick me up!!!\n// mail: renzi.mrc@gmail.com\n//**************************************************************\n\n(function($){\n\n\t\t$.fn.jqueryzoom = function(options){\n\t\tvar settings = {\n\t\t\t\txzoom: 200,//zoomed width default width\n\t\t\t\tyzoom: 200,//zoomed div default width\n\t\t\t\toffset: 10,\t//zoomed div default offset\n\t\t\t\tposition: \"right\",//zoomed div default position,offset position is to the right of the image\n\t\t\t\tlens:1, //zooming lens over the image,by default is 1;\n\t\t\t\tpreload: 1\n\t\t\t};\n\n\t\t\tif(options) {\n\t\t\t\t$.extend(settings, options);\n\t\t\t}\n\n\t\t    var noalt='';\n\t\t    $(this).hover(function(){\n\n\t\t    var imageLeft = this.offsetLeft;\n\t\t    var imageRight = this.offsetRight;\n\t\t    var imageTop =  $(this).get(0).offsetTop;\n\t\t    var imageWidth = $(this).children('img').get(0).offsetWidth;\n\t\t    var imageHeight = $(this).children('img').get(0).offsetHeight;\n\n\n            noalt= $(this).children(\"img\").attr(\"alt\");\n\n\t\t    var bigimage = $(this).children(\"img\").attr(\"jqimg\");\n\n            $(this).children(\"img\").attr(\"alt\",'');\n\n\t\t    if($(\"div.zoomdiv\").get().length == 0){\n\n\t\t    $(this).after(\"<div class='zoomdiv'><img class='bigimg' src='\"+bigimage+\"'/></div>\");\n\n\n\t\t    $(this).append(\"<div class='jqZoomPup'>&nbsp;</div>\");\n\n\t\t    }\n\n\n\t\t    if(settings.position == \"right\"){\n\n            if(imageLeft + imageWidth + settings.offset + settings.xzoom > screen.width){\n\n            leftpos = imageLeft  - settings.offset - settings.xzoom;\n\n            }else{\n\n\t\t    leftpos = imageLeft + imageWidth + settings.offset;\n            }\n\t\t    }else{\n\t\t    leftpos = imageLeft - settings.xzoom - settings.offset;\n\t\t    if(leftpos < 0){\n\n            leftpos = imageLeft + imageWidth  + settings.offset;\n\n\t\t    }\n\n\t\t    }\n\n\t\t    $(\"div.zoomdiv\").css({ top: imageTop,left: leftpos });\n\n\t\t    $(\"div.zoomdiv\").width(settings.xzoom);\n\n\t\t    $(\"div.zoomdiv\").height(settings.yzoom);\n\n            $(\"div.zoomdiv\").show();\n\n            if(!settings.lens){\n              $(this).css('cursor','crosshair');\n\t\t\t}\n\n\n\n\n\t\t\t\t   $(document.body).mousemove(function(e){\n\n\n\n                   mouse = new MouseEvent(e);\n\n                   /*$(\"div.jqZoomPup\").hide();*/\n\n\n\t\t\t\t    var bigwidth = $(\".bigimg\").get(0).offsetWidth;\n\n\t\t\t\t    var bigheight = $(\".bigimg\").get(0).offsetHeight;\n\n\t\t\t\t    var scaley ='x';\n\n\t\t\t\t    var scalex= 'y';\n\n\n\t\t\t\t    if(isNaN(scalex)|isNaN(scaley)){\n\n\t\t\t\t    var scalex = (bigwidth/imageWidth);\n\n\t\t\t\t    var scaley = (bigheight/imageHeight);\n\n\n\n\n\t\t\t\t    $(\"div.jqZoomPup\").width((settings.xzoom)/scalex );\n\n\t\t    \t\t$(\"div.jqZoomPup\").height((settings.yzoom)/scaley);\n\n                    if(settings.lens){\n                    $(\"div.jqZoomPup\").css('visibility','visible');\n\t\t\t\t\t}\n\n\t\t\t\t   }\n\n\n\n                    xpos = mouse.x - $(\"div.jqZoomPup\").width()/2 - imageLeft;\n\n                    ypos = mouse.y - $(\"div.jqZoomPup\").height()/2 - imageTop ;\n\n                    if(settings.lens){\n\n                    xpos = (mouse.x - $(\"div.jqZoomPup\").width()/2 < imageLeft ) ? 0 : (mouse.x + $(\"div.jqZoomPup\").width()/2 > imageWidth + imageLeft ) ?  (imageWidth -$(\"div.jqZoomPup\").width() -2)  : xpos;\n\n\t\t\t\t\typos = (mouse.y - $(\"div.jqZoomPup\").height()/2 < imageTop ) ? 0 : (mouse.y + $(\"div.jqZoomPup\").height()/2  > imageHeight + imageTop ) ?  (imageHeight - $(\"div.jqZoomPup\").height() -2 ) : ypos;\n\n                    }\n\n\n                    if(settings.lens){\n\n                    $(\"div.jqZoomPup\").css({ top: ypos,left: xpos });\n\n                    }\n\n\n\n\t\t\t\t\tscrolly = ypos;\n\n\t\t\t\t\t$(\"div.zoomdiv\").get(0).scrollTop = scrolly * scaley;\n\n\t\t\t\t\tscrollx = xpos;\n\n\t\t\t\t\t$(\"div.zoomdiv\").get(0).scrollLeft = (scrollx) * scalex ;\n\n\n\t\t\t\t    });\n\t\t    },function(){\n\n               $(this).children(\"img\").attr(\"alt\",noalt);\n\t\t       $(document.body).unbind(\"mousemove\");\n\t\t       if(settings.lens){\n\t\t       $(\"div.jqZoomPup\").remove();\n\t\t       }\n\t\t       $(\"div.zoomdiv\").remove();\n\n\t\t    });\n\n        count = 0;\n\n\t\tif(settings.preload){\n\n\t\t$('body').append(\"<div style='display:none;' class='jqPreload\"+count+\"'>sdsdssdsd</div>\");\n\n\t\t$(this).each(function(){\n\n        var imagetopreload= $(this).children(\"img\").attr(\"jqimg\");\n\n        var content = jQuery('div.jqPreload'+count+'').html();\n\n        jQuery('div.jqPreload'+count+'').html(content+'<img src=\\\"'+imagetopreload+'\\\">');\n\n\t\t});\n\n\t\t}\n\n\t\t}\n\n})(jQuery);\n\nfunction MouseEvent(e) {\nthis.x = e.pageX\nthis.y = e.pageY\n\n\n}\n\n\n"},{"id":11,"identifier":"D:\\云购\\public\\js\\libs\\base.js","name":"./js/libs/base.js","index":12,"index2":11,"size":1909,"cacheable":true,"built":false,"optional":false,"prefetched":false,"chunks":[1,5],"assets":[],"issuer":"D:\\云购\\public\\js\\app\\detail.main.js","failed":false,"errors":0,"warnings":0,"reasons":[{"moduleId":0,"moduleIdentifier":"D:\\云购\\public\\js\\app\\detail.main.js","module":"./js/app/detail.main.js","moduleName":"./js/app/detail.main.js","type":"cjs require","userRequest":"../libs/base","loc":"5:0-23"},{"moduleId":0,"moduleIdentifier":"D:\\云购\\public\\js\\app\\lottery.main.js","module":"./js/app/lottery.main.js","moduleName":"./js/app/lottery.main.js","type":"cjs require","userRequest":"../libs/base","loc":"6:0-23"}],"source":"\r\n//=====================全局函数========================\r\n//Tab控制函数\r\nfunction tabs(tabId, tabNum){\r\n\t//设置点击后的切换样式\r\n\t$(tabId + \" .tab li\").removeClass(\"curr\");\r\n\t$(tabId + \" .tab li\").eq(tabNum).addClass(\"curr\");\r\n\t//根据参数决定显示内容\r\n\t$(tabId + \" .tabcon\").hide();\r\n\t$(tabId + \" .tabcon\").eq(tabNum).show();\r\n}\r\n//=====================全局函数========================\r\n\r\n//==================图片详细页函数=====================\r\n//鼠标经过预览图片函数\r\nwindow.preview = function(img){\r\n\t$(\"#preview .jqzoom img\").attr(\"src\",$(img).attr(\"bimg\"));\r\n\t$(\"#preview .jqzoom img\").attr(\"jqimg\",$(img).attr(\"bimg\"));\r\n}\r\n\r\n//图片放大镜效果\r\n$(function(){\r\n\t$(\".jqzoom\").jqueryzoom({xzoom:380,yzoom:410});\r\n});\r\n\r\n//图片预览小图移动效果,页面加载时触发\r\n$(function(){\r\n\tvar tempLength = 0; //临时变量,当前移动的长度\r\n\tvar viewNum = 5; //设置每次显示图片的个数量\r\n\tvar moveNum = 2; //每次移动的数量\r\n\tvar moveTime = 300; //移动速度,毫秒\r\n\tvar scrollDiv = $(\".spec-scroll .items ul\"); //进行移动动画的容器\r\n\tvar scrollItems = $(\".spec-scroll .items ul li\"); //移动容器里的集合\r\n\tvar moveLength = scrollItems.eq(0).width() * moveNum; //计算每次移动的长度\r\n\tvar countLength = (scrollItems.length - viewNum) * scrollItems.eq(0).width(); //计算总长度,总个数*单个长度\r\n\t  \r\n\t//下一张\r\n\t$(\".spec-scroll .next\").bind(\"click\",function(){\r\n\t\tif(tempLength < countLength){\r\n\t\t\tif((countLength - tempLength) > moveLength){\r\n\t\t\t\tscrollDiv.animate({left:\"-=\" + moveLength + \"px\"}, moveTime);\r\n\t\t\t\ttempLength += moveLength;\r\n\t\t\t}else{\r\n\t\t\t\tscrollDiv.animate({left:\"-=\" + (countLength - tempLength) + \"px\"}, moveTime);\r\n\t\t\t\ttempLength += (countLength - tempLength);\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\t//上一张\r\n\t$(\".spec-scroll .prev\").bind(\"click\",function(){\r\n\t\tif(tempLength > 0){\r\n\t\t\tif(tempLength > moveLength){\r\n\t\t\t\tscrollDiv.animate({left: \"+=\" + moveLength + \"px\"}, moveTime);\r\n\t\t\t\ttempLength -= moveLength;\r\n\t\t\t}else{\r\n\t\t\t\tscrollDiv.animate({left: \"+=\" + tempLength + \"px\"}, moveTime);\r\n\t\t\t\ttempLength = 0;\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n});\r\n//==================图片详细页函数====================="},{"id":12,"identifier":"D:\\云购\\public\\js\\app\\collectFun.js","name":"./js/app/collectFun.js","index":13,"index2":12,"size":3385,"cacheable":true,"built":false,"optional":false,"prefetched":false,"chunks":[1,5,9,11],"assets":[],"issuer":"D:\\云购\\public\\js\\app\\detail.main.js","failed":false,"errors":0,"warnings":0,"reasons":[{"moduleId":0,"moduleIdentifier":"D:\\云购\\public\\js\\app\\detail.main.js","module":"./js/app/detail.main.js","moduleName":"./js/app/detail.main.js","type":"cjs require","userRequest":"./collectFun","loc":"7:0-23"},{"moduleId":0,"moduleIdentifier":"D:\\云购\\public\\js\\app\\lottery.main.js","module":"./js/app/lottery.main.js","moduleName":"./js/app/lottery.main.js","type":"cjs require","userRequest":"./collectFun","loc":"8:0-23"},{"moduleId":0,"moduleIdentifier":"D:\\云购\\public\\js\\app\\post.main.js","module":"./js/app/post.main.js","moduleName":"./js/app/post.main.js","type":"cjs require","userRequest":"./collectFun","loc":"5:0-23"},{"moduleId":0,"moduleIdentifier":"D:\\云购\\public\\js\\app\\uMy.main.js","module":"./js/app/uMy.main.js","moduleName":"./js/app/uMy.main.js","type":"cjs require","userRequest":"./collectFun","loc":"5:0-23"}],"source":"$(function(){\r\n    var no = '<i class=\"t-icon sc-icon ng-box-bg sc-icon-past\"></i>已关注';\r\n    var yes = '<i class=\"t-icon sc-icon ng-box-bg\"></i>关注';\r\n    // 检查是否关注\r\n    if( pageTrue==\"product\"||pageTrue==\"productindex\" ){\r\n        var $sc = $(\"#a_sc\");\r\n        checkcollectgoodsAjaxFun($sc.attr('goodsid'),function(data){\r\n            if( data.success ){\r\n                if( data.result ){\r\n                    $sc.addClass('has-in').html(no);\r\n                }else{\r\n                    $sc.removeClass('has-in').html(yes);\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n\t// 关注\r\n    $(\"#a_sc\").on(\"click\",function(){\r\n        var $this = $(this);\r\n        var goodsid = $this.attr('goodsid');\r\n        if( logoTrue ){\r\n            if( $this.hasClass(\"has-in\") ){\r\n                delcollectgoodsAjaxFun(goodsid,function(data){\r\n                    if( data.success ){\r\n                        $this.removeClass('has-in').html(yes);\r\n                    }\r\n                });\r\n            }else{\r\n                addcollectgoodsAjaxFun(goodsid,function(data){\r\n                    if( data.success ){\r\n                        $this.addClass('has-in').html(no);\r\n                    }\r\n                });\r\n            }\r\n        }else{\r\n            tanLoginFun(url);\r\n        }\r\n    });\r\n\r\n    // 关注\r\n    function addcollectgoodsAjaxFun(goodsid,Callback){\r\n        if( !ajaxlack ) return; ajaxlack = false;\r\n        $.ajax({\r\n            url: \"/goods/service/addcollectgoods\",\r\n            type: 'POST',\r\n            dataType: 'json',\r\n            data: { goods_id:goodsid }\r\n        })\r\n        .done(function(data) {\r\n            console.log(data);\r\n            if( data.success ){\r\n                Callback(data);\r\n            }else{\r\n                alert(data.error_msg);\r\n            }\r\n        })\r\n        .fail(function() {\r\n            // //alert('网络错误！')\r\n        })\r\n        .always(function() {\r\n            ajaxlack = true;\r\n        });\r\n    }\r\n\r\n    // 取消关注\r\n    function delcollectgoodsAjaxFun(goodsid,Callback){\r\n        if( !ajaxlack ) return; ajaxlack = false;\r\n        $.ajax({\r\n            url: \"/goods/service/delcollectgoods\",\r\n            type: 'POST',\r\n            dataType: 'json',\r\n            data: { goods_id:goodsid }\r\n        })\r\n        .done(function(data) {\r\n            console.log(data);\r\n            if( data.success ){\r\n                Callback(data);\r\n            }else{\r\n                alert(data.error_msg);\r\n            }\r\n        })\r\n        .fail(function() {\r\n            // //alert('网络错误！')\r\n        })\r\n        .always(function() {\r\n            ajaxlack = true;\r\n        });\r\n    }\r\n\r\n    // 检查是否关注\r\n    function checkcollectgoodsAjaxFun(goodsid,Callback){\r\n        if( !ajaxlack ) return; ajaxlack = false;\r\n        $.ajax({\r\n            url: \"/goods/service/checkcollectgoods\",\r\n            type: 'POST',\r\n            dataType: 'json',\r\n            data: { goods_id:goodsid }\r\n        })\r\n        .done(function(data) {\r\n            console.log(data);\r\n            if( data.success ){\r\n                Callback(data);\r\n            }else{\r\n                \r\n            }\r\n        })\r\n        .fail(function() {\r\n            // //alert('网络错误！')\r\n        })\r\n        .always(function() {\r\n            ajaxlack = true;\r\n        });\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n});"},{"id":13,"identifier":"D:\\云购\\public\\js\\app\\bottomFun.js","name":"./js/app/bottomFun.js","index":14,"index2":13,"size":9004,"cacheable":true,"built":false,"optional":false,"prefetched":false,"chunks":[1,2,3,5,6,8,9,11],"assets":[],"issuer":"D:\\云购\\public\\js\\app\\detail.main.js","failed":false,"errors":0,"warnings":0,"reasons":[{"moduleId":0,"moduleIdentifier":"D:\\云购\\public\\js\\app\\detail.main.js","module":"./js/app/detail.main.js","moduleName":"./js/app/detail.main.js","type":"cjs require","userRequest":"./bottomFun","loc":"9:0-22"},{"moduleId":0,"moduleIdentifier":"D:\\云购\\public\\js\\app\\help.main.js","module":"./js/app/help.main.js","moduleName":"./js/app/help.main.js","type":"cjs require","userRequest":"./bottomFun","loc":"3:0-22"},{"moduleId":0,"moduleIdentifier":"D:\\云购\\public\\js\\app\\lottery.main.js","module":"./js/app/lottery.main.js","moduleName":"./js/app/lottery.main.js","type":"cjs require","userRequest":"./bottomFun","loc":"9:0-22"},{"moduleId":0,"moduleIdentifier":"D:\\云购\\public\\js\\app\\memberindex.main.js","module":"./js/app/memberindex.main.js","moduleName":"./js/app/memberindex.main.js","type":"cjs require","userRequest":"./bottomFun","loc":"8:0-22"},{"moduleId":0,"moduleIdentifier":"D:\\云购\\public\\js\\app\\news.main.js","module":"./js/app/news.main.js","moduleName":"./js/app/news.main.js","type":"cjs require","userRequest":"./bottomFun","loc":"3:0-22"},{"moduleId":0,"moduleIdentifier":"D:\\云购\\public\\js\\app\\post.main.js","module":"./js/app/post.main.js","moduleName":"./js/app/post.main.js","type":"cjs require","userRequest":"./bottomFun","loc":"6:0-22"},{"moduleId":0,"moduleIdentifier":"D:\\云购\\public\\js\\app\\uMy.main.js","module":"./js/app/uMy.main.js","moduleName":"./js/app/uMy.main.js","type":"cjs require","userRequest":"./bottomFun","loc":"6:0-22"},{"moduleId":0,"moduleIdentifier":"D:\\云购\\public\\js\\app\\index.main.js","module":"./js/app/index.main.js","moduleName":"./js/app/index.main.js","type":"cjs require","userRequest":"./bottomFun","loc":"7:0-22"}],"source":"$(function(){\r\n\tvar cartAjaxTrue = true;\r\n\r\n\t// 判读显示购物车\r\n\tif( pageTrue==\"home\"||pageTrue==\"productindex\"||pageTrue==\"productlist\" ){\r\n\t\t$(\"#divRTool\").remove();\r\n\t}else{\r\n\t\t$(\"#rightTool\").remove();\r\n\t}\r\n\r\n\t// 右侧浮动窗口鼠标放上去效果\r\n\t$(\"#divRTool li\").hover(function(){\r\n\t\t$(this).addClass('cart-hover');\r\n\t},function(){\r\n\t\t$(this).removeClass('cart-hover');\r\n\t});\r\n\r\n\t// 滚动条监控事件\r\n\t// $(document).scroll(function() {\r\n\t// \tif( $(document).scrollTop()>100 ){\r\n\t// \t\t$(\"#rightTool, #divRTool\").fadeIn();\r\n\t// \t}else{\r\n\t// \t\t$(\"#rightTool, #divRTool\").fadeOut();\r\n\t// \t}\r\n\t// });\r\n\t$(\"#rightTool, #divRTool\").fadeIn();\r\n\r\n\t// 我的关注\r\n\t$(\"#ulRToolList .f-attention\").hover(function(){\r\n\t\t$(\".g-status-standard\").height(winheight);\r\n\t\t$(this).addClass('cart-hover');\r\n\t\t$(\"#divRTCartMain\").stop().animate({\"right\":\"-240px\"});\r\n\t\tif( !logoTrue ){\r\n\t\t\t$(\"#divRTColect\").show().css({\"bottom\":\"0px\", \"height\":winheight}).stop().animate({\"right\":\"37px\"});\r\n\t\t}\r\n\t},function(){\r\n\t\t$(this).removeClass('cart-hover');\r\n\t});\r\n\r\n\t// 右侧购物车列表\r\n\t$(\".f-shopping-cart\").hover(function(){\r\n\t\trightcartlabelFun();\r\n\t\t$(\".g-status-standard\").height(winheight);\r\n\t\t$(\"#divRTCartMain\").show().css({\"bottom\":\"0px\", \"height\":winheight}).stop().animate({\"right\":\"37px\"});\r\n\t\t$(\"#divRTColect\").stop().animate({\"right\":\"-240px\"});\r\n\t\t\r\n\t});\r\n\r\n\t// 鼠标移开后处理事件\r\n\t$(\"#rightTool\").mouseleave(function(){\r\n\t\t$(\"#divRTColect, #divRTCartMain\").stop().animate({\"right\":\"-240px\"});\r\n\t});\r\n\r\n\t// 点击关注\r\n\t$(\".f-attention\").click(function(){\r\n\t\tif( logoTrue ){\r\n\t\t\twindow.location.href = \"/member/index/collectlist\";\r\n\t\t}\r\n\t});\r\n\r\n\t// 弹出登录\r\n\t$(document).on(\"click\",\"#btnCltLogin\",function(){\r\n    \ttanLoginFun('/member/index/collectlist');\r\n    });\r\n\r\n    function rCartFun(){\r\n        $(\".r-plus, .r-less, .modify, .modify, .z-ygrc, #cart_shower\").off(\"click\");\r\n        $(\".modify\").off(\"keyup\");\r\n        // 增加商品数量\r\n        $(\".r-plus\").on(\"click\",function(){\r\n            var $this = $(this);\r\n            var val = eval($this.siblings(\"input\").val())+1;\r\n            var codeSurplus = eval($this.siblings(\"input\").attr(\"codeSurplus\"));\r\n            var goodsid = $this.siblings(\"input\").attr(\"goodsid\");\r\n            var codeID = $this.siblings(\"input\").attr(\"codeID\");\r\n            if( val>codeSurplus ) return;\r\n            cartNumFun(codeID,val,function(){\r\n                var jg = val;\r\n                $this.siblings(\"input\").val(jg);\r\n                $this.parents(\"dl\").find(\".jiage\").html(jg);\r\n                $this.parents(\"dl\").find(\".shuliang\").html(jg);\r\n                cartListNum();\r\n            });\r\n        });\r\n\r\n        // 减少商品数量\r\n        $(\".r-less\").on(\"click\",function(){\r\n            var $this = $(this);\r\n            var val = eval($this.siblings(\"input\").val())-1;\r\n            var goodsid = $this.siblings(\"input\").attr(\"goodsid\");\r\n            var codeID = $this.siblings(\"input\").attr(\"codeID\");\r\n            if( val<1 ) return;\r\n            cartNumFun(codeID,val,function(){\r\n                var jg = val;\r\n                $this.siblings(\"input\").val(jg);\r\n                $this.parents(\"dl\").find(\".jiage\").html(jg);\r\n                $this.parents(\"dl\").find(\".shuliang\").html(jg);\r\n                cartListNum();\r\n            });\r\n        });\r\n\r\n        // 输入价格\r\n        $(\".modify\").on(\"keyup\", function(){\r\n            var $this = $(this);\r\n            var goodsid = $(this).attr(\"goodsid\");\r\n            var codeID = $(this).attr(\"codeID\");\r\n            var val = $this.val();\r\n            cartNumFun(codeID,$this.val(),function(){\r\n                $this.parents(\"dl\").find(\".jiage\").html(jg);\r\n                $this.parents(\"dl\").find(\".shuliang\").html(jg);\r\n                cartListNum();\r\n            });\r\n        });\r\n\r\n        // 删除\r\n        $(\"#cart_shower .delete-close\").on(\"click\", function(){\r\n            var goodsid = $(this).attr(\"goodsid\");\r\n            var codeID = $(this).attr(\"codeID\");\r\n            $(this).parents(\"dl\").addClass(\"deleteDl\");\r\n            cartClearFun(codeID,function(){\r\n                $(\".deleteDl\").remove();\r\n                var $cartNumID = $(\"#rightCartNum\");\r\n                console.log($(\"#cart_shower dl\").length);\r\n                if( $(\"#cart_shower dl\").length<=0 ){\r\n                \t$(\".cartEmpty\").show().siblings().hide();\r\n                \t$cartNumID.html(0);\r\n                \treturn;\r\n                }\r\n\t            var cartNum = eval($cartNumID.html())-1;\r\n\t            $cartNumID.html(cartNum); \r\n            });\r\n        });\r\n\r\n        // 右侧购物车鼠标放上去调整商品数量\r\n        $(\".z-ygrc\").hover(function(){\r\n            $(this).parents(\"dl\").addClass(\"hover\");\r\n            $(this).find(\".three-row\").show().siblings().hide();\r\n        },function(){\r\n            $(this).find(\".three-row\").hide().siblings().show();\r\n            $(this).parents(\"dl\").removeClass(\"hover\");\r\n        });\r\n    }\r\n\r\n    // 去结算\r\n    $(\".accounts-btn\").on(\"click\", function(){\r\n        if( logoTrue ){\r\n            window.location.href = '/yungou/cart/list';\r\n        }else{\r\n            tanLoginFun('/yungou/cart/list');\r\n        }\r\n    });\r\n\r\n\r\n\t// 购物车输出\r\n\twindow.rightcartlabelFun = function (){\r\n\t\tif( !cartAjaxTrue ) return; cartAjaxTrue = false;\r\n\t\t$.ajax({\r\n\t        url: \"/order/cart/cartlabel\",\r\n\t        type: 'POST',\r\n\t        dataType: 'json',\r\n\t        data: {}\r\n\t    })\r\n\t    .done(function(data) {\r\n\t        console.log(data);\r\n\t        if( data.success ){\r\n\t\t\t\tvar dataLi = '';\r\n\t\t\t\tvar count = data.result.count;//': 6,\r\n\t\t\t\tvar money = data.result.money;//': 6\r\n\r\n\t\t\t\t// 购物车数量\r\n\t\t\t\tvar $numID = $(\"#rightCartNum\");\r\n\t\t\t\tif ( count<=0 ) {\r\n\t\t\t\t\t$numID.hide().html(0);\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\t$numID.show().html(count);\r\n\t\t\t\t\t$(\"#divCart\").html('<cite id=\"myCart\"><a href=\"/yungou/cart/list\" class=\"gray9\" target=\"_blank\">您的购物车有<em class=\"orange\">'+count+'</em>件商品，合计:<em class=\"orange\">￥'+money+'.00</em><i class=\"f-tran\">&gt;</i></a></cite>');\r\n\t\t\t\t}\r\n\r\n\t\t\t\t$.each(data.result.datas, function(i,item){\r\n\t\t\t\t\tvar codeID = item.codeID//': 2797956,\r\n\t\t            var goodsPic = item.goodsPic//': '20151023164405174.jpg',\r\n\t\t            var goodsName = item.goodsName//': '苹果（Apple）iPadPro12.9英寸平板电脑32GWiFi版',\r\n\t\t            var shopNum = item.shopNum//': 1,\r\n\t\t            var goodsID = item.goodsID//': 22591,\r\n\t\t            var codeQuantity = item.codeQuantity//': 5999,\r\n\t\t            var codeSurplus = item.codeSurplus//': 5911,\r\n\t\t            var codeType = item.codeType//': 0,\r\n\t\t            var codeLimitBuy = item.codeLimitBuy//': 0,\r\n\t\t            var myLimitSales = item.myLimitSales//': 0\r\n\t\t\t\t\tdataLi += '<dl goodsid=\"'+goodsID+'\" codeID=\"'+codeID+'\">'\r\n\t\t\t            +'<dd>'\r\n\t\t\t                +'<a href=\"javascript:;\" target=\"_blank\">'\r\n\t\t\t                    +'<img src=\"'+goodsPic+'\">'\r\n\t\t\t                +'</a>'\r\n\t\t\t            +'</dd>'\r\n\t\t\t            +'<dd class=\"z-ygrc\">'\r\n\t\t\t                +'<p class=\"two-row\" style=\"display: block;\">'\r\n\t\t\t                    +'<cite>'\r\n\t\t\t                        +'<em>云购人次：</em><em class=\"shuliang\">'+shopNum+'</em>'\r\n\t\t\t                    +'</cite>'\r\n\t\t\t                    +'<cite>'\r\n\t\t\t                        +'<em>小计：</em>￥<em class=\"jiage\" style=\"color:#f60;\">'+shopNum+'</em>.00'\r\n\t\t\t                    +'</cite>'\r\n\t\t\t                +'</p>'\r\n\t\t\t                +'<p class=\"three-row\" style=\"display: none;\">'\r\n\t\t\t                    +'<span class=\"gray6\">剩余 '+codeSurplus+'人次</span>'\r\n\t\t\t                    +'<span class=\"modify\">'\r\n\t\t\t                        +'<a href=\"javascript:;\" class=\"r-less\">-</a>'\r\n\t\t\t                        +'<input type=\"text\" value=\"'+shopNum+'\" codeSurplus=\"'+codeSurplus+'\" goodsid=\"'+goodsID+'\" codeID=\"'+codeID+'\">'\r\n\t\t\t                        +'<a href=\"javascript:;\" class=\"r-plus\">+</a>'\r\n\t\t\t                    +'</span>'\r\n\t\t\t                    +'<span id=\"miniTips\"></span>'\r\n\t\t\t                +'</p>'\r\n\t\t\t            +'</dd>'\r\n\t\t\t            +'<dd class=\"z-close\">'\r\n\t\t\t                +'<a href=\"javascript:;\" title=\"删除\" class=\"delete-close transparent-png\" goodsid=\"'+goodsID+'\" codeID=\"'+codeID+'\"></a>'\r\n\t\t\t            +'</dd>'\r\n\t\t\t        +'</dl>';\r\n\t\t    \t});\r\n\t\t\t\t\r\n\t\t\t\tif( dataLi=='' ){\r\n\t\t\t\t\t$(\".cartEmpty\").show().siblings().hide();\r\n\t\t\t\t}else{\r\n\t\t\t\t\t$(\".cartEmpty\").hide().siblings().show();\r\n\t\t\t\t\t$(\"#cart_shower\").html(dataLi);\r\n\t\t\t\t\t$(\".f-unfold-pay li.total-txt\").html('共<em class=\"orange\">'+count+'</em>个商品，合计：<b class=\"orange\">'+money+'.00</b>元');\r\n\t\t\t\t}\r\n\t        }else{\r\n\r\n\t        }\r\n\t    })\r\n\t    .fail(function() {\r\n\r\n\t    })\r\n\t    .always(function() {\r\n\t    \tcartAjaxTrue = true;\r\n\t    \trCartFun();\r\n\t    });\r\n\t}\r\n\r\n\trightcartlabelFun();\r\n\r\n\r\n    // 循环购物车数量\r\n    function cartListNum(){\r\n        var $dd = $(\"#cart_shower dl\");\r\n        var ddNum = $dd.length;\r\n        var val = 0;\r\n        for( var i=0; i<ddNum; i++ ) {\r\n            val += eval($dd.eq(i).find(\".jiage\").html());\r\n        }\r\n        $(\".f-unfold-pay li.total-txt\").html('共<em class=\"orange\">'+ddNum+'</em>个商品，合计：<b class=\"orange\">'+val+'.00</b>元');\r\n    }\r\n\r\n\r\n});"},{"id":14,"identifier":"D:\\云购\\public\\js\\libs\\jquery.SuperSlide.js","name":"./js/libs/jquery.SuperSlide.js","index":17,"index2":16,"size":11262,"cacheable":true,"built":false,"optional":false,"prefetched":false,"chunks":[3],"assets":[],"issuer":"D:\\云购\\public\\js\\app\\index.main.js","failed":false,"errors":0,"warnings":0,"reasons":[{"moduleId":0,"moduleIdentifier":"D:\\云购\\public\\js\\app\\index.main.js","module":"./js/app/index.main.js","moduleName":"./js/app/index.main.js","type":"cjs require","userRequest":"../libs/jquery.SuperSlide","loc":"2:0-36"}],"source":"/*!\r\n * SuperSlide v2.1.1 \r\n * 轻松解决网站大部分特效展示问题\r\n * 详尽信息请看官网：http://www.SuperSlide2.com/\r\n *\r\n * Copyright 2011-2013, 大话主席\r\n *\r\n * 请尊重原创，保留头部版权\r\n * 在保留版权的前提下可应用于个人或商业用途\r\n\r\n * v2.1.1：修复当调用多个SuperSlide，并设置returnDefault:true 时返回defaultIndex索引错误\r\n\r\n */\r\n!function(a){a.fn.slide=function(b){return a.fn.slide.defaults={type:\"slide\",effect:\"fade\",autoPlay:!1,delayTime:500,interTime:2500,triggerTime:150,defaultIndex:0,titCell:\".hd li\",mainCell:\".bd\",targetCell:null,trigger:\"mouseover\",scroll:1,vis:1,titOnClassName:\"on\",autoPage:!1,prevCell:\".prev\",nextCell:\".next\",pageStateCell:\".pageState\",opp:!1,pnLoop:!0,easing:\"swing\",startFun:null,endFun:null,switchLoad:null,playStateCell:\".playState\",mouseOverStop:!0,defaultPlay:!0,returnDefault:!1},this.each(function(){var c=a.extend({},a.fn.slide.defaults,b),d=a(this),e=c.effect,f=a(c.prevCell,d),g=a(c.nextCell,d),h=a(c.pageStateCell,d),i=a(c.playStateCell,d),j=a(c.titCell,d),k=j.size(),l=a(c.mainCell,d),m=l.children().size(),n=c.switchLoad,o=a(c.targetCell,d),p=parseInt(c.defaultIndex),q=parseInt(c.delayTime),r=parseInt(c.interTime);parseInt(c.triggerTime);var Q,t=parseInt(c.scroll),u=parseInt(c.vis),v=\"false\"==c.autoPlay||0==c.autoPlay?!1:!0,w=\"false\"==c.opp||0==c.opp?!1:!0,x=\"false\"==c.autoPage||0==c.autoPage?!1:!0,y=\"false\"==c.pnLoop||0==c.pnLoop?!1:!0,z=\"false\"==c.mouseOverStop||0==c.mouseOverStop?!1:!0,A=\"false\"==c.defaultPlay||0==c.defaultPlay?!1:!0,B=\"false\"==c.returnDefault||0==c.returnDefault?!1:!0,C=0,D=0,E=0,F=0,G=c.easing,H=null,I=null,J=null,K=c.titOnClassName,L=j.index(d.find(\".\"+K)),M=p=-1==L?p:L,N=p,O=p,P=m>=u?0!=m%t?m%t:t:0,R=\"leftMarquee\"==e||\"topMarquee\"==e?!0:!1,S=function(){a.isFunction(c.startFun)&&c.startFun(p,k,d,a(c.titCell,d),l,o,f,g)},T=function(){a.isFunction(c.endFun)&&c.endFun(p,k,d,a(c.titCell,d),l,o,f,g)},U=function(){j.removeClass(K),A&&j.eq(N).addClass(K)};if(\"menu\"==c.type)return A&&j.removeClass(K).eq(p).addClass(K),j.hover(function(){Q=a(this).find(c.targetCell);var b=j.index(a(this));I=setTimeout(function(){switch(p=b,j.removeClass(K).eq(p).addClass(K),S(),e){case\"fade\":Q.stop(!0,!0).animate({opacity:\"show\"},q,G,T);break;case\"slideDown\":Q.stop(!0,!0).animate({height:\"show\"},q,G,T)}},c.triggerTime)},function(){switch(clearTimeout(I),e){case\"fade\":Q.animate({opacity:\"hide\"},q,G);break;case\"slideDown\":Q.animate({height:\"hide\"},q,G)}}),B&&d.hover(function(){clearTimeout(J)},function(){J=setTimeout(U,q)}),void 0;if(0==k&&(k=m),R&&(k=2),x){if(m>=u)if(\"leftLoop\"==e||\"topLoop\"==e)k=0!=m%t?(0^m/t)+1:m/t;else{var V=m-u;k=1+parseInt(0!=V%t?V/t+1:V/t),0>=k&&(k=1)}else k=1;j.html(\"\");var W=\"\";if(1==c.autoPage||\"true\"==c.autoPage)for(var X=0;k>X;X++)W+=\"<li>\"+(X+1)+\"</li>\";else for(var X=0;k>X;X++)W+=c.autoPage.replace(\"$\",X+1);j.html(W);var j=j.children()}if(m>=u){l.children().each(function(){a(this).width()>E&&(E=a(this).width(),D=a(this).outerWidth(!0)),a(this).height()>F&&(F=a(this).height(),C=a(this).outerHeight(!0))});var Y=l.children(),Z=function(){for(var a=0;u>a;a++)Y.eq(a).clone().addClass(\"clone\").appendTo(l);for(var a=0;P>a;a++)Y.eq(m-a-1).clone().addClass(\"clone\").prependTo(l)};switch(e){case\"fold\":l.css({position:\"relative\",width:D,height:C}).children().css({position:\"absolute\",width:E,left:0,top:0,display:\"none\"});break;case\"top\":l.wrap('<div class=\"tempWrap\" style=\"overflow:hidden; position:relative; height:'+u*C+'px\"></div>').css({top:-(p*t)*C,position:\"relative\",padding:\"0\",margin:\"0\"}).children().css({height:F});break;case\"left\":l.wrap('<div class=\"tempWrap\" style=\"overflow:hidden; position:relative; width:'+u*D+'px\"></div>').css({width:m*D,left:-(p*t)*D,position:\"relative\",overflow:\"hidden\",padding:\"0\",margin:\"0\"}).children().css({\"float\":\"left\",width:E});break;case\"leftLoop\":case\"leftMarquee\":Z(),l.wrap('<div class=\"tempWrap\" style=\"overflow:hidden; position:relative; width:'+u*D+'px\"></div>').css({width:(m+u+P)*D,position:\"relative\",overflow:\"hidden\",padding:\"0\",margin:\"0\",left:-(P+p*t)*D}).children().css({\"float\":\"left\",width:E});break;case\"topLoop\":case\"topMarquee\":Z(),l.wrap('<div class=\"tempWrap\" style=\"overflow:hidden; position:relative; height:'+u*C+'px\"></div>').css({height:(m+u+P)*C,position:\"relative\",padding:\"0\",margin:\"0\",top:-(P+p*t)*C}).children().css({height:F})}}var $=function(a){var b=a*t;return a==k?b=m:-1==a&&0!=m%t&&(b=-m%t),b},_=function(b){var c=function(c){for(var d=c;u+c>d;d++)b.eq(d).find(\"img[\"+n+\"]\").each(function(){var b=a(this);if(b.attr(\"src\",b.attr(n)).removeAttr(n),l.find(\".clone\")[0])for(var c=l.children(),d=0;d<c.size();d++)c.eq(d).find(\"img[\"+n+\"]\").each(function(){a(this).attr(n)==b.attr(\"src\")&&a(this).attr(\"src\",a(this).attr(n)).removeAttr(n)})})};switch(e){case\"fade\":case\"fold\":case\"top\":case\"left\":case\"slideDown\":c(p*t);break;case\"leftLoop\":case\"topLoop\":c(P+$(O));break;case\"leftMarquee\":case\"topMarquee\":var d=\"leftMarquee\"==e?l.css(\"left\").replace(\"px\",\"\"):l.css(\"top\").replace(\"px\",\"\"),f=\"leftMarquee\"==e?D:C,g=P;if(0!=d%f){var h=Math.abs(0^d/f);g=1==p?P+h:P+h-1}c(g)}},ab=function(a){if(!A||M!=p||a||R){if(R?p>=1?p=1:0>=p&&(p=0):(O=p,p>=k?p=0:0>p&&(p=k-1)),S(),null!=n&&_(l.children()),o[0]&&(Q=o.eq(p),null!=n&&_(o),\"slideDown\"==e?(o.not(Q).stop(!0,!0).slideUp(q),Q.slideDown(q,G,function(){l[0]||T()})):(o.not(Q).stop(!0,!0).hide(),Q.animate({opacity:\"show\"},q,function(){l[0]||T()}))),m>=u)switch(e){case\"fade\":l.children().stop(!0,!0).eq(p).animate({opacity:\"show\"},q,G,function(){T()}).siblings().hide();break;case\"fold\":l.children().stop(!0,!0).eq(p).animate({opacity:\"show\"},q,G,function(){T()}).siblings().animate({opacity:\"hide\"},q,G);break;case\"top\":l.stop(!0,!1).animate({top:-p*t*C},q,G,function(){T()});break;case\"left\":l.stop(!0,!1).animate({left:-p*t*D},q,G,function(){T()});break;case\"leftLoop\":var b=O;l.stop(!0,!0).animate({left:-($(O)+P)*D},q,G,function(){-1>=b?l.css(\"left\",-(P+(k-1)*t)*D):b>=k&&l.css(\"left\",-P*D),T()});break;case\"topLoop\":var b=O;l.stop(!0,!0).animate({top:-($(O)+P)*C},q,G,function(){-1>=b?l.css(\"top\",-(P+(k-1)*t)*C):b>=k&&l.css(\"top\",-P*C),T()});break;case\"leftMarquee\":var c=l.css(\"left\").replace(\"px\",\"\");0==p?l.animate({left:++c},0,function(){l.css(\"left\").replace(\"px\",\"\")>=0&&l.css(\"left\",-m*D)}):l.animate({left:--c},0,function(){l.css(\"left\").replace(\"px\",\"\")<=-(m+P)*D&&l.css(\"left\",-P*D)});break;case\"topMarquee\":var d=l.css(\"top\").replace(\"px\",\"\");0==p?l.animate({top:++d},0,function(){l.css(\"top\").replace(\"px\",\"\")>=0&&l.css(\"top\",-m*C)}):l.animate({top:--d},0,function(){l.css(\"top\").replace(\"px\",\"\")<=-(m+P)*C&&l.css(\"top\",-P*C)})}j.removeClass(K).eq(p).addClass(K),M=p,y||(g.removeClass(\"nextStop\"),f.removeClass(\"prevStop\"),0==p&&f.addClass(\"prevStop\"),p==k-1&&g.addClass(\"nextStop\")),h.html(\"<span>\"+(p+1)+\"</span>/\"+k)}};A&&ab(!0),B&&d.hover(function(){clearTimeout(J)},function(){J=setTimeout(function(){p=N,A?ab():\"slideDown\"==e?Q.slideUp(q,U):Q.animate({opacity:\"hide\"},q,U),M=p},300)});var bb=function(a){H=setInterval(function(){w?p--:p++,ab()},a?a:r)},cb=function(a){H=setInterval(ab,a?a:r)},db=function(){z||(clearInterval(H),bb())},eb=function(){(y||p!=k-1)&&(p++,ab(),R||db())},fb=function(){(y||0!=p)&&(p--,ab(),R||db())},gb=function(){clearInterval(H),R?cb():bb(),i.removeClass(\"pauseState\")},hb=function(){clearInterval(H),i.addClass(\"pauseState\")};if(v?R?(w?p--:p++,cb(),z&&l.hover(hb,gb)):(bb(),z&&d.hover(hb,gb)):(R&&(w?p--:p++),i.addClass(\"pauseState\")),i.click(function(){i.hasClass(\"pauseState\")?gb():hb()}),\"mouseover\"==c.trigger?j.hover(function(){var a=j.index(this);I=setTimeout(function(){p=a,ab(),db()},c.triggerTime)},function(){clearTimeout(I)}):j.click(function(){p=j.index(this),ab(),db()}),R){if(g.mousedown(eb),f.mousedown(fb),y){var ib,jb=function(){ib=setTimeout(function(){clearInterval(H),cb(0^r/10)},150)},kb=function(){clearTimeout(ib),clearInterval(H),cb()};g.mousedown(jb),g.mouseup(kb),f.mousedown(jb),f.mouseup(kb)}\"mouseover\"==c.trigger&&(g.hover(eb,function(){}),f.hover(fb,function(){}))}else g.click(eb),f.click(fb)})}}(jQuery),jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:\"easeOutQuad\",swing:function(a,b,c,d,e){return jQuery.easing[jQuery.easing.def](a,b,c,d,e)},easeInQuad:function(a,b,c,d,e){return d*(b/=e)*b+c},easeOutQuad:function(a,b,c,d,e){return-d*(b/=e)*(b-2)+c},easeInOutQuad:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b+c:-d/2*(--b*(b-2)-1)+c},easeInCubic:function(a,b,c,d,e){return d*(b/=e)*b*b+c},easeOutCubic:function(a,b,c,d,e){return d*((b=b/e-1)*b*b+1)+c},easeInOutCubic:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b+c:d/2*((b-=2)*b*b+2)+c},easeInQuart:function(a,b,c,d,e){return d*(b/=e)*b*b*b+c},easeOutQuart:function(a,b,c,d,e){return-d*((b=b/e-1)*b*b*b-1)+c},easeInOutQuart:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b*b+c:-d/2*((b-=2)*b*b*b-2)+c},easeInQuint:function(a,b,c,d,e){return d*(b/=e)*b*b*b*b+c},easeOutQuint:function(a,b,c,d,e){return d*((b=b/e-1)*b*b*b*b+1)+c},easeInOutQuint:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b*b*b+c:d/2*((b-=2)*b*b*b*b+2)+c},easeInSine:function(a,b,c,d,e){return-d*Math.cos(b/e*(Math.PI/2))+d+c},easeOutSine:function(a,b,c,d,e){return d*Math.sin(b/e*(Math.PI/2))+c},easeInOutSine:function(a,b,c,d,e){return-d/2*(Math.cos(Math.PI*b/e)-1)+c},easeInExpo:function(a,b,c,d,e){return 0==b?c:d*Math.pow(2,10*(b/e-1))+c},easeOutExpo:function(a,b,c,d,e){return b==e?c+d:d*(-Math.pow(2,-10*b/e)+1)+c},easeInOutExpo:function(a,b,c,d,e){return 0==b?c:b==e?c+d:(b/=e/2)<1?d/2*Math.pow(2,10*(b-1))+c:d/2*(-Math.pow(2,-10*--b)+2)+c},easeInCirc:function(a,b,c,d,e){return-d*(Math.sqrt(1-(b/=e)*b)-1)+c},easeOutCirc:function(a,b,c,d,e){return d*Math.sqrt(1-(b=b/e-1)*b)+c},easeInOutCirc:function(a,b,c,d,e){return(b/=e/2)<1?-d/2*(Math.sqrt(1-b*b)-1)+c:d/2*(Math.sqrt(1-(b-=2)*b)+1)+c},easeInElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(0==b)return c;if(1==(b/=e))return c+d;if(g||(g=.3*e),h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return-(h*Math.pow(2,10*(b-=1))*Math.sin((b*e-f)*2*Math.PI/g))+c},easeOutElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(0==b)return c;if(1==(b/=e))return c+d;if(g||(g=.3*e),h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return h*Math.pow(2,-10*b)*Math.sin((b*e-f)*2*Math.PI/g)+d+c},easeInOutElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(0==b)return c;if(2==(b/=e/2))return c+d;if(g||(g=e*.3*1.5),h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return 1>b?-.5*h*Math.pow(2,10*(b-=1))*Math.sin((b*e-f)*2*Math.PI/g)+c:.5*h*Math.pow(2,-10*(b-=1))*Math.sin((b*e-f)*2*Math.PI/g)+d+c},easeInBack:function(a,b,c,d,e,f){return void 0==f&&(f=1.70158),d*(b/=e)*b*((f+1)*b-f)+c},easeOutBack:function(a,b,c,d,e,f){return void 0==f&&(f=1.70158),d*((b=b/e-1)*b*((f+1)*b+f)+1)+c},easeInOutBack:function(a,b,c,d,e,f){return void 0==f&&(f=1.70158),(b/=e/2)<1?d/2*b*b*(((f*=1.525)+1)*b-f)+c:d/2*((b-=2)*b*(((f*=1.525)+1)*b+f)+2)+c},easeInBounce:function(a,b,c,d,e){return d-jQuery.easing.easeOutBounce(a,e-b,0,d,e)+c},easeOutBounce:function(a,b,c,d,e){return(b/=e)<1/2.75?d*7.5625*b*b+c:2/2.75>b?d*(7.5625*(b-=1.5/2.75)*b+.75)+c:2.5/2.75>b?d*(7.5625*(b-=2.25/2.75)*b+.9375)+c:d*(7.5625*(b-=2.625/2.75)*b+.984375)+c},easeInOutBounce:function(a,b,c,d,e){return e/2>b?.5*jQuery.easing.easeInBounce(a,2*b,0,d,e)+c:.5*jQuery.easing.easeOutBounce(a,2*b-e,0,d,e)+.5*d+c}});"},{"id":15,"identifier":"D:\\云购\\public\\js\\libs\\jquery-form.js","name":"./js/libs/jquery-form.js","index":21,"index2":20,"size":45167,"cacheable":true,"built":false,"optional":false,"prefetched":false,"chunks":[6],"assets":[],"issuer":"D:\\云购\\public\\js\\app\\memberindex.main.js","failed":false,"errors":0,"warnings":0,"reasons":[{"moduleId":0,"moduleIdentifier":"D:\\云购\\public\\js\\app\\memberindex.main.js","module":"./js/app/memberindex.main.js","moduleName":"./js/app/memberindex.main.js","type":"cjs require","userRequest":"../libs/jquery-form","loc":"2:0-30"}],"source":"/*!\r\n * jQuery Form Plugin\r\n * version: 3.51.0-2014.06.20\r\n * Requires jQuery v1.5 or later\r\n * Copyright (c) 2014 M. Alsup\r\n * Examples and documentation at: http://malsup.com/jquery/form/\r\n * Project repository: https://github.com/malsup/form\r\n * Dual licensed under the MIT and GPL licenses.\r\n * https://github.com/malsup/form#copyright-and-license\r\n */\r\n/*global ActiveXObject */\r\n\r\n// AMD support\r\n(function (factory) {\r\n    \"use strict\";\r\n    if (typeof define === 'function' && define.amd) {\r\n        // using AMD; register as anon module\r\n        define(['jquery'], factory);\r\n    } else {\r\n        // no AMD; invoke directly\r\n        factory( (typeof(jQuery) != 'undefined') ? jQuery : window.Zepto );\r\n    }\r\n}\r\n\r\n(function($) {\r\n\"use strict\";\r\n\r\n/*\r\n    Usage Note:\r\n    -----------\r\n    Do not use both ajaxSubmit and ajaxForm on the same form.  These\r\n    functions are mutually exclusive.  Use ajaxSubmit if you want\r\n    to bind your own submit handler to the form.  For example,\r\n\r\n    $(document).ready(function() {\r\n        $('#myForm').on('submit', function(e) {\r\n            e.preventDefault(); // <-- important\r\n            $(this).ajaxSubmit({\r\n                target: '#output'\r\n            });\r\n        });\r\n    });\r\n\r\n    Use ajaxForm when you want the plugin to manage all the event binding\r\n    for you.  For example,\r\n\r\n    $(document).ready(function() {\r\n        $('#myForm').ajaxForm({\r\n            target: '#output'\r\n        });\r\n    });\r\n\r\n    You can also use ajaxForm with delegation (requires jQuery v1.7+), so the\r\n    form does not have to exist when you invoke ajaxForm:\r\n\r\n    $('#myForm').ajaxForm({\r\n        delegation: true,\r\n        target: '#output'\r\n    });\r\n\r\n    When using ajaxForm, the ajaxSubmit function will be invoked for you\r\n    at the appropriate time.\r\n*/\r\n\r\n/**\r\n * Feature detection\r\n */\r\nvar feature = {};\r\nfeature.fileapi = $(\"<input type='file'/>\").get(0).files !== undefined;\r\nfeature.formdata = window.FormData !== undefined;\r\n\r\nvar hasProp = !!$.fn.prop;\r\n\r\n// attr2 uses prop when it can but checks the return type for\r\n// an expected string.  this accounts for the case where a form \r\n// contains inputs with names like \"action\" or \"method\"; in those\r\n// cases \"prop\" returns the element\r\n$.fn.attr2 = function() {\r\n    if ( ! hasProp ) {\r\n        return this.attr.apply(this, arguments);\r\n    }\r\n    var val = this.prop.apply(this, arguments);\r\n    if ( ( val && val.jquery ) || typeof val === 'string' ) {\r\n        return val;\r\n    }\r\n    return this.attr.apply(this, arguments);\r\n};\r\n\r\n/**\r\n * ajaxSubmit() provides a mechanism for immediately submitting\r\n * an HTML form using AJAX.\r\n */\r\n$.fn.ajaxSubmit = function(options) {\r\n    /*jshint scripturl:true */\r\n\r\n    // fast fail if nothing selected (http://dev.jquery.com/ticket/2752)\r\n    if (!this.length) {\r\n        log('ajaxSubmit: skipping submit process - no element selected');\r\n        return this;\r\n    }\r\n\r\n    var method, action, url, $form = this;\r\n\r\n    if (typeof options == 'function') {\r\n        options = { success: options };\r\n    }\r\n    else if ( options === undefined ) {\r\n        options = {};\r\n    }\r\n\r\n    method = options.type || this.attr2('method');\r\n    action = options.url  || this.attr2('action');\r\n\r\n    url = (typeof action === 'string') ? $.trim(action) : '';\r\n    url = url || window.location.href || '';\r\n    if (url) {\r\n        // clean url (don't include hash vaue)\r\n        url = (url.match(/^([^#]+)/)||[])[1];\r\n    }\r\n\r\n    options = $.extend(true, {\r\n        url:  url,\r\n        success: $.ajaxSettings.success,\r\n        type: method || $.ajaxSettings.type,\r\n        iframeSrc: /^https/i.test(window.location.href || '') ? 'javascript:false' : 'about:blank'\r\n    }, options);\r\n\r\n    // hook for manipulating the form data before it is extracted;\r\n    // convenient for use with rich editors like tinyMCE or FCKEditor\r\n    var veto = {};\r\n    this.trigger('form-pre-serialize', [this, options, veto]);\r\n    if (veto.veto) {\r\n        log('ajaxSubmit: submit vetoed via form-pre-serialize trigger');\r\n        return this;\r\n    }\r\n\r\n    // provide opportunity to alter form data before it is serialized\r\n    if (options.beforeSerialize && options.beforeSerialize(this, options) === false) {\r\n        log('ajaxSubmit: submit aborted via beforeSerialize callback');\r\n        return this;\r\n    }\r\n\r\n    var traditional = options.traditional;\r\n    if ( traditional === undefined ) {\r\n        traditional = $.ajaxSettings.traditional;\r\n    }\r\n\r\n    var elements = [];\r\n    var qx, a = this.formToArray(options.semantic, elements);\r\n    if (options.data) {\r\n        options.extraData = options.data;\r\n        qx = $.param(options.data, traditional);\r\n    }\r\n\r\n    // give pre-submit callback an opportunity to abort the submit\r\n    if (options.beforeSubmit && options.beforeSubmit(a, this, options) === false) {\r\n        log('ajaxSubmit: submit aborted via beforeSubmit callback');\r\n        return this;\r\n    }\r\n\r\n    // fire vetoable 'validate' event\r\n    this.trigger('form-submit-validate', [a, this, options, veto]);\r\n    if (veto.veto) {\r\n        log('ajaxSubmit: submit vetoed via form-submit-validate trigger');\r\n        return this;\r\n    }\r\n\r\n    var q = $.param(a, traditional);\r\n    if (qx) {\r\n        q = ( q ? (q + '&' + qx) : qx );\r\n    }\r\n    if (options.type.toUpperCase() == 'GET') {\r\n        options.url += (options.url.indexOf('?') >= 0 ? '&' : '?') + q;\r\n        options.data = null;  // data is null for 'get'\r\n    }\r\n    else {\r\n        options.data = q; // data is the query string for 'post'\r\n    }\r\n\r\n    var callbacks = [];\r\n    if (options.resetForm) {\r\n        callbacks.push(function() { $form.resetForm(); });\r\n    }\r\n    if (options.clearForm) {\r\n        callbacks.push(function() { $form.clearForm(options.includeHidden); });\r\n    }\r\n\r\n    // perform a load on the target only if dataType is not provided\r\n    if (!options.dataType && options.target) {\r\n        var oldSuccess = options.success || function(){};\r\n        callbacks.push(function(data) {\r\n            var fn = options.replaceTarget ? 'replaceWith' : 'html';\r\n            $(options.target)[fn](data).each(oldSuccess, arguments);\r\n        });\r\n    }\r\n    else if (options.success) {\r\n        callbacks.push(options.success);\r\n    }\r\n\r\n    options.success = function(data, status, xhr) { // jQuery 1.4+ passes xhr as 3rd arg\r\n        var context = options.context || this ;    // jQuery 1.4+ supports scope context\r\n        for (var i=0, max=callbacks.length; i < max; i++) {\r\n            callbacks[i].apply(context, [data, status, xhr || $form, $form]);\r\n        }\r\n    };\r\n\r\n    if (options.error) {\r\n        var oldError = options.error;\r\n        options.error = function(xhr, status, error) {\r\n            var context = options.context || this;\r\n            oldError.apply(context, [xhr, status, error, $form]);\r\n        };\r\n    }\r\n\r\n     if (options.complete) {\r\n        var oldComplete = options.complete;\r\n        options.complete = function(xhr, status) {\r\n            var context = options.context || this;\r\n            oldComplete.apply(context, [xhr, status, $form]);\r\n        };\r\n    }\r\n\r\n    // are there files to upload?\r\n\r\n    // [value] (issue #113), also see comment:\r\n    // https://github.com/malsup/form/commit/588306aedba1de01388032d5f42a60159eea9228#commitcomment-2180219\r\n    var fileInputs = $('input[type=file]:enabled', this).filter(function() { return $(this).val() !== ''; });\r\n\r\n    var hasFileInputs = fileInputs.length > 0;\r\n    var mp = 'multipart/form-data';\r\n    var multipart = ($form.attr('enctype') == mp || $form.attr('encoding') == mp);\r\n\r\n    var fileAPI = feature.fileapi && feature.formdata;\r\n    log(\"fileAPI :\" + fileAPI);\r\n    var shouldUseFrame = (hasFileInputs || multipart) && !fileAPI;\r\n\r\n    var jqxhr;\r\n\r\n    // options.iframe allows user to force iframe mode\r\n    // 06-NOV-09: now defaulting to iframe mode if file input is detected\r\n    if (options.iframe !== false && (options.iframe || shouldUseFrame)) {\r\n        // hack to fix Safari hang (thanks to Tim Molendijk for this)\r\n        // see:  http://groups.google.com/group/jquery-dev/browse_thread/thread/36395b7ab510dd5d\r\n        if (options.closeKeepAlive) {\r\n            $.get(options.closeKeepAlive, function() {\r\n                jqxhr = fileUploadIframe(a);\r\n            });\r\n        }\r\n        else {\r\n            jqxhr = fileUploadIframe(a);\r\n        }\r\n    }\r\n    else if ((hasFileInputs || multipart) && fileAPI) {\r\n        jqxhr = fileUploadXhr(a);\r\n    }\r\n    else {\r\n        jqxhr = $.ajax(options);\r\n    }\r\n\r\n    $form.removeData('jqxhr').data('jqxhr', jqxhr);\r\n\r\n    // clear element array\r\n    for (var k=0; k < elements.length; k++) {\r\n        elements[k] = null;\r\n    }\r\n\r\n    // fire 'notify' event\r\n    this.trigger('form-submit-notify', [this, options]);\r\n    return this;\r\n\r\n    // utility fn for deep serialization\r\n    function deepSerialize(extraData){\r\n        var serialized = $.param(extraData, options.traditional).split('&');\r\n        var len = serialized.length;\r\n        var result = [];\r\n        var i, part;\r\n        for (i=0; i < len; i++) {\r\n            // #252; undo param space replacement\r\n            serialized[i] = serialized[i].replace(/\\+/g,' ');\r\n            part = serialized[i].split('=');\r\n            // #278; use array instead of object storage, favoring array serializations\r\n            result.push([decodeURIComponent(part[0]), decodeURIComponent(part[1])]);\r\n        }\r\n        return result;\r\n    }\r\n\r\n     // XMLHttpRequest Level 2 file uploads (big hat tip to francois2metz)\r\n    function fileUploadXhr(a) {\r\n        var formdata = new FormData();\r\n\r\n        for (var i=0; i < a.length; i++) {\r\n            formdata.append(a[i].name, a[i].value);\r\n        }\r\n\r\n        if (options.extraData) {\r\n            var serializedData = deepSerialize(options.extraData);\r\n            for (i=0; i < serializedData.length; i++) {\r\n                if (serializedData[i]) {\r\n                    formdata.append(serializedData[i][0], serializedData[i][1]);\r\n                }\r\n            }\r\n        }\r\n\r\n        options.data = null;\r\n\r\n        var s = $.extend(true, {}, $.ajaxSettings, options, {\r\n            contentType: false,\r\n            processData: false,\r\n            cache: false,\r\n            type: method || 'POST'\r\n        });\r\n\r\n        if (options.uploadProgress) {\r\n            // workaround because jqXHR does not expose upload property\r\n            s.xhr = function() {\r\n                var xhr = $.ajaxSettings.xhr();\r\n                if (xhr.upload) {\r\n                    xhr.upload.addEventListener('progress', function(event) {\r\n                        var percent = 0;\r\n                        var position = event.loaded || event.position; /*event.position is deprecated*/\r\n                        var total = event.total;\r\n                        if (event.lengthComputable) {\r\n                            percent = Math.ceil(position / total * 100);\r\n                        }\r\n                        options.uploadProgress(event, position, total, percent);\r\n                    }, false);\r\n                }\r\n                return xhr;\r\n            };\r\n        }\r\n\r\n        s.data = null;\r\n        var beforeSend = s.beforeSend;\r\n        s.beforeSend = function(xhr, o) {\r\n            //Send FormData() provided by user\r\n            if (options.formData) {\r\n                o.data = options.formData;\r\n            }\r\n            else {\r\n                o.data = formdata;\r\n            }\r\n            if(beforeSend) {\r\n                beforeSend.call(this, xhr, o);\r\n            }\r\n        };\r\n        return $.ajax(s);\r\n    }\r\n\r\n    // private function for handling file uploads (hat tip to YAHOO!)\r\n    function fileUploadIframe(a) {\r\n        var form = $form[0], el, i, s, g, id, $io, io, xhr, sub, n, timedOut, timeoutHandle;\r\n        var deferred = $.Deferred();\r\n\r\n        // #341\r\n        deferred.abort = function(status) {\r\n            xhr.abort(status);\r\n        };\r\n\r\n        if (a) {\r\n            // ensure that every serialized input is still enabled\r\n            for (i=0; i < elements.length; i++) {\r\n                el = $(elements[i]);\r\n                if ( hasProp ) {\r\n                    el.prop('disabled', false);\r\n                }\r\n                else {\r\n                    el.removeAttr('disabled');\r\n                }\r\n            }\r\n        }\r\n\r\n        s = $.extend(true, {}, $.ajaxSettings, options);\r\n        s.context = s.context || s;\r\n        id = 'jqFormIO' + (new Date().getTime());\r\n        if (s.iframeTarget) {\r\n            $io = $(s.iframeTarget);\r\n            n = $io.attr2('name');\r\n            if (!n) {\r\n                $io.attr2('name', id);\r\n            }\r\n            else {\r\n                id = n;\r\n            }\r\n        }\r\n        else {\r\n            $io = $('<iframe name=\"' + id + '\" src=\"'+ s.iframeSrc +'\" />');\r\n            $io.css({ position: 'absolute', top: '-1000px', left: '-1000px' });\r\n        }\r\n        io = $io[0];\r\n\r\n\r\n        xhr = { // mock object\r\n            aborted: 0,\r\n            responseText: null,\r\n            responseXML: null,\r\n            status: 0,\r\n            statusText: 'n/a',\r\n            getAllResponseHeaders: function() {},\r\n            getResponseHeader: function() {},\r\n            setRequestHeader: function() {},\r\n            abort: function(status) {\r\n                var e = (status === 'timeout' ? 'timeout' : 'aborted');\r\n                log('aborting upload... ' + e);\r\n                this.aborted = 1;\r\n\r\n                try { // #214, #257\r\n                    if (io.contentWindow.document.execCommand) {\r\n                        io.contentWindow.document.execCommand('Stop');\r\n                    }\r\n                }\r\n                catch(ignore) {}\r\n\r\n                $io.attr('src', s.iframeSrc); // abort op in progress\r\n                xhr.error = e;\r\n                if (s.error) {\r\n                    s.error.call(s.context, xhr, e, status);\r\n                }\r\n                if (g) {\r\n                    $.event.trigger(\"ajaxError\", [xhr, s, e]);\r\n                }\r\n                if (s.complete) {\r\n                    s.complete.call(s.context, xhr, e);\r\n                }\r\n            }\r\n        };\r\n\r\n        g = s.global;\r\n        // trigger ajax global events so that activity/block indicators work like normal\r\n        if (g && 0 === $.active++) {\r\n            $.event.trigger(\"ajaxStart\");\r\n        }\r\n        if (g) {\r\n            $.event.trigger(\"ajaxSend\", [xhr, s]);\r\n        }\r\n\r\n        if (s.beforeSend && s.beforeSend.call(s.context, xhr, s) === false) {\r\n            if (s.global) {\r\n                $.active--;\r\n            }\r\n            deferred.reject();\r\n            return deferred;\r\n        }\r\n        if (xhr.aborted) {\r\n            deferred.reject();\r\n            return deferred;\r\n        }\r\n\r\n        // add submitting element to data if we know it\r\n        sub = form.clk;\r\n        if (sub) {\r\n            n = sub.name;\r\n            if (n && !sub.disabled) {\r\n                s.extraData = s.extraData || {};\r\n                s.extraData[n] = sub.value;\r\n                if (sub.type == \"image\") {\r\n                    s.extraData[n+'.x'] = form.clk_x;\r\n                    s.extraData[n+'.y'] = form.clk_y;\r\n                }\r\n            }\r\n        }\r\n\r\n        var CLIENT_TIMEOUT_ABORT = 1;\r\n        var SERVER_ABORT = 2;\r\n                \r\n        function getDoc(frame) {\r\n            /* it looks like contentWindow or contentDocument do not\r\n             * carry the protocol property in ie8, when running under ssl\r\n             * frame.document is the only valid response document, since\r\n             * the protocol is know but not on the other two objects. strange?\r\n             * \"Same origin policy\" http://en.wikipedia.org/wiki/Same_origin_policy\r\n             */\r\n            \r\n            var doc = null;\r\n            \r\n            // IE8 cascading access check\r\n            try {\r\n                if (frame.contentWindow) {\r\n                    doc = frame.contentWindow.document;\r\n                }\r\n            } catch(err) {\r\n                // IE8 access denied under ssl & missing protocol\r\n                log('cannot get iframe.contentWindow document: ' + err);\r\n            }\r\n\r\n            if (doc) { // successful getting content\r\n                return doc;\r\n            }\r\n\r\n            try { // simply checking may throw in ie8 under ssl or mismatched protocol\r\n                doc = frame.contentDocument ? frame.contentDocument : frame.document;\r\n            } catch(err) {\r\n                // last attempt\r\n                log('cannot get iframe.contentDocument: ' + err);\r\n                doc = frame.document;\r\n            }\r\n            return doc;\r\n        }\r\n\r\n        // Rails CSRF hack (thanks to Yvan Barthelemy)\r\n        var csrf_token = $('meta[name=csrf-token]').attr('content');\r\n        var csrf_param = $('meta[name=csrf-param]').attr('content');\r\n        if (csrf_param && csrf_token) {\r\n            s.extraData = s.extraData || {};\r\n            s.extraData[csrf_param] = csrf_token;\r\n        }\r\n\r\n        // take a breath so that pending repaints get some cpu time before the upload starts\r\n        function doSubmit() {\r\n            // make sure form attrs are set\r\n            var t = $form.attr2('target'), \r\n                a = $form.attr2('action'), \r\n                mp = 'multipart/form-data',\r\n                et = $form.attr('enctype') || $form.attr('encoding') || mp;\r\n\r\n            // update form attrs in IE friendly way\r\n            form.setAttribute('target',id);\r\n            if (!method || /post/i.test(method) ) {\r\n                form.setAttribute('method', 'POST');\r\n            }\r\n            if (a != s.url) {\r\n                form.setAttribute('action', s.url);\r\n            }\r\n\r\n            // ie borks in some cases when setting encoding\r\n            if (! s.skipEncodingOverride && (!method || /post/i.test(method))) {\r\n                $form.attr({\r\n                    encoding: 'multipart/form-data',\r\n                    enctype:  'multipart/form-data'\r\n                });\r\n            }\r\n\r\n            // support timout\r\n            if (s.timeout) {\r\n                timeoutHandle = setTimeout(function() { timedOut = true; cb(CLIENT_TIMEOUT_ABORT); }, s.timeout);\r\n            }\r\n\r\n            // look for server aborts\r\n            function checkState() {\r\n                try {\r\n                    var state = getDoc(io).readyState;\r\n                    log('state = ' + state);\r\n                    if (state && state.toLowerCase() == 'uninitialized') {\r\n                        setTimeout(checkState,50);\r\n                    }\r\n                }\r\n                catch(e) {\r\n                    log('Server abort: ' , e, ' (', e.name, ')');\r\n                    cb(SERVER_ABORT);\r\n                    if (timeoutHandle) {\r\n                        clearTimeout(timeoutHandle);\r\n                    }\r\n                    timeoutHandle = undefined;\r\n                }\r\n            }\r\n\r\n            // add \"extra\" data to form if provided in options\r\n            var extraInputs = [];\r\n            try {\r\n                if (s.extraData) {\r\n                    for (var n in s.extraData) {\r\n                        if (s.extraData.hasOwnProperty(n)) {\r\n                           // if using the $.param format that allows for multiple values with the same name\r\n                           if($.isPlainObject(s.extraData[n]) && s.extraData[n].hasOwnProperty('name') && s.extraData[n].hasOwnProperty('value')) {\r\n                               extraInputs.push(\r\n                               $('<input type=\"hidden\" name=\"'+s.extraData[n].name+'\">').val(s.extraData[n].value)\r\n                                   .appendTo(form)[0]);\r\n                           } else {\r\n                               extraInputs.push(\r\n                               $('<input type=\"hidden\" name=\"'+n+'\">').val(s.extraData[n])\r\n                                   .appendTo(form)[0]);\r\n                           }\r\n                        }\r\n                    }\r\n                }\r\n\r\n                if (!s.iframeTarget) {\r\n                    // add iframe to doc and submit the form\r\n                    $io.appendTo('body');\r\n                }\r\n                if (io.attachEvent) {\r\n                    io.attachEvent('onload', cb);\r\n                }\r\n                else {\r\n                    io.addEventListener('load', cb, false);\r\n                }\r\n                setTimeout(checkState,15);\r\n\r\n                try {\r\n                    form.submit();\r\n                } catch(err) {\r\n                    // just in case form has element with name/id of 'submit'\r\n                    var submitFn = document.createElement('form').submit;\r\n                    submitFn.apply(form);\r\n                }\r\n            }\r\n            finally {\r\n                // reset attrs and remove \"extra\" input elements\r\n                form.setAttribute('action',a);\r\n                form.setAttribute('enctype', et); // #380\r\n                if(t) {\r\n                    form.setAttribute('target', t);\r\n                } else {\r\n                    $form.removeAttr('target');\r\n                }\r\n                $(extraInputs).remove();\r\n            }\r\n        }\r\n\r\n        if (s.forceSync) {\r\n            doSubmit();\r\n        }\r\n        else {\r\n            setTimeout(doSubmit, 10); // this lets dom updates render\r\n        }\r\n\r\n        var data, doc, domCheckCount = 50, callbackProcessed;\r\n\r\n        function cb(e) {\r\n            if (xhr.aborted || callbackProcessed) {\r\n                return;\r\n            }\r\n            \r\n            doc = getDoc(io);\r\n            if(!doc) {\r\n                log('cannot access response document');\r\n                e = SERVER_ABORT;\r\n            }\r\n            if (e === CLIENT_TIMEOUT_ABORT && xhr) {\r\n                xhr.abort('timeout');\r\n                deferred.reject(xhr, 'timeout');\r\n                return;\r\n            }\r\n            else if (e == SERVER_ABORT && xhr) {\r\n                xhr.abort('server abort');\r\n                deferred.reject(xhr, 'error', 'server abort');\r\n                return;\r\n            }\r\n\r\n            if (!doc || doc.location.href == s.iframeSrc) {\r\n                // response not received yet\r\n                if (!timedOut) {\r\n                    return;\r\n                }\r\n            }\r\n            if (io.detachEvent) {\r\n                io.detachEvent('onload', cb);\r\n            }\r\n            else {\r\n                io.removeEventListener('load', cb, false);\r\n            }\r\n\r\n            var status = 'success', errMsg;\r\n            try {\r\n                if (timedOut) {\r\n                    throw 'timeout';\r\n                }\r\n\r\n                var isXml = s.dataType == 'xml' || doc.XMLDocument || $.isXMLDoc(doc);\r\n                log('isXml='+isXml);\r\n                if (!isXml && window.opera && (doc.body === null || !doc.body.innerHTML)) {\r\n                    if (--domCheckCount) {\r\n                        // in some browsers (Opera) the iframe DOM is not always traversable when\r\n                        // the onload callback fires, so we loop a bit to accommodate\r\n                        log('requeing onLoad callback, DOM not available');\r\n                        setTimeout(cb, 250);\r\n                        return;\r\n                    }\r\n                    // let this fall through because server response could be an empty document\r\n                    //log('Could not access iframe DOM after mutiple tries.');\r\n                    //throw 'DOMException: not available';\r\n                }\r\n\r\n                //log('response detected');\r\n                var docRoot = doc.body ? doc.body : doc.documentElement;\r\n                xhr.responseText = docRoot ? docRoot.innerHTML : null;\r\n                xhr.responseXML = doc.XMLDocument ? doc.XMLDocument : doc;\r\n                if (isXml) {\r\n                    s.dataType = 'xml';\r\n                }\r\n                xhr.getResponseHeader = function(header){\r\n                    var headers = {'content-type': s.dataType};\r\n                    return headers[header.toLowerCase()];\r\n                };\r\n                // support for XHR 'status' & 'statusText' emulation :\r\n                if (docRoot) {\r\n                    xhr.status = Number( docRoot.getAttribute('status') ) || xhr.status;\r\n                    xhr.statusText = docRoot.getAttribute('statusText') || xhr.statusText;\r\n                }\r\n\r\n                var dt = (s.dataType || '').toLowerCase();\r\n                var scr = /(json|script|text)/.test(dt);\r\n                if (scr || s.textarea) {\r\n                    // see if user embedded response in textarea\r\n                    var ta = doc.getElementsByTagName('textarea')[0];\r\n                    if (ta) {\r\n                        xhr.responseText = ta.value;\r\n                        // support for XHR 'status' & 'statusText' emulation :\r\n                        xhr.status = Number( ta.getAttribute('status') ) || xhr.status;\r\n                        xhr.statusText = ta.getAttribute('statusText') || xhr.statusText;\r\n                    }\r\n                    else if (scr) {\r\n                        // account for browsers injecting pre around json response\r\n                        var pre = doc.getElementsByTagName('pre')[0];\r\n                        var b = doc.getElementsByTagName('body')[0];\r\n                        if (pre) {\r\n                            xhr.responseText = pre.textContent ? pre.textContent : pre.innerText;\r\n                        }\r\n                        else if (b) {\r\n                            xhr.responseText = b.textContent ? b.textContent : b.innerText;\r\n                        }\r\n                    }\r\n                }\r\n                else if (dt == 'xml' && !xhr.responseXML && xhr.responseText) {\r\n                    xhr.responseXML = toXml(xhr.responseText);\r\n                }\r\n\r\n                try {\r\n                    data = httpData(xhr, dt, s);\r\n                }\r\n                catch (err) {\r\n                    status = 'parsererror';\r\n                    xhr.error = errMsg = (err || status);\r\n                }\r\n            }\r\n            catch (err) {\r\n                log('error caught: ',err);\r\n                status = 'error';\r\n                xhr.error = errMsg = (err || status);\r\n            }\r\n\r\n            if (xhr.aborted) {\r\n                log('upload aborted');\r\n                status = null;\r\n            }\r\n\r\n            if (xhr.status) { // we've set xhr.status\r\n                status = (xhr.status >= 200 && xhr.status < 300 || xhr.status === 304) ? 'success' : 'error';\r\n            }\r\n\r\n            // ordering of these callbacks/triggers is odd, but that's how $.ajax does it\r\n            if (status === 'success') {\r\n                if (s.success) {\r\n                    s.success.call(s.context, data, 'success', xhr);\r\n                }\r\n                deferred.resolve(xhr.responseText, 'success', xhr);\r\n                if (g) {\r\n                    $.event.trigger(\"ajaxSuccess\", [xhr, s]);\r\n                }\r\n            }\r\n            else if (status) {\r\n                if (errMsg === undefined) {\r\n                    errMsg = xhr.statusText;\r\n                }\r\n                if (s.error) {\r\n                    s.error.call(s.context, xhr, status, errMsg);\r\n                }\r\n                deferred.reject(xhr, 'error', errMsg);\r\n                if (g) {\r\n                    $.event.trigger(\"ajaxError\", [xhr, s, errMsg]);\r\n                }\r\n            }\r\n\r\n            if (g) {\r\n                $.event.trigger(\"ajaxComplete\", [xhr, s]);\r\n            }\r\n\r\n            if (g && ! --$.active) {\r\n                $.event.trigger(\"ajaxStop\");\r\n            }\r\n\r\n            if (s.complete) {\r\n                s.complete.call(s.context, xhr, status);\r\n            }\r\n\r\n            callbackProcessed = true;\r\n            if (s.timeout) {\r\n                clearTimeout(timeoutHandle);\r\n            }\r\n\r\n            // clean up\r\n            setTimeout(function() {\r\n                if (!s.iframeTarget) {\r\n                    $io.remove();\r\n                }\r\n                else { //adding else to clean up existing iframe response.\r\n                    $io.attr('src', s.iframeSrc);\r\n                }\r\n                xhr.responseXML = null;\r\n            }, 100);\r\n        }\r\n\r\n        var toXml = $.parseXML || function(s, doc) { // use parseXML if available (jQuery 1.5+)\r\n            if (window.ActiveXObject) {\r\n                doc = new ActiveXObject('Microsoft.XMLDOM');\r\n                doc.async = 'false';\r\n                doc.loadXML(s);\r\n            }\r\n            else {\r\n                doc = (new DOMParser()).parseFromString(s, 'text/xml');\r\n            }\r\n            return (doc && doc.documentElement && doc.documentElement.nodeName != 'parsererror') ? doc : null;\r\n        };\r\n        var parseJSON = $.parseJSON || function(s) {\r\n            /*jslint evil:true */\r\n            return window['eval']('(' + s + ')');\r\n        };\r\n\r\n        var httpData = function( xhr, type, s ) { // mostly lifted from jq1.4.4\r\n\r\n            var ct = xhr.getResponseHeader('content-type') || '',\r\n                xml = type === 'xml' || !type && ct.indexOf('xml') >= 0,\r\n                data = xml ? xhr.responseXML : xhr.responseText;\r\n\r\n            if (xml && data.documentElement.nodeName === 'parsererror') {\r\n                if ($.error) {\r\n                    $.error('parsererror');\r\n                }\r\n            }\r\n            if (s && s.dataFilter) {\r\n                data = s.dataFilter(data, type);\r\n            }\r\n            if (typeof data === 'string') {\r\n                if (type === 'json' || !type && ct.indexOf('json') >= 0) {\r\n                    data = parseJSON(data);\r\n                } else if (type === \"script\" || !type && ct.indexOf(\"javascript\") >= 0) {\r\n                    $.globalEval(data);\r\n                }\r\n            }\r\n            return data;\r\n        };\r\n\r\n        return deferred;\r\n    }\r\n};\r\n\r\n/**\r\n * ajaxForm() provides a mechanism for fully automating form submission.\r\n *\r\n * The advantages of using this method instead of ajaxSubmit() are:\r\n *\r\n * 1: This method will include coordinates for <input type=\"image\" /> elements (if the element\r\n *    is used to submit the form).\r\n * 2. This method will include the submit element's name/value data (for the element that was\r\n *    used to submit the form).\r\n * 3. This method binds the submit() method to the form for you.\r\n *\r\n * The options argument for ajaxForm works exactly as it does for ajaxSubmit.  ajaxForm merely\r\n * passes the options argument along after properly binding events for submit elements and\r\n * the form itself.\r\n */\r\n$.fn.ajaxForm = function(options) {\r\n    options = options || {};\r\n    options.delegation = options.delegation && $.isFunction($.fn.on);\r\n\r\n    // in jQuery 1.3+ we can fix mistakes with the ready state\r\n    if (!options.delegation && this.length === 0) {\r\n        var o = { s: this.selector, c: this.context };\r\n        if (!$.isReady && o.s) {\r\n            log('DOM not ready, queuing ajaxForm');\r\n            $(function() {\r\n                $(o.s,o.c).ajaxForm(options);\r\n            });\r\n            return this;\r\n        }\r\n        // is your DOM ready?  http://docs.jquery.com/Tutorials:Introducing_$(document).ready()\r\n        log('terminating; zero elements found by selector' + ($.isReady ? '' : ' (DOM not ready)'));\r\n        return this;\r\n    }\r\n\r\n    if ( options.delegation ) {\r\n        $(document)\r\n            .off('submit.form-plugin', this.selector, doAjaxSubmit)\r\n            .off('click.form-plugin', this.selector, captureSubmittingElement)\r\n            .on('submit.form-plugin', this.selector, options, doAjaxSubmit)\r\n            .on('click.form-plugin', this.selector, options, captureSubmittingElement);\r\n        return this;\r\n    }\r\n\r\n    return this.ajaxFormUnbind()\r\n        .bind('submit.form-plugin', options, doAjaxSubmit)\r\n        .bind('click.form-plugin', options, captureSubmittingElement);\r\n};\r\n\r\n// private event handlers\r\nfunction doAjaxSubmit(e) {\r\n    /*jshint validthis:true */\r\n    var options = e.data;\r\n    if (!e.isDefaultPrevented()) { // if event has been canceled, don't proceed\r\n        e.preventDefault();\r\n        $(e.target).ajaxSubmit(options); // #365\r\n    }\r\n}\r\n\r\nfunction captureSubmittingElement(e) {\r\n    /*jshint validthis:true */\r\n    var target = e.target;\r\n    var $el = $(target);\r\n    if (!($el.is(\"[type=submit],[type=image]\"))) {\r\n        // is this a child element of the submit el?  (ex: a span within a button)\r\n        var t = $el.closest('[type=submit]');\r\n        if (t.length === 0) {\r\n            return;\r\n        }\r\n        target = t[0];\r\n    }\r\n    var form = this;\r\n    form.clk = target;\r\n    if (target.type == 'image') {\r\n        if (e.offsetX !== undefined) {\r\n            form.clk_x = e.offsetX;\r\n            form.clk_y = e.offsetY;\r\n        } else if (typeof $.fn.offset == 'function') {\r\n            var offset = $el.offset();\r\n            form.clk_x = e.pageX - offset.left;\r\n            form.clk_y = e.pageY - offset.top;\r\n        } else {\r\n            form.clk_x = e.pageX - target.offsetLeft;\r\n            form.clk_y = e.pageY - target.offsetTop;\r\n        }\r\n    }\r\n    // clear form vars\r\n    setTimeout(function() { form.clk = form.clk_x = form.clk_y = null; }, 100);\r\n}\r\n\r\n\r\n// ajaxFormUnbind unbinds the event handlers that were bound by ajaxForm\r\n$.fn.ajaxFormUnbind = function() {\r\n    return this.unbind('submit.form-plugin click.form-plugin');\r\n};\r\n\r\n/**\r\n * formToArray() gathers form element data into an array of objects that can\r\n * be passed to any of the following ajax functions: $.get, $.post, or load.\r\n * Each object in the array has both a 'name' and 'value' property.  An example of\r\n * an array for a simple login form might be:\r\n *\r\n * [ { name: 'username', value: 'jresig' }, { name: 'password', value: 'secret' } ]\r\n *\r\n * It is this array that is passed to pre-submit callback functions provided to the\r\n * ajaxSubmit() and ajaxForm() methods.\r\n */\r\n$.fn.formToArray = function(semantic, elements) {\r\n    var a = [];\r\n    if (this.length === 0) {\r\n        return a;\r\n    }\r\n\r\n    var form = this[0];\r\n    var formId = this.attr('id');\r\n    var els = semantic ? form.getElementsByTagName('*') : form.elements;\r\n    var els2;\r\n\r\n    if (els && !/MSIE [678]/.test(navigator.userAgent)) { // #390\r\n        els = $(els).get();  // convert to standard array\r\n    }\r\n\r\n    // #386; account for inputs outside the form which use the 'form' attribute\r\n    if ( formId ) {\r\n        els2 = $(':input[form=\"' + formId + '\"]').get(); // hat tip @thet\r\n        if ( els2.length ) {\r\n            els = (els || []).concat(els2);\r\n        }\r\n    }\r\n\r\n    if (!els || !els.length) {\r\n        return a;\r\n    }\r\n\r\n    var i,j,n,v,el,max,jmax;\r\n    for(i=0, max=els.length; i < max; i++) {\r\n        el = els[i];\r\n        n = el.name;\r\n        if (!n || el.disabled) {\r\n            continue;\r\n        }\r\n\r\n        if (semantic && form.clk && el.type == \"image\") {\r\n            // handle image inputs on the fly when semantic == true\r\n            if(form.clk == el) {\r\n                a.push({name: n, value: $(el).val(), type: el.type });\r\n                a.push({name: n+'.x', value: form.clk_x}, {name: n+'.y', value: form.clk_y});\r\n            }\r\n            continue;\r\n        }\r\n\r\n        v = $.fieldValue(el, true);\r\n        if (v && v.constructor == Array) {\r\n            if (elements) {\r\n                elements.push(el);\r\n            }\r\n            for(j=0, jmax=v.length; j < jmax; j++) {\r\n                a.push({name: n, value: v[j]});\r\n            }\r\n        }\r\n        else if (feature.fileapi && el.type == 'file') {\r\n            if (elements) {\r\n                elements.push(el);\r\n            }\r\n            var files = el.files;\r\n            if (files.length) {\r\n                for (j=0; j < files.length; j++) {\r\n                    a.push({name: n, value: files[j], type: el.type});\r\n                }\r\n            }\r\n            else {\r\n                // #180\r\n                a.push({ name: n, value: '', type: el.type });\r\n            }\r\n        }\r\n        else if (v !== null && typeof v != 'undefined') {\r\n            if (elements) {\r\n                elements.push(el);\r\n            }\r\n            a.push({name: n, value: v, type: el.type, required: el.required});\r\n        }\r\n    }\r\n\r\n    if (!semantic && form.clk) {\r\n        // input type=='image' are not found in elements array! handle it here\r\n        var $input = $(form.clk), input = $input[0];\r\n        n = input.name;\r\n        if (n && !input.disabled && input.type == 'image') {\r\n            a.push({name: n, value: $input.val()});\r\n            a.push({name: n+'.x', value: form.clk_x}, {name: n+'.y', value: form.clk_y});\r\n        }\r\n    }\r\n    return a;\r\n};\r\n\r\n/**\r\n * Serializes form data into a 'submittable' string. This method will return a string\r\n * in the format: name1=value1&amp;name2=value2\r\n */\r\n$.fn.formSerialize = function(semantic) {\r\n    //hand off to jQuery.param for proper encoding\r\n    return $.param(this.formToArray(semantic));\r\n};\r\n\r\n/**\r\n * Serializes all field elements in the jQuery object into a query string.\r\n * This method will return a string in the format: name1=value1&amp;name2=value2\r\n */\r\n$.fn.fieldSerialize = function(successful) {\r\n    var a = [];\r\n    this.each(function() {\r\n        var n = this.name;\r\n        if (!n) {\r\n            return;\r\n        }\r\n        var v = $.fieldValue(this, successful);\r\n        if (v && v.constructor == Array) {\r\n            for (var i=0,max=v.length; i < max; i++) {\r\n                a.push({name: n, value: v[i]});\r\n            }\r\n        }\r\n        else if (v !== null && typeof v != 'undefined') {\r\n            a.push({name: this.name, value: v});\r\n        }\r\n    });\r\n    //hand off to jQuery.param for proper encoding\r\n    return $.param(a);\r\n};\r\n\r\n/**\r\n * Returns the value(s) of the element in the matched set.  For example, consider the following form:\r\n *\r\n *  <form><fieldset>\r\n *      <input name=\"A\" type=\"text\" />\r\n *      <input name=\"A\" type=\"text\" />\r\n *      <input name=\"B\" type=\"checkbox\" value=\"B1\" />\r\n *      <input name=\"B\" type=\"checkbox\" value=\"B2\"/>\r\n *      <input name=\"C\" type=\"radio\" value=\"C1\" />\r\n *      <input name=\"C\" type=\"radio\" value=\"C2\" />\r\n *  </fieldset></form>\r\n *\r\n *  var v = $('input[type=text]').fieldValue();\r\n *  // if no values are entered into the text inputs\r\n *  v == ['','']\r\n *  // if values entered into the text inputs are 'foo' and 'bar'\r\n *  v == ['foo','bar']\r\n *\r\n *  var v = $('input[type=checkbox]').fieldValue();\r\n *  // if neither checkbox is checked\r\n *  v === undefined\r\n *  // if both checkboxes are checked\r\n *  v == ['B1', 'B2']\r\n *\r\n *  var v = $('input[type=radio]').fieldValue();\r\n *  // if neither radio is checked\r\n *  v === undefined\r\n *  // if first radio is checked\r\n *  v == ['C1']\r\n *\r\n * The successful argument controls whether or not the field element must be 'successful'\r\n * (per http://www.w3.org/TR/html4/interact/forms.html#successful-controls).\r\n * The default value of the successful argument is true.  If this value is false the value(s)\r\n * for each element is returned.\r\n *\r\n * Note: This method *always* returns an array.  If no valid value can be determined the\r\n *    array will be empty, otherwise it will contain one or more values.\r\n */\r\n$.fn.fieldValue = function(successful) {\r\n    for (var val=[], i=0, max=this.length; i < max; i++) {\r\n        var el = this[i];\r\n        var v = $.fieldValue(el, successful);\r\n        if (v === null || typeof v == 'undefined' || (v.constructor == Array && !v.length)) {\r\n            continue;\r\n        }\r\n        if (v.constructor == Array) {\r\n            $.merge(val, v);\r\n        }\r\n        else {\r\n            val.push(v);\r\n        }\r\n    }\r\n    return val;\r\n};\r\n\r\n/**\r\n * Returns the value of the field element.\r\n */\r\n$.fieldValue = function(el, successful) {\r\n    var n = el.name, t = el.type, tag = el.tagName.toLowerCase();\r\n    if (successful === undefined) {\r\n        successful = true;\r\n    }\r\n\r\n    if (successful && (!n || el.disabled || t == 'reset' || t == 'button' ||\r\n        (t == 'checkbox' || t == 'radio') && !el.checked ||\r\n        (t == 'submit' || t == 'image') && el.form && el.form.clk != el ||\r\n        tag == 'select' && el.selectedIndex == -1)) {\r\n            return null;\r\n    }\r\n\r\n    if (tag == 'select') {\r\n        var index = el.selectedIndex;\r\n        if (index < 0) {\r\n            return null;\r\n        }\r\n        var a = [], ops = el.options;\r\n        var one = (t == 'select-one');\r\n        var max = (one ? index+1 : ops.length);\r\n        for(var i=(one ? index : 0); i < max; i++) {\r\n            var op = ops[i];\r\n            if (op.selected) {\r\n                var v = op.value;\r\n                if (!v) { // extra pain for IE...\r\n                    v = (op.attributes && op.attributes.value && !(op.attributes.value.specified)) ? op.text : op.value;\r\n                }\r\n                if (one) {\r\n                    return v;\r\n                }\r\n                a.push(v);\r\n            }\r\n        }\r\n        return a;\r\n    }\r\n    return $(el).val();\r\n};\r\n\r\n/**\r\n * Clears the form data.  Takes the following actions on the form's input fields:\r\n *  - input text fields will have their 'value' property set to the empty string\r\n *  - select elements will have their 'selectedIndex' property set to -1\r\n *  - checkbox and radio inputs will have their 'checked' property set to false\r\n *  - inputs of type submit, button, reset, and hidden will *not* be effected\r\n *  - button elements will *not* be effected\r\n */\r\n$.fn.clearForm = function(includeHidden) {\r\n    return this.each(function() {\r\n        $('input,select,textarea', this).clearFields(includeHidden);\r\n    });\r\n};\r\n\r\n/**\r\n * Clears the selected form elements.\r\n */\r\n$.fn.clearFields = $.fn.clearInputs = function(includeHidden) {\r\n    var re = /^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i; // 'hidden' is not in this list\r\n    return this.each(function() {\r\n        var t = this.type, tag = this.tagName.toLowerCase();\r\n        if (re.test(t) || tag == 'textarea') {\r\n            this.value = '';\r\n        }\r\n        else if (t == 'checkbox' || t == 'radio') {\r\n            this.checked = false;\r\n        }\r\n        else if (tag == 'select') {\r\n            this.selectedIndex = -1;\r\n        }\r\n        else if (t == \"file\") {\r\n            if (/MSIE/.test(navigator.userAgent)) {\r\n                $(this).replaceWith($(this).clone(true));\r\n            } else {\r\n                $(this).val('');\r\n            }\r\n        }\r\n        else if (includeHidden) {\r\n            // includeHidden can be the value true, or it can be a selector string\r\n            // indicating a special test; for example:\r\n            //  $('#myForm').clearForm('.special:hidden')\r\n            // the above would clean hidden inputs that have the class of 'special'\r\n            if ( (includeHidden === true && /hidden/.test(t)) ||\r\n                 (typeof includeHidden == 'string' && $(this).is(includeHidden)) ) {\r\n                this.value = '';\r\n            }\r\n        }\r\n    });\r\n};\r\n\r\n/**\r\n * Resets the form data.  Causes all form elements to be reset to their original value.\r\n */\r\n$.fn.resetForm = function() {\r\n    return this.each(function() {\r\n        // guard against an input with the name of 'reset'\r\n        // note that IE reports the reset function as an 'object'\r\n        if (typeof this.reset == 'function' || (typeof this.reset == 'object' && !this.reset.nodeType)) {\r\n            this.reset();\r\n        }\r\n    });\r\n};\r\n\r\n/**\r\n * Enables or disables any matching elements.\r\n */\r\n$.fn.enable = function(b) {\r\n    if (b === undefined) {\r\n        b = true;\r\n    }\r\n    return this.each(function() {\r\n        this.disabled = !b;\r\n    });\r\n};\r\n\r\n/**\r\n * Checks/unchecks any matching checkboxes or radio buttons and\r\n * selects/deselects and matching option elements.\r\n */\r\n$.fn.selected = function(select) {\r\n    if (select === undefined) {\r\n        select = true;\r\n    }\r\n    return this.each(function() {\r\n        var t = this.type;\r\n        if (t == 'checkbox' || t == 'radio') {\r\n            this.checked = select;\r\n        }\r\n        else if (this.tagName.toLowerCase() == 'option') {\r\n            var $sel = $(this).parent('select');\r\n            if (select && $sel[0] && $sel[0].type == 'select-one') {\r\n                // deselect all other options\r\n                $sel.find('option').selected(false);\r\n            }\r\n            this.selected = select;\r\n        }\r\n    });\r\n};\r\n\r\n// expose debug var\r\n$.fn.ajaxSubmit.debug = false;\r\n\r\n// helper fn for console logging\r\nfunction log() {\r\n    if (!$.fn.ajaxSubmit.debug) {\r\n        return;\r\n    }\r\n    var msg = '[jquery.form] ' + Array.prototype.join.call(arguments,'');\r\n    if (window.console && window.console.log) {\r\n        window.console.log(msg);\r\n    }\r\n    else if (window.opera && window.opera.postError) {\r\n        window.opera.postError(msg);\r\n    }\r\n}\r\n\r\n}));"},{"id":16,"identifier":"D:\\云购\\public\\js\\libs\\jquery.Jcrop.js","name":"./js/libs/jquery.Jcrop.js","index":22,"index2":21,"size":15892,"cacheable":true,"built":false,"optional":false,"prefetched":false,"chunks":[6],"assets":[],"issuer":"D:\\云购\\public\\js\\app\\memberindex.main.js","failed":false,"errors":0,"warnings":0,"reasons":[{"moduleId":0,"moduleIdentifier":"D:\\云购\\public\\js\\app\\memberindex.main.js","module":"./js/app/memberindex.main.js","moduleName":"./js/app/memberindex.main.js","type":"cjs require","userRequest":"../libs/jquery.Jcrop","loc":"3:0-31"}],"source":"/**\n * jquery.Jcrop.min.js v0.9.12 (build:20130202)\n * jQuery Image Cropping Plugin - released under MIT License\n * Copyright (c) 2008-2013 Tapmodo Interactive LLC\n * https://github.com/tapmodo/Jcrop\n */\n(function(a){a.Jcrop=function(b,c){function i(a){return Math.round(a)+\"px\"}function j(a){return d.baseClass+\"-\"+a}function k(){return a.fx.step.hasOwnProperty(\"backgroundColor\")}function l(b){var c=a(b).offset();return[c.left,c.top]}function m(a){return[a.pageX-e[0],a.pageY-e[1]]}function n(b){typeof b!=\"object\"&&(b={}),d=a.extend(d,b),a.each([\"onChange\",\"onSelect\",\"onRelease\",\"onDblClick\"],function(a,b){typeof d[b]!=\"function\"&&(d[b]=function(){})})}function o(a,b,c){e=l(D),bc.setCursor(a===\"move\"?a:a+\"-resize\");if(a===\"move\")return bc.activateHandlers(q(b),v,c);var d=_.getFixed(),f=r(a),g=_.getCorner(r(f));_.setPressed(_.getCorner(f)),_.setCurrent(g),bc.activateHandlers(p(a,d),v,c)}function p(a,b){return function(c){if(!d.aspectRatio)switch(a){case\"e\":c[1]=b.y2;break;case\"w\":c[1]=b.y2;break;case\"n\":c[0]=b.x2;break;case\"s\":c[0]=b.x2}else switch(a){case\"e\":c[1]=b.y+1;break;case\"w\":c[1]=b.y+1;break;case\"n\":c[0]=b.x+1;break;case\"s\":c[0]=b.x+1}_.setCurrent(c),bb.update()}}function q(a){var b=a;return bd.watchKeys\n(),function(a){_.moveOffset([a[0]-b[0],a[1]-b[1]]),b=a,bb.update()}}function r(a){switch(a){case\"n\":return\"sw\";case\"s\":return\"nw\";case\"e\":return\"nw\";case\"w\":return\"ne\";case\"ne\":return\"sw\";case\"nw\":return\"se\";case\"se\":return\"nw\";case\"sw\":return\"ne\"}}function s(a){return function(b){return d.disabled?!1:a===\"move\"&&!d.allowMove?!1:(e=l(D),W=!0,o(a,m(b)),b.stopPropagation(),b.preventDefault(),!1)}}function t(a,b,c){var d=a.width(),e=a.height();d>b&&b>0&&(d=b,e=b/a.width()*a.height()),e>c&&c>0&&(e=c,d=c/a.height()*a.width()),T=a.width()/d,U=a.height()/e,a.width(d).height(e)}function u(a){return{x:a.x*T,y:a.y*U,x2:a.x2*T,y2:a.y2*U,w:a.w*T,h:a.h*U}}function v(a){var b=_.getFixed();b.w>d.minSelect[0]&&b.h>d.minSelect[1]?(bb.enableHandles(),bb.done()):bb.release(),bc.setCursor(d.allowSelect?\"crosshair\":\"default\")}function w(a){if(d.disabled)return!1;if(!d.allowSelect)return!1;W=!0,e=l(D),bb.disableHandles(),bc.setCursor(\"crosshair\");var b=m(a);return _.setPressed(b),bb.update(),bc.activateHandlers(x,v,a.type.substring\n(0,5)===\"touch\"),bd.watchKeys(),a.stopPropagation(),a.preventDefault(),!1}function x(a){_.setCurrent(a),bb.update()}function y(){var b=a(\"<div></div>\").addClass(j(\"tracker\"));return g&&b.css({opacity:0,backgroundColor:\"white\"}),b}function be(a){G.removeClass().addClass(j(\"holder\")).addClass(a)}function bf(a,b){function t(){window.setTimeout(u,l)}var c=a[0]/T,e=a[1]/U,f=a[2]/T,g=a[3]/U;if(X)return;var h=_.flipCoords(c,e,f,g),i=_.getFixed(),j=[i.x,i.y,i.x2,i.y2],k=j,l=d.animationDelay,m=h[0]-j[0],n=h[1]-j[1],o=h[2]-j[2],p=h[3]-j[3],q=0,r=d.swingSpeed;c=k[0],e=k[1],f=k[2],g=k[3],bb.animMode(!0);var s,u=function(){return function(){q+=(100-q)/r,k[0]=Math.round(c+q/100*m),k[1]=Math.round(e+q/100*n),k[2]=Math.round(f+q/100*o),k[3]=Math.round(g+q/100*p),q>=99.8&&(q=100),q<100?(bh(k),t()):(bb.done(),bb.animMode(!1),typeof b==\"function\"&&b.call(bs))}}();t()}function bg(a){bh([a[0]/T,a[1]/U,a[2]/T,a[3]/U]),d.onSelect.call(bs,u(_.getFixed())),bb.enableHandles()}function bh(a){_.setPressed([a[0],a[1]]),_.setCurrent([a[2],\na[3]]),bb.update()}function bi(){return u(_.getFixed())}function bj(){return _.getFixed()}function bk(a){n(a),br()}function bl(){d.disabled=!0,bb.disableHandles(),bb.setCursor(\"default\"),bc.setCursor(\"default\")}function bm(){d.disabled=!1,br()}function bn(){bb.done(),bc.activateHandlers(null,null)}function bo(){G.remove(),A.show(),A.css(\"visibility\",\"visible\"),a(b).removeData(\"Jcrop\")}function bp(a,b){bb.release(),bl();var c=new Image;c.onload=function(){var e=c.width,f=c.height,g=d.boxWidth,h=d.boxHeight;D.width(e).height(f),D.attr(\"src\",a),H.attr(\"src\",a),t(D,g,h),E=D.width(),F=D.height(),H.width(E).height(F),M.width(E+L*2).height(F+L*2),G.width(E).height(F),ba.resize(E,F),bm(),typeof b==\"function\"&&b.call(bs)},c.src=a}function bq(a,b,c){var e=b||d.bgColor;d.bgFade&&k()&&d.fadeTime&&!c?a.animate({backgroundColor:e},{queue:!1,duration:d.fadeTime}):a.css(\"backgroundColor\",e)}function br(a){d.allowResize?a?bb.enableOnly():bb.enableHandles():bb.disableHandles(),bc.setCursor(d.allowSelect?\"crosshair\":\"default\"),bb\n.setCursor(d.allowMove?\"move\":\"default\"),d.hasOwnProperty(\"trueSize\")&&(T=d.trueSize[0]/E,U=d.trueSize[1]/F),d.hasOwnProperty(\"setSelect\")&&(bg(d.setSelect),bb.done(),delete d.setSelect),ba.refresh(),d.bgColor!=N&&(bq(d.shade?ba.getShades():G,d.shade?d.shadeColor||d.bgColor:d.bgColor),N=d.bgColor),O!=d.bgOpacity&&(O=d.bgOpacity,d.shade?ba.refresh():bb.setBgOpacity(O)),P=d.maxSize[0]||0,Q=d.maxSize[1]||0,R=d.minSize[0]||0,S=d.minSize[1]||0,d.hasOwnProperty(\"outerImage\")&&(D.attr(\"src\",d.outerImage),delete d.outerImage),bb.refresh()}var d=a.extend({},a.Jcrop.defaults),e,f=navigator.userAgent.toLowerCase(),g=/msie/.test(f),h=/msie [1-6]\\./.test(f);typeof b!=\"object\"&&(b=a(b)[0]),typeof c!=\"object\"&&(c={}),n(c);var z={border:\"none\",visibility:\"visible\",margin:0,padding:0,position:\"absolute\",top:0,left:0},A=a(b),B=!0;if(b.tagName==\"IMG\"){if(A[0].width!=0&&A[0].height!=0)A.width(A[0].width),A.height(A[0].height);else{var C=new Image;C.src=A[0].src,A.width(C.width),A.height(C.height)}var D=A.clone().removeAttr(\"id\").\ncss(z).show();D.width(A.width()),D.height(A.height()),A.after(D).hide()}else D=A.css(z).show(),B=!1,d.shade===null&&(d.shade=!0);t(D,d.boxWidth,d.boxHeight);var E=D.width(),F=D.height(),G=a(\"<div />\").width(E).height(F).addClass(j(\"holder\")).css({position:\"relative\",backgroundColor:d.bgColor}).insertAfter(A).append(D);d.addClass&&G.addClass(d.addClass);var H=a(\"<div />\"),I=a(\"<div />\").width(\"100%\").height(\"100%\").css({zIndex:310,position:\"absolute\",overflow:\"hidden\"}),J=a(\"<div />\").width(\"100%\").height(\"100%\").css(\"zIndex\",320),K=a(\"<div />\").css({position:\"absolute\",zIndex:600}).dblclick(function(){var a=_.getFixed();d.onDblClick.call(bs,a)}).insertBefore(D).append(I,J);B&&(H=a(\"<img />\").attr(\"src\",D.attr(\"src\")).css(z).width(E).height(F),I.append(H)),h&&K.css({overflowY:\"hidden\"});var L=d.boundary,M=y().width(E+L*2).height(F+L*2).css({position:\"absolute\",top:i(-L),left:i(-L),zIndex:290}).mousedown(w),N=d.bgColor,O=d.bgOpacity,P,Q,R,S,T,U,V=!0,W,X,Y;e=l(D);var Z=function(){function a(){var a={},b=[\"touchstart\"\n,\"touchmove\",\"touchend\"],c=document.createElement(\"div\"),d;try{for(d=0;d<b.length;d++){var e=b[d];e=\"on\"+e;var f=e in c;f||(c.setAttribute(e,\"return;\"),f=typeof c[e]==\"function\"),a[b[d]]=f}return a.touchstart&&a.touchend&&a.touchmove}catch(g){return!1}}function b(){return d.touchSupport===!0||d.touchSupport===!1?d.touchSupport:a()}return{createDragger:function(a){return function(b){return d.disabled?!1:a===\"move\"&&!d.allowMove?!1:(e=l(D),W=!0,o(a,m(Z.cfilter(b)),!0),b.stopPropagation(),b.preventDefault(),!1)}},newSelection:function(a){return w(Z.cfilter(a))},cfilter:function(a){return a.pageX=a.originalEvent.changedTouches[0].pageX,a.pageY=a.originalEvent.changedTouches[0].pageY,a},isSupported:a,support:b()}}(),_=function(){function h(d){d=n(d),c=a=d[0],e=b=d[1]}function i(a){a=n(a),f=a[0]-c,g=a[1]-e,c=a[0],e=a[1]}function j(){return[f,g]}function k(d){var f=d[0],g=d[1];0>a+f&&(f-=f+a),0>b+g&&(g-=g+b),F<e+g&&(g+=F-(e+g)),E<c+f&&(f+=E-(c+f)),a+=f,c+=f,b+=g,e+=g}function l(a){var b=m();switch(a){case\"ne\":return[\nb.x2,b.y];case\"nw\":return[b.x,b.y];case\"se\":return[b.x2,b.y2];case\"sw\":return[b.x,b.y2]}}function m(){if(!d.aspectRatio)return p();var f=d.aspectRatio,g=d.minSize[0]/T,h=d.maxSize[0]/T,i=d.maxSize[1]/U,j=c-a,k=e-b,l=Math.abs(j),m=Math.abs(k),n=l/m,r,s,t,u;return h===0&&(h=E*10),i===0&&(i=F*10),n<f?(s=e,t=m*f,r=j<0?a-t:t+a,r<0?(r=0,u=Math.abs((r-a)/f),s=k<0?b-u:u+b):r>E&&(r=E,u=Math.abs((r-a)/f),s=k<0?b-u:u+b)):(r=c,u=l/f,s=k<0?b-u:b+u,s<0?(s=0,t=Math.abs((s-b)*f),r=j<0?a-t:t+a):s>F&&(s=F,t=Math.abs(s-b)*f,r=j<0?a-t:t+a)),r>a?(r-a<g?r=a+g:r-a>h&&(r=a+h),s>b?s=b+(r-a)/f:s=b-(r-a)/f):r<a&&(a-r<g?r=a-g:a-r>h&&(r=a-h),s>b?s=b+(a-r)/f:s=b-(a-r)/f),r<0?(a-=r,r=0):r>E&&(a-=r-E,r=E),s<0?(b-=s,s=0):s>F&&(b-=s-F,s=F),q(o(a,b,r,s))}function n(a){return a[0]<0&&(a[0]=0),a[1]<0&&(a[1]=0),a[0]>E&&(a[0]=E),a[1]>F&&(a[1]=F),[Math.round(a[0]),Math.round(a[1])]}function o(a,b,c,d){var e=a,f=c,g=b,h=d;return c<a&&(e=c,f=a),d<b&&(g=d,h=b),[e,g,f,h]}function p(){var d=c-a,f=e-b,g;return P&&Math.abs(d)>P&&(c=d>0?a+P:a-P),Q&&Math.abs\n(f)>Q&&(e=f>0?b+Q:b-Q),S/U&&Math.abs(f)<S/U&&(e=f>0?b+S/U:b-S/U),R/T&&Math.abs(d)<R/T&&(c=d>0?a+R/T:a-R/T),a<0&&(c-=a,a-=a),b<0&&(e-=b,b-=b),c<0&&(a-=c,c-=c),e<0&&(b-=e,e-=e),c>E&&(g=c-E,a-=g,c-=g),e>F&&(g=e-F,b-=g,e-=g),a>E&&(g=a-F,e-=g,b-=g),b>F&&(g=b-F,e-=g,b-=g),q(o(a,b,c,e))}function q(a){return{x:a[0],y:a[1],x2:a[2],y2:a[3],w:a[2]-a[0],h:a[3]-a[1]}}var a=0,b=0,c=0,e=0,f,g;return{flipCoords:o,setPressed:h,setCurrent:i,getOffset:j,moveOffset:k,getCorner:l,getFixed:m}}(),ba=function(){function f(a,b){e.left.css({height:i(b)}),e.right.css({height:i(b)})}function g(){return h(_.getFixed())}function h(a){e.top.css({left:i(a.x),width:i(a.w),height:i(a.y)}),e.bottom.css({top:i(a.y2),left:i(a.x),width:i(a.w),height:i(F-a.y2)}),e.right.css({left:i(a.x2),width:i(E-a.x2)}),e.left.css({width:i(a.x)})}function j(){return a(\"<div />\").css({position:\"absolute\",backgroundColor:d.shadeColor||d.bgColor}).appendTo(c)}function k(){b||(b=!0,c.insertBefore(D),g(),bb.setBgOpacity(1,0,1),H.hide(),l(d.shadeColor||d.bgColor,1),bb.\nisAwake()?n(d.bgOpacity,1):n(1,1))}function l(a,b){bq(p(),a,b)}function m(){b&&(c.remove(),H.show(),b=!1,bb.isAwake()?bb.setBgOpacity(d.bgOpacity,1,1):(bb.setBgOpacity(1,1,1),bb.disableHandles()),bq(G,0,1))}function n(a,e){b&&(d.bgFade&&!e?c.animate({opacity:1-a},{queue:!1,duration:d.fadeTime}):c.css({opacity:1-a}))}function o(){d.shade?k():m(),bb.isAwake()&&n(d.bgOpacity)}function p(){return c.children()}var b=!1,c=a(\"<div />\").css({position:\"absolute\",zIndex:240,opacity:0}),e={top:j(),left:j().height(F),right:j().height(F),bottom:j()};return{update:g,updateRaw:h,getShades:p,setBgColor:l,enable:k,disable:m,resize:f,refresh:o,opacity:n}}(),bb=function(){function k(b){var c=a(\"<div />\").css({position:\"absolute\",opacity:d.borderOpacity}).addClass(j(b));return I.append(c),c}function l(b,c){var d=a(\"<div />\").mousedown(s(b)).css({cursor:b+\"-resize\",position:\"absolute\",zIndex:c}).addClass(\"ord-\"+b);return Z.support&&d.bind(\"touchstart.jcrop\",Z.createDragger(b)),J.append(d),d}function m(a){var b=d.handleSize,e=l(a,c++\n).css({opacity:d.handleOpacity}).addClass(j(\"handle\"));return b&&e.width(b).height(b),e}function n(a){return l(a,c++).addClass(\"jcrop-dragbar\")}function o(a){var b;for(b=0;b<a.length;b++)g[a[b]]=n(a[b])}function p(a){var b,c;for(c=0;c<a.length;c++){switch(a[c]){case\"n\":b=\"hline\";break;case\"s\":b=\"hline bottom\";break;case\"e\":b=\"vline right\";break;case\"w\":b=\"vline\"}e[a[c]]=k(b)}}function q(a){var b;for(b=0;b<a.length;b++)f[a[b]]=m(a[b])}function r(a,b){d.shade||H.css({top:i(-b),left:i(-a)}),K.css({top:i(b),left:i(a)})}function t(a,b){K.width(Math.round(a)).height(Math.round(b))}function v(){var a=_.getFixed();_.setPressed([a.x,a.y]),_.setCurrent([a.x2,a.y2]),w()}function w(a){if(b)return x(a)}function x(a){var c=_.getFixed();t(c.w,c.h),r(c.x,c.y),d.shade&&ba.updateRaw(c),b||A(),a?d.onSelect.call(bs,u(c)):d.onChange.call(bs,u(c))}function z(a,c,e){if(!b&&!c)return;d.bgFade&&!e?D.animate({opacity:a},{queue:!1,duration:d.fadeTime}):D.css(\"opacity\",a)}function A(){K.show(),d.shade?ba.opacity(O):z(O,!0),b=!0}function B\n(){F(),K.hide(),d.shade?ba.opacity(1):z(1),b=!1,d.onRelease.call(bs)}function C(){h&&J.show()}function E(){h=!0;if(d.allowResize)return J.show(),!0}function F(){h=!1,J.hide()}function G(a){a?(X=!0,F()):(X=!1,E())}function L(){G(!1),v()}var b,c=370,e={},f={},g={},h=!1;d.dragEdges&&a.isArray(d.createDragbars)&&o(d.createDragbars),a.isArray(d.createHandles)&&q(d.createHandles),d.drawBorders&&a.isArray(d.createBorders)&&p(d.createBorders),a(document).bind(\"touchstart.jcrop-ios\",function(b){a(b.currentTarget).hasClass(\"jcrop-tracker\")&&b.stopPropagation()});var M=y().mousedown(s(\"move\")).css({cursor:\"move\",position:\"absolute\",zIndex:360});return Z.support&&M.bind(\"touchstart.jcrop\",Z.createDragger(\"move\")),I.append(M),F(),{updateVisible:w,update:x,release:B,refresh:v,isAwake:function(){return b},setCursor:function(a){M.css(\"cursor\",a)},enableHandles:E,enableOnly:function(){h=!0},showHandles:C,disableHandles:F,animMode:G,setBgOpacity:z,done:L}}(),bc=function(){function f(b){M.css({zIndex:450}),b?a(document).bind(\"touchmove.jcrop\"\n,k).bind(\"touchend.jcrop\",l):e&&a(document).bind(\"mousemove.jcrop\",h).bind(\"mouseup.jcrop\",i)}function g(){M.css({zIndex:290}),a(document).unbind(\".jcrop\")}function h(a){return b(m(a)),!1}function i(a){return a.preventDefault(),a.stopPropagation(),W&&(W=!1,c(m(a)),bb.isAwake()&&d.onSelect.call(bs,u(_.getFixed())),g(),b=function(){},c=function(){}),!1}function j(a,d,e){return W=!0,b=a,c=d,f(e),!1}function k(a){return b(m(Z.cfilter(a))),!1}function l(a){return i(Z.cfilter(a))}function n(a){M.css(\"cursor\",a)}var b=function(){},c=function(){},e=d.trackDocument;return e||M.mousemove(h).mouseup(i).mouseout(i),D.before(M),{activateHandlers:j,setCursor:n}}(),bd=function(){function e(){d.keySupport&&(b.show(),b.focus())}function f(a){b.hide()}function g(a,b,c){d.allowMove&&(_.moveOffset([b,c]),bb.updateVisible(!0)),a.preventDefault(),a.stopPropagation()}function i(a){if(a.ctrlKey||a.metaKey)return!0;Y=a.shiftKey?!0:!1;var b=Y?10:1;switch(a.keyCode){case 37:g(a,-b,0);break;case 39:g(a,b,0);break;case 38:g(a,0,-b);break;\ncase 40:g(a,0,b);break;case 27:d.allowSelect&&bb.release();break;case 9:return!0}return!1}var b=a('<input type=\"radio\" />').css({position:\"fixed\",left:\"-120px\",width:\"12px\"}).addClass(\"jcrop-keymgr\"),c=a(\"<div />\").css({position:\"absolute\",overflow:\"hidden\"}).append(b);return d.keySupport&&(b.keydown(i).blur(f),h||!d.fixedSupport?(b.css({position:\"absolute\",left:\"-20px\"}),c.append(b).insertBefore(D)):b.insertBefore(D)),{watchKeys:e}}();Z.support&&M.bind(\"touchstart.jcrop\",Z.newSelection),J.hide(),br(!0);var bs={setImage:bp,animateTo:bf,setSelect:bg,setOptions:bk,tellSelect:bi,tellScaled:bj,setClass:be,disable:bl,enable:bm,cancel:bn,release:bb.release,destroy:bo,focus:bd.watchKeys,getBounds:function(){return[E*T,F*U]},getWidgetSize:function(){return[E,F]},getScaleFactor:function(){return[T,U]},getOptions:function(){return d},ui:{holder:G,selection:K}};return g&&G.bind(\"selectstart\",function(){return!1}),A.data(\"Jcrop\",bs),bs},a.fn.Jcrop=function(b,c){var d;return this.each(function(){if(a(this).data(\"Jcrop\")){if(\nb===\"api\")return a(this).data(\"Jcrop\");a(this).data(\"Jcrop\").setOptions(b)}else this.tagName==\"IMG\"?a.Jcrop.Loader(this,function(){a(this).css({display:\"block\",visibility:\"hidden\"}),d=a.Jcrop(this,b),a.isFunction(c)&&c.call(d)}):(a(this).css({display:\"block\",visibility:\"hidden\"}),d=a.Jcrop(this,b),a.isFunction(c)&&c.call(d))}),this},a.Jcrop.Loader=function(b,c,d){function g(){f.complete?(e.unbind(\".jcloader\"),a.isFunction(c)&&c.call(f)):window.setTimeout(g,50)}var e=a(b),f=e[0];e.bind(\"load.jcloader\",g).bind(\"error.jcloader\",function(b){e.unbind(\".jcloader\"),a.isFunction(d)&&d.call(f)}),f.complete&&a.isFunction(c)&&(e.unbind(\".jcloader\"),c.call(f))},a.Jcrop.defaults={allowSelect:!0,allowMove:!0,allowResize:!0,trackDocument:!0,baseClass:\"jcrop\",addClass:null,bgColor:\"black\",bgOpacity:.6,bgFade:!1,borderOpacity:.4,handleOpacity:.5,handleSize:null,aspectRatio:0,keySupport:!0,createHandles:[\"n\",\"s\",\"e\",\"w\",\"nw\",\"ne\",\"se\",\"sw\"],createDragbars:[\"n\",\"s\",\"e\",\"w\"],createBorders:[\"n\",\"s\",\"e\",\"w\"],drawBorders:!0,dragEdges\n:!0,fixedSupport:!0,touchSupport:null,shade:null,boxWidth:0,boxHeight:0,boundary:2,fadeTime:400,animationDelay:20,swingSpeed:3,minSelect:[0,0],maxSize:[0,0],minSize:[0,0],onChange:function(){},onSelect:function(){},onDblClick:function(){},onRelease:function(){}}})(jQuery);"},{"id":17,"identifier":"D:\\云购\\public\\js\\libs\\bootstrap-datepicker.js","name":"./js/libs/bootstrap-datepicker.js","index":23,"index2":22,"size":13776,"cacheable":true,"built":false,"optional":false,"prefetched":false,"chunks":[6],"assets":[],"issuer":"D:\\云购\\public\\js\\app\\memberindex.main.js","failed":false,"errors":0,"warnings":0,"reasons":[{"moduleId":0,"moduleIdentifier":"D:\\云购\\public\\js\\app\\memberindex.main.js","module":"./js/app/memberindex.main.js","moduleName":"./js/app/memberindex.main.js","type":"cjs require","userRequest":"../libs/bootstrap-datepicker","loc":"5:0-39"}],"source":"/* =========================================================\n * bootstrap-datepicker.js \n * http://www.eyecon.ro/bootstrap-datepicker\n * =========================================================\n * Copyright 2012 Stefan Petre\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * ========================================================= */\n \n!function( $ ) {\n\t\n\t// Picker object\n\t\n\tvar Datepicker = function(element, options){\n\t\tthis.element = $(element);\n\t\tthis.format = DPGlobal.parseFormat(options.format||this.element.data('date-format')||'mm/dd/yyyy');\n\t\tthis.picker = $(DPGlobal.template)\n\t\t\t\t\t\t\t.appendTo('body')\n\t\t\t\t\t\t\t.on({\n\t\t\t\t\t\t\t\tclick: $.proxy(this.click, this)//,\n\t\t\t\t\t\t\t\t//mousedown: $.proxy(this.mousedown, this)\n\t\t\t\t\t\t\t});\n\t\tthis.isInput = this.element.is('input');\n\t\tthis.component = this.element.is('.date') ? this.element.find('.add-on') : false;\n\t\t\n\t\tif (this.isInput) {\n\t\t\tthis.element.on({\n\t\t\t\tfocus: $.proxy(this.show, this),\n\t\t\t\t//blur: $.proxy(this.hide, this),\n\t\t\t\tkeyup: $.proxy(this.update, this)\n\t\t\t});\n\t\t} else {\n\t\t\tif (this.component){\n\t\t\t\tthis.component.on('click', $.proxy(this.show, this));\n\t\t\t} else {\n\t\t\t\tthis.element.on('click', $.proxy(this.show, this));\n\t\t\t}\n\t\t}\n\t\n\t\tthis.minViewMode = options.minViewMode||this.element.data('date-minviewmode')||0;\n\t\tif (typeof this.minViewMode === 'string') {\n\t\t\tswitch (this.minViewMode) {\n\t\t\t\tcase 'months':\n\t\t\t\t\tthis.minViewMode = 1;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'years':\n\t\t\t\t\tthis.minViewMode = 2;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tthis.minViewMode = 0;\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tthis.viewMode = options.viewMode||this.element.data('date-viewmode')||0;\n\t\tif (typeof this.viewMode === 'string') {\n\t\t\tswitch (this.viewMode) {\n\t\t\t\tcase 'months':\n\t\t\t\t\tthis.viewMode = 1;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'years':\n\t\t\t\t\tthis.viewMode = 2;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tthis.viewMode = 0;\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tthis.startViewMode = this.viewMode;\n\t\tthis.weekStart = options.weekStart||this.element.data('date-weekstart')||0;\n\t\tthis.weekEnd = this.weekStart === 0 ? 6 : this.weekStart - 1;\n\t\tthis.onRender = options.onRender;\n\t\tthis.fillDow();\n\t\tthis.fillMonths();\n\t\tthis.update();\n\t\tthis.showMode();\n\t};\n\t\n\tDatepicker.prototype = {\n\t\tconstructor: Datepicker,\n\t\t\n\t\tshow: function(e) {\n\t\t\tthis.picker.show();\n\t\t\tthis.height = this.component ? this.component.outerHeight() : this.element.outerHeight();\n\t\t\tthis.place();\n\t\t\t$(window).on('resize', $.proxy(this.place, this));\n\t\t\tif (e ) {\n\t\t\t\te.stopPropagation();\n\t\t\t\te.preventDefault();\n\t\t\t}\n\t\t\tif (!this.isInput) {\n\t\t\t}\n\t\t\tvar that = this;\n\t\t\t$(document).on('mousedown', function(ev){\n\t\t\t\tif ($(ev.target).closest('.datepicker').length == 0) {\n\t\t\t\t\tthat.hide();\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.element.trigger({\n\t\t\t\ttype: 'show',\n\t\t\t\tdate: this.date\n\t\t\t});\n\t\t},\n\t\t\n\t\thide: function(){\n\t\t\tthis.picker.hide();\n\t\t\t$(window).off('resize', this.place);\n\t\t\tthis.viewMode = this.startViewMode;\n\t\t\tthis.showMode();\n\t\t\tif (!this.isInput) {\n\t\t\t\t$(document).off('mousedown', this.hide);\n\t\t\t}\n\t\t\t//this.set();\n\t\t\tthis.element.trigger({\n\t\t\t\ttype: 'hide',\n\t\t\t\tdate: this.date\n\t\t\t});\n\t\t},\n\t\t\n\t\tset: function() {\n\t\t\tvar formated = DPGlobal.formatDate(this.date, this.format);\n\t\t\tif (!this.isInput) {\n\t\t\t\tif (this.component){\n\t\t\t\t\tthis.element.find('input').prop('value', formated);\n\t\t\t\t}\n\t\t\t\tthis.element.data('date', formated);\n\t\t\t} else {\n\t\t\t\tthis.element.prop('value', formated);\n\t\t\t}\n\t\t},\n\t\t\n\t\tsetValue: function(newDate) {\n\t\t\tif (typeof newDate === 'string') {\n\t\t\t\tthis.date = DPGlobal.parseDate(newDate, this.format);\n\t\t\t} else {\n\t\t\t\tthis.date = new Date(newDate);\n\t\t\t}\n\t\t\tthis.set();\n\t\t\tthis.viewDate = new Date(this.date.getFullYear(), this.date.getMonth(), 1, 0, 0, 0, 0);\n\t\t\tthis.fill();\n\t\t},\n\t\t\n\t\tplace: function(){\n\t\t\tvar offset = this.component ? this.component.offset() : this.element.offset();\n\t\t\tthis.picker.css({\n\t\t\t\ttop: offset.top + this.height,\n\t\t\t\tleft: offset.left\n\t\t\t});\n\t\t},\n\t\t\n\t\tupdate: function(newDate){\n\t\t\tthis.date = DPGlobal.parseDate(\n\t\t\t\ttypeof newDate === 'string' ? newDate : (this.isInput ? this.element.prop('value') : this.element.data('date')),\n\t\t\t\tthis.format\n\t\t\t);\n\t\t\tthis.viewDate = new Date(this.date.getFullYear(), this.date.getMonth(), 1, 0, 0, 0, 0);\n\t\t\tthis.fill();\n\t\t},\n\t\t\n\t\tfillDow: function(){\n\t\t\tvar dowCnt = this.weekStart;\n\t\t\tvar html = '<tr>';\n\t\t\twhile (dowCnt < this.weekStart + 7) {\n\t\t\t\thtml += '<th class=\"dow\">'+DPGlobal.dates.daysMin[(dowCnt++)%7]+'</th>';\n\t\t\t}\n\t\t\thtml += '</tr>';\n\t\t\tthis.picker.find('.datepicker-days thead').append(html);\n\t\t},\n\t\t\n\t\tfillMonths: function(){\n\t\t\tvar html = '';\n\t\t\tvar i = 0\n\t\t\twhile (i < 12) {\n\t\t\t\thtml += '<span class=\"month\">'+DPGlobal.dates.monthsShort[i++]+'</span>';\n\t\t\t}\n\t\t\tthis.picker.find('.datepicker-months td').append(html);\n\t\t},\n\t\t\n\t\tfill: function() {\n\t\t\tvar d = new Date(this.viewDate),\n\t\t\t\tyear = d.getFullYear(),\n\t\t\t\tmonth = d.getMonth(),\n\t\t\t\tcurrentDate = this.date.valueOf();\n\t\t\tthis.picker.find('.datepicker-days th:eq(1)')\n\t\t\t\t\t\t.text(DPGlobal.dates.months[month]+' '+year);\n\t\t\tvar prevMonth = new Date(year, month-1, 28,0,0,0,0),\n\t\t\t\tday = DPGlobal.getDaysInMonth(prevMonth.getFullYear(), prevMonth.getMonth());\n\t\t\tprevMonth.setDate(day);\n\t\t\tprevMonth.setDate(day - (prevMonth.getDay() - this.weekStart + 7)%7);\n\t\t\tvar nextMonth = new Date(prevMonth);\n\t\t\tnextMonth.setDate(nextMonth.getDate() + 42);\n\t\t\tnextMonth = nextMonth.valueOf();\n\t\t\tvar html = [];\n\t\t\tvar clsName,\n\t\t\t\tprevY,\n\t\t\t\tprevM;\n\t\t\twhile(prevMonth.valueOf() < nextMonth) {\n\t\t\t\tif (prevMonth.getDay() === this.weekStart) {\n\t\t\t\t\thtml.push('<tr>');\n\t\t\t\t}\n\t\t\t\tclsName = this.onRender(prevMonth);\n\t\t\t\tprevY = prevMonth.getFullYear();\n\t\t\t\tprevM = prevMonth.getMonth();\n\t\t\t\tif ((prevM < month &&  prevY === year) ||  prevY < year) {\n\t\t\t\t\tclsName += ' old';\n\t\t\t\t} else if ((prevM > month && prevY === year) || prevY > year) {\n\t\t\t\t\tclsName += ' new';\n\t\t\t\t}\n\t\t\t\tif (prevMonth.valueOf() === currentDate) {\n\t\t\t\t\tclsName += ' active';\n\t\t\t\t}\n\t\t\t\thtml.push('<td class=\"day '+clsName+'\">'+prevMonth.getDate() + '</td>');\n\t\t\t\tif (prevMonth.getDay() === this.weekEnd) {\n\t\t\t\t\thtml.push('</tr>');\n\t\t\t\t}\n\t\t\t\tprevMonth.setDate(prevMonth.getDate()+1);\n\t\t\t}\n\t\t\tthis.picker.find('.datepicker-days tbody').empty().append(html.join(''));\n\t\t\tvar currentYear = this.date.getFullYear();\n\t\t\t\n\t\t\tvar months = this.picker.find('.datepicker-months')\n\t\t\t\t\t\t.find('th:eq(1)')\n\t\t\t\t\t\t\t.text(year)\n\t\t\t\t\t\t\t.end()\n\t\t\t\t\t\t.find('span').removeClass('active');\n\t\t\tif (currentYear === year) {\n\t\t\t\tmonths.eq(this.date.getMonth()).addClass('active');\n\t\t\t}\n\t\t\t\n\t\t\thtml = '';\n\t\t\tyear = parseInt(year/10, 10) * 10;\n\t\t\tvar yearCont = this.picker.find('.datepicker-years')\n\t\t\t\t\t\t\t\t.find('th:eq(1)')\n\t\t\t\t\t\t\t\t\t.text(year + '-' + (year + 9))\n\t\t\t\t\t\t\t\t\t.end()\n\t\t\t\t\t\t\t\t.find('td');\n\t\t\tyear -= 1;\n\t\t\tfor (var i = -1; i < 11; i++) {\n\t\t\t\thtml += '<span class=\"year'+(i === -1 || i === 10 ? ' old' : '')+(currentYear === year ? ' active' : '')+'\">'+year+'</span>';\n\t\t\t\tyear += 1;\n\t\t\t}\n\t\t\tyearCont.html(html);\n\t\t},\n\t\t\n\t\tclick: function(e) {\n\t\t\te.stopPropagation();\n\t\t\te.preventDefault();\n\t\t\tvar target = $(e.target).closest('span, td, th');\n\t\t\tif (target.length === 1) {\n\t\t\t\tswitch(target[0].nodeName.toLowerCase()) {\n\t\t\t\t\tcase 'th':\n\t\t\t\t\t\tswitch(target[0].className) {\n\t\t\t\t\t\t\tcase 'switch':\n\t\t\t\t\t\t\t\tthis.showMode(1);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 'prev':\n\t\t\t\t\t\t\tcase 'next':\n\t\t\t\t\t\t\t\tthis.viewDate['set'+DPGlobal.modes[this.viewMode].navFnc].call(\n\t\t\t\t\t\t\t\t\tthis.viewDate,\n\t\t\t\t\t\t\t\t\tthis.viewDate['get'+DPGlobal.modes[this.viewMode].navFnc].call(this.viewDate) + \n\t\t\t\t\t\t\t\t\tDPGlobal.modes[this.viewMode].navStep * (target[0].className === 'prev' ? -1 : 1)\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\tthis.fill();\n\t\t\t\t\t\t\t\tthis.set();\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'span':\n\t\t\t\t\t\tif (target.is('.month')) {\n\t\t\t\t\t\t\tvar month = target.parent().find('span').index(target);\n\t\t\t\t\t\t\tthis.viewDate.setMonth(month);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tvar year = parseInt(target.text(), 10)||0;\n\t\t\t\t\t\t\tthis.viewDate.setFullYear(year);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (this.viewMode !== 0) {\n\t\t\t\t\t\t\tthis.date = new Date(this.viewDate);\n\t\t\t\t\t\t\tthis.element.trigger({\n\t\t\t\t\t\t\t\ttype: 'changeDate',\n\t\t\t\t\t\t\t\tdate: this.date,\n\t\t\t\t\t\t\t\tviewMode: DPGlobal.modes[this.viewMode].clsName\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.showMode(-1);\n\t\t\t\t\t\tthis.fill();\n\t\t\t\t\t\tthis.set();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'td':\n\t\t\t\t\t\tif (target.is('.day') && !target.is('.disabled')){\n\t\t\t\t\t\t\tvar day = parseInt(target.text(), 10)||1;\n\t\t\t\t\t\t\tvar month = this.viewDate.getMonth();\n\t\t\t\t\t\t\tif (target.is('.old')) {\n\t\t\t\t\t\t\t\tmonth -= 1;\n\t\t\t\t\t\t\t} else if (target.is('.new')) {\n\t\t\t\t\t\t\t\tmonth += 1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tvar year = this.viewDate.getFullYear();\n\t\t\t\t\t\t\tthis.date = new Date(year, month, day,0,0,0,0);\n\t\t\t\t\t\t\tthis.viewDate = new Date(year, month, Math.min(28, day),0,0,0,0);\n\t\t\t\t\t\t\tthis.fill();\n\t\t\t\t\t\t\tthis.set();\n\t\t\t\t\t\t\tthis.element.trigger({\n\t\t\t\t\t\t\t\ttype: 'changeDate',\n\t\t\t\t\t\t\t\tdate: this.date,\n\t\t\t\t\t\t\t\tviewMode: DPGlobal.modes[this.viewMode].clsName\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t\n\t\tmousedown: function(e){\n\t\t\te.stopPropagation();\n\t\t\te.preventDefault();\n\t\t},\n\t\t\n\t\tshowMode: function(dir) {\n\t\t\tif (dir) {\n\t\t\t\tthis.viewMode = Math.max(this.minViewMode, Math.min(2, this.viewMode + dir));\n\t\t\t}\n\t\t\tthis.picker.find('>div').hide().filter('.datepicker-'+DPGlobal.modes[this.viewMode].clsName).show();\n\t\t}\n\t};\n\t\n\t$.fn.datepicker = function ( option, val ) {\n\t\treturn this.each(function () {\n\t\t\tvar $this = $(this),\n\t\t\t\tdata = $this.data('datepicker'),\n\t\t\t\toptions = typeof option === 'object' && option;\n\t\t\tif (!data) {\n\t\t\t\t$this.data('datepicker', (data = new Datepicker(this, $.extend({}, $.fn.datepicker.defaults,options))));\n\t\t\t}\n\t\t\tif (typeof option === 'string') data[option](val);\n\t\t});\n\t};\n\n\t$.fn.datepicker.defaults = {\n\t\tonRender: function(date) {\n\t\t\treturn '';\n\t\t}\n\t};\n\t$.fn.datepicker.Constructor = Datepicker;\n\t\n\tvar DPGlobal = {\n\t\tmodes: [\n\t\t\t{\n\t\t\t\tclsName: 'days',\n\t\t\t\tnavFnc: 'Month',\n\t\t\t\tnavStep: 1\n\t\t\t},\n\t\t\t{\n\t\t\t\tclsName: 'months',\n\t\t\t\tnavFnc: 'FullYear',\n\t\t\t\tnavStep: 1\n\t\t\t},\n\t\t\t{\n\t\t\t\tclsName: 'years',\n\t\t\t\tnavFnc: 'FullYear',\n\t\t\t\tnavStep: 10\n\t\t}],\n\t\tdates:{\n\t\t\tdays: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\", \"Sunday\"],\n\t\t\tdaysShort: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\", \"Sun\"],\n\t\t\tdaysMin: [\"Su\", \"Mo\", \"Tu\", \"We\", \"Th\", \"Fr\", \"Sa\", \"Su\"],\n\t\t\tmonths: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n\t\t\tmonthsShort: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n\t\t},\n\t\tisLeapYear: function (year) {\n\t\t\treturn (((year % 4 === 0) && (year % 100 !== 0)) || (year % 400 === 0))\n\t\t},\n\t\tgetDaysInMonth: function (year, month) {\n\t\t\treturn [31, (DPGlobal.isLeapYear(year) ? 29 : 28), 31, 30, 31, 30, 31, 31, 30, 31, 30, 31][month]\n\t\t},\n\t\tparseFormat: function(format){\n\t\t\tvar separator = format.match(/[.\\/\\-\\s].*?/),\n\t\t\t\tparts = format.split(/\\W+/);\n\t\t\tif (!separator || !parts || parts.length === 0){\n\t\t\t\tthrow new Error(\"Invalid date format.\");\n\t\t\t}\n\t\t\treturn {separator: separator, parts: parts};\n\t\t},\n\t\tparseDate: function(date, format) {\n\t\t\tvar parts = date.split(format.separator),\n\t\t\t\tdate = new Date(),\n\t\t\t\tval;\n\t\t\tdate.setHours(0);\n\t\t\tdate.setMinutes(0);\n\t\t\tdate.setSeconds(0);\n\t\t\tdate.setMilliseconds(0);\n\t\t\tif (parts.length === format.parts.length) {\n\t\t\t\tvar year = date.getFullYear(), day = date.getDate(), month = date.getMonth();\n\t\t\t\tfor (var i=0, cnt = format.parts.length; i < cnt; i++) {\n\t\t\t\t\tval = parseInt(parts[i], 10)||1;\n\t\t\t\t\tswitch(format.parts[i]) {\n\t\t\t\t\t\tcase 'dd':\n\t\t\t\t\t\tcase 'd':\n\t\t\t\t\t\t\tday = val;\n\t\t\t\t\t\t\tdate.setDate(val);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'mm':\n\t\t\t\t\t\tcase 'm':\n\t\t\t\t\t\t\tmonth = val - 1;\n\t\t\t\t\t\t\tdate.setMonth(val - 1);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'yy':\n\t\t\t\t\t\t\tyear = 2000 + val;\n\t\t\t\t\t\t\tdate.setFullYear(2000 + val);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'yyyy':\n\t\t\t\t\t\t\tyear = val;\n\t\t\t\t\t\t\tdate.setFullYear(val);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tdate = new Date(year, month, day, 0 ,0 ,0);\n\t\t\t}\n\t\t\treturn date;\n\t\t},\n\t\tformatDate: function(date, format){\n\t\t\tvar val = {\n\t\t\t\td: date.getDate(),\n\t\t\t\tm: date.getMonth() + 1,\n\t\t\t\tyy: date.getFullYear().toString().substring(2),\n\t\t\t\tyyyy: date.getFullYear()\n\t\t\t};\n\t\t\tval.dd = (val.d < 10 ? '0' : '') + val.d;\n\t\t\tval.mm = (val.m < 10 ? '0' : '') + val.m;\n\t\t\tvar date = [];\n\t\t\tfor (var i=0, cnt = format.parts.length; i < cnt; i++) {\n\t\t\t\tdate.push(val[format.parts[i]]);\n\t\t\t}\n\t\t\treturn date.join(format.separator);\n\t\t},\n\t\theadTemplate: '<thead>'+\n\t\t\t\t\t\t\t'<tr>'+\n\t\t\t\t\t\t\t\t'<th class=\"prev\">&lsaquo;</th>'+\n\t\t\t\t\t\t\t\t'<th colspan=\"5\" class=\"switch\"></th>'+\n\t\t\t\t\t\t\t\t'<th class=\"next\">&rsaquo;</th>'+\n\t\t\t\t\t\t\t'</tr>'+\n\t\t\t\t\t\t'</thead>',\n\t\tcontTemplate: '<tbody><tr><td colspan=\"7\"></td></tr></tbody>'\n\t};\n\tDPGlobal.template = '<div class=\"datepicker dropdown-menu\">'+\n\t\t\t\t\t\t\t'<div class=\"datepicker-days\">'+\n\t\t\t\t\t\t\t\t'<table class=\" table-condensed\">'+\n\t\t\t\t\t\t\t\t\tDPGlobal.headTemplate+\n\t\t\t\t\t\t\t\t\t'<tbody></tbody>'+\n\t\t\t\t\t\t\t\t'</table>'+\n\t\t\t\t\t\t\t'</div>'+\n\t\t\t\t\t\t\t'<div class=\"datepicker-months\">'+\n\t\t\t\t\t\t\t\t'<table class=\"table-condensed\">'+\n\t\t\t\t\t\t\t\t\tDPGlobal.headTemplate+\n\t\t\t\t\t\t\t\t\tDPGlobal.contTemplate+\n\t\t\t\t\t\t\t\t'</table>'+\n\t\t\t\t\t\t\t'</div>'+\n\t\t\t\t\t\t\t'<div class=\"datepicker-years\">'+\n\t\t\t\t\t\t\t\t'<table class=\"table-condensed\">'+\n\t\t\t\t\t\t\t\t\tDPGlobal.headTemplate+\n\t\t\t\t\t\t\t\t\tDPGlobal.contTemplate+\n\t\t\t\t\t\t\t\t'</table>'+\n\t\t\t\t\t\t\t'</div>'+\n\t\t\t\t\t\t'</div>';\n\n}( window.jQuery );"},{"id":18,"identifier":"D:\\云购\\public\\js\\app\\postsingle.js","name":"./js/app/postsingle.js","index":24,"index2":23,"size":4616,"cacheable":true,"built":false,"optional":false,"prefetched":false,"chunks":[6],"assets":[],"issuer":"D:\\云购\\public\\js\\app\\memberindex.main.js","failed":false,"errors":0,"warnings":0,"reasons":[{"moduleId":0,"moduleIdentifier":"D:\\云购\\public\\js\\app\\memberindex.main.js","module":"./js/app/memberindex.main.js","moduleName":"./js/app/memberindex.main.js","type":"cjs require","userRequest":"./postsingle","loc":"9:0-23"}],"source":"$(function(){\r\n    if( pageTrue==\"postsinglelist\" ){\r\n\r\n        $(\"#div_singletip .gray9\").on(\"click\", function(){\r\n            if( $(this).attr(\"exp\")==\"1\" ){\r\n                $(\"#div_singletip\").animate({height:\"40px\"},function(){\r\n                    $(this).find(\".gray6\").hide();\r\n                });\r\n                $(this).attr(\"exp\",\"2\");\r\n                $(this).html('展开<s class=\"u-personal\"></s>');\r\n            }else{\r\n                $(this).attr(\"exp\",\"1\");\r\n                $(this).html('收起<s class=\"u-personal\"></s>');\r\n                $(\"#div_singletip\").animate({height:\"258px\"}).find(\".gray6\").show();\r\n            }\r\n        });\r\n\r\n        var options = {\r\n            //target: '#request',           // 把服务器返回的内容放进这个id里面显示出来\r\n            beforeSubmit: showRequest,  // 提交前回调\r\n            success: showResponse,      // 提交后回调\r\n            url: \"/service/file/upload?upload_path=post\",           // 如果重新申明了就会覆盖action这个url\r\n            dataType:  \"json\"         // 'xml', 'script', or 'json' (接受服务器返回的类型)\r\n        };\r\n        $(\"#fuploadFile\").on(\"change\", function(){\r\n\r\n            if( $(\"#ul_ImgList li\").length>10 ){\r\n                FailDialog(250,60,\"图片数量不能小于3张大于10张！\");\r\n                return;\r\n            }\r\n\r\n            var addImg = $(this).val();\r\n            if(addImg!=\"\"||addImg!=null){\r\n                if(addImg.toLowerCase().indexOf(\".jpg\") != -1 || addImg.toLowerCase().indexOf(\".gif\") != -1 || addImg.toLowerCase().indexOf(\".bmp\") != -1){\r\n                    $('#form').ajaxForm(options);\r\n                    $(\"#btn_submit\").click();\r\n                }else{\r\n                    FailDialog(500,60,\"上传失败，超时或非gif，jpg，bmp格式图片，请重试！\",url);\r\n                }\r\n            }\r\n        });\r\n        //提交前回调\r\n        function showRequest(formData, jqForm, options){\r\n            var queryString = $.param(formData);\r\n            tanFun(180,70,'<div class=\"z-popUp z-pop-box\"><span class=\"box-loading\">上传中，请稍等...</span></div>');\r\n            $(\"#pageDialogClose\").hide();\r\n            return true;\r\n        } \r\n        //提交后回调\r\n        function showResponse(responseText){\r\n            avatar = responseText.upload.id;\r\n            $(\"#ul_ImgList\").prepend('<li id=\"'+avatar+'\"><img src=\"/service/file/index?upload_path=post&id='+avatar+'&w=400&h=400&a=1\" alt=\"\"><a href=\"javascript:;\" class=\"z-delete u-personal\"></a></li>');\r\n            gotoClick();\r\n        }\r\n\r\n        // 删除图片\r\n        $(document).on(\"click\", \".z-delete\", function(){\r\n            $(this).parents('li').remove();\r\n        });\r\n\r\n        // 提交晒单\r\n        $(\"#btnSubmit\").on(\"click\", function(){\r\n            var postTitle = $(\"#postTitle\").val();\r\n            var postContent = $(\"#postContent\").val();\r\n            var imgLen = $(\"#ul_ImgList li\").length;\r\n            var postCodeID = $.query.get(\"goods_id\");\r\n            var postAllPic = \"\";\r\n\r\n            if( postTitle.length<5&&$(\"#postTitle\").hasClass(\"focus\") ){\r\n                FailDialog(160,60,\"字数少于5个！\");\r\n                return;\r\n            }\r\n            if( postTitle.length>100 ){\r\n                FailDialog(160,60,\"超过字数限制！\");\r\n                return;\r\n            }\r\n            if( postContent.length<100&&$(\"#postContent\").hasClass(\"focus\") ){\r\n                FailDialog(180,60,\"不能小于100字符！\");\r\n                return;\r\n            }\r\n            if( imgLen<4||imgLen>11 ){\r\n                FailDialog(280,60,\"图片数量不能小于3张大于10张！\");\r\n                return;\r\n            }\r\n            for ( var i=1; i<imgLen; i++) {\r\n                var id = $(\"#ul_ImgList li\").eq(i-1).attr(\"id\");\r\n                postAllPic += ( postAllPic==\"\" ? id : \",\"+id );\r\n            };\r\n\r\n            var dataObj = {\r\n                postCodeID : postCodeID,\r\n                postTitle : postTitle,\r\n                postContent : postContent,\r\n                postAllPic : postAllPic\r\n            }\r\n            if( !ajaxlack ) return; ajaxlack = false;\r\n            $.ajax({\r\n                url: \"/post/service/insertpostsingle\",\r\n                type: 'POST',\r\n                dataType: 'json',\r\n                data: dataObj\r\n            })\r\n            .done(function(data) {\r\n                console.log(data);\r\n                if( data.success ){\r\n                    FailDialog(162,60,\"上传成功\",'/member/index/postsingleadd?goods_id='+$.query.get(\"goods_id\"));\r\n                }else{\r\n                    alert(data.error_msg);\r\n                }\r\n            })\r\n            .fail(function() {\r\n                alert('网络错误！')\r\n            })\r\n            .always(function() {\r\n                ajaxlack = true;\r\n            });     \r\n        });\r\n    }\r\n})"},{"id":19,"identifier":"D:\\云购\\public\\js\\app\\memberPublic.js","name":"./js/app/memberPublic.js","index":25,"index2":24,"size":4569,"cacheable":true,"built":false,"optional":false,"prefetched":false,"chunks":[6],"assets":[],"issuer":"D:\\云购\\public\\js\\app\\memberindex.main.js","failed":false,"errors":0,"warnings":0,"reasons":[{"moduleId":0,"moduleIdentifier":"D:\\云购\\public\\js\\app\\memberindex.main.js","module":"./js/app/memberindex.main.js","moduleName":"./js/app/memberindex.main.js","type":"cjs require","userRequest":"./memberPublic","loc":"10:0-25"}],"source":"$(function(){\r\n\t$(\"#div_collectlist li\").hover(function(){\r\n\t\t$(this).find(\".n-info-wrapper02\").show();\r\n\t\t$(this).find(\".n-info-wrapper01\").hide();\r\n\t},function(){\r\n\t\t$(this).find(\".n-info-wrapper01\").show();\r\n\t\t$(this).find(\".n-info-wrapper02\").hide();\r\n\t});\r\n\r\n\t// $(document).on(\"hover\",\".u-select-con\",function(){\r\n\t// \t$(this).addClass(\"state-hover\");\r\n\t// \t$(this).find(\".select-state\").show();\r\n\t// },function(){\r\n\t// \t$(this).removeClass(\"state-hover\");\r\n\t// \t$(this).find(\".select-state\").hide();\r\n\t// });\r\n\r\n\t$(\".private_btn\").on(\"click\",function(){\r\n\t\tvar _con = $(this).attr(\"_con\");\r\n\t\tvar username = '<div class=\"title\">对 '+$(this).attr(\"username\")+' 说：</div>';\r\n\t\t$(\"#pageDialogMain\").prepend(username);\r\n\t\ttanFun(\"420\",\"210\",_con);\r\n\t});\r\n\r\n\t$(\"#ulMoneyList li\").on(\"click\",function(){\r\n\t\tvar $this = $(this);\r\n\t\t$this.addClass(\"f-checked\").siblings().removeClass(\"f-checked\");\r\n\t\t$(\"#b_money\").html($this.attr(\"money\"));\r\n\t\t$(\"#hidMoney\").val($this.attr(\"money\"));\r\n\r\n\t});\r\n\r\n\t$(\".f-pay-bank dd\").on(\"click\",function(){\r\n\t\tvar $this = $(this);\r\n\t\t$this.addClass(\"checked\").siblings().removeClass(\"checked\");\r\n\t\t$(\"#hidPayBank\").val($this.find(\"input\").val());\r\n\t});\r\n\r\n\t$(\"#txtOtherMoney\").on(\"input propertychange\",function(){\r\n\t\tvar $this = $(this);\r\n\t\tvar val = $this.val();\r\n\r\n\t\tif(!isNaN(val)){\r\n\t\t   $(\"#b_money\").html(val);\r\n\t\t   $(\"#hidMoney\").val(val);\r\n\t\t}else{\r\n\t\t\t$this.html('');\r\n\t\t}\r\n\t});\r\n\r\n\t$(\"#ul_menu li\").on(\"click\",function(){\r\n\t\tvar $this = $(this);\r\n\t\tvar index = $(this).index();\r\n\t\t$this.addClass(\"curr\").siblings().removeClass(\"curr\");\r\n\t\t$(\".f-pay-bank\").hide();\r\n\t\t$(\".f-pay-bank\").eq(index).show();\r\n\t});\r\n\r\n\r\n\t$(\"#a_transfer\").on(\"click\",function(){\r\n\t\ttanFun(\"428\",\"227\",'<div class=\"g-need-bind clrfix\"><dl><dt class=\"orange\">需要设置支付密码才能进行转账</dt><dd class=\"gray9\">您还未设置支付密码，请先设置支付密码再进行转账操作</dd><dd><a href=\"UserAuth-10.html\">立即设置</a></dd></dl></div>');\r\n\t});\r\n\r\n\r\n\r\n\t// 时间处理\r\n\tvar date = new Date();\r\n    timeFun();\r\n    function timeFun(){\r\n        var $year = $(\"#sltYear .select-state\");\r\n        //获取年份\r\n        var year = date.getFullYear();\r\n        //年份循环\r\n        for ( var i=0; i<=100; i++ ) {\r\n            $year.append('<a value=\"'+(year-i)+'\">'+(year-i)+'</a>');\r\n        }\r\n\r\n        var sltMonthVal = $(\"#sltMonth .gray6\").html();\r\n        if( sltMonthVal!=\"月\" ){\r\n        \tthisDaysFun(sltMonthVal);\r\n        }\r\n    }    \r\n\r\n    // 计算当月有少天\r\n    function daysFun(mouth){\r\n        //定义当月的天数；\r\n        var days;\r\n        //当月份为二月时，根据闰年还是非闰年判断天数\r\n        if( mouth==2 ){\r\n            days = date.getFullYear() % 4 == 0 ? 29 : 28;\r\n        }\r\n        else if(mouth == 1 || mouth == 3 || mouth == 5 || mouth == 7 || mouth == 8 || mouth == 10 || mouth == 12){\r\n            //月份为：1,3,5,7,8,10,12 时，为大月.则天数为31；\r\n            days=31;\r\n        }\r\n        else{\r\n            //其他月份，天数为：30.\r\n            days=30;\r\n        }\r\n        return days;\r\n    }\r\n\r\n    $(\"#sltMonth .select-state a\").on(\"click\",function(){\r\n        var days = $(this).html();\r\n        thisDaysFun(days);\r\n    });\r\n\r\n    // 循环天\r\n    function thisDaysFun(days){\r\n        $days = $(\"#sltDay .select-state\");\r\n        $days.html('');\r\n        $(\"#sltDay .gray6\").html('日<s class=\"u-personal\"></s>');\r\n        //天循环\r\n        for ( var i=0; i<daysFun(days); i++ ) {\r\n            $days.append('<a value=\"'+((i+1)<=9 ? \"0\"+(i+1) : (i+1))+'\">'+((i+1)<=9 ? \"0\"+(i+1) : (i+1))+'</a>');\r\n        }\r\n    }\r\n\r\n    \t// 城市函数\r\n\twindow.provinceFun = function (province,Callback){\r\n\t\t// if( !ajaxlack ) return; ajaxlack = false;\r\n\t\t$.ajax({\r\n\t        url: \"/system/area/getcitys\",\r\n\t        type: 'POST',\r\n\t        dataType: 'json',\r\n\t        data: { province:province }\r\n\t    })\r\n\t    .done(function(data) {\r\n\t        console.log(data);\r\n\t        if( data.success ){\r\n\t        \tCallback(data);\r\n\t        }else{\r\n\t        \talert(data.error_msg);\r\n\t        }\r\n\t    })\r\n\t    .fail(function() {\r\n\t        alert('网络错误！')\r\n\t    })\r\n\t    .always(function() {\r\n\t    \tajaxlack = true;\r\n\t    });\r\n\t}\r\n\r\n\t// 城市区域函数\r\n\twindow.getdistrictsFun = function(city,Callback){\r\n\t\t// if( !ajaxlack ) return; ajaxlack = false;\r\n\t\t$.ajax({\r\n\t        url: \"/system/area/getdistricts\",\r\n\t        type: 'POST',\r\n\t        dataType: 'json',\r\n\t        data: { city:city }\r\n\t    })\r\n\t    .done(function(data) {\r\n\t        console.log(data);\r\n\t        if( data.success ){\r\n\t        \tCallback(data);\r\n\t        }else{\r\n\t        \talert(data.error_msg);\r\n\t        }\r\n\t    })\r\n\t    .fail(function() {\r\n\t        alert('网络错误！')\r\n\t    })\r\n\t    .always(function() {\r\n\t    \tajaxlack = true;\r\n\t    });\r\n\t}\r\n})"},{"id":20,"identifier":"D:\\云购\\public\\js\\app\\address.js","name":"./js/app/address.js","index":26,"index2":25,"size":5152,"cacheable":true,"built":false,"optional":false,"prefetched":false,"chunks":[6],"assets":[],"issuer":"D:\\云购\\public\\js\\app\\memberindex.main.js","failed":false,"errors":0,"warnings":0,"reasons":[{"moduleId":0,"moduleIdentifier":"D:\\云购\\public\\js\\app\\memberindex.main.js","module":"./js/app/memberindex.main.js","moduleName":"./js/app/memberindex.main.js","type":"cjs require","userRequest":"./address","loc":"11:0-20"}],"source":"$(function(){\r\n \r\n\t// 下拉框\r\n\t$(document).on(click,\".select-xiala\",function(){\r\n\t\t$(\".select-xiala\").next(\".select-state\").hide();\r\n\t\t$(this).next(\".select-state\").toggle();\r\n\t});\r\n\r\n\t$(document).on(click, \".select-state a\", function(){\r\n\t\tvar text = $(this).text();\r\n\t\tvar val = $(this).attr(\"value\");\r\n\t\tvar $parent = $(this).parent().parent();\r\n\t\t$(this).parent(\".select-state\").hide();\r\n\t\t$parent.find(\"input\").val(val);\r\n\t\t$parent.find(\".gray6\").html(text+'<s class=\"u-personal\"></s>');\r\n\t});\r\n\r\n\t// 城市接口\r\n\t$(document).on(\"click\",\"#selProvinceID .select-state a\",function(){\r\n\t\tvar province = $(this).attr(\"value\"); //城市\r\n\t\t$(\"#selCityID input, #selCountyID input\").val('');\r\n\t\tprovinceFun(province,function(data){\r\n\t\t\t$(\"#selCityID .select-state\").html('');\r\n\t\t\t$(\"#selCityID .select-xiala, #selCountyID .select-xiala\").html('---请选择---<s class=\"u-personal\"></s>');\r\n\t\t\tfor( var v in data.result ){\r\n\t\t\t\t$(\"#selCityID .select-state\").append('<a href=\"javascript:;\" value=\"'+v+'\">'+data.result[v]+'</a>');\r\n\t\t\t}\r\n\t\t});\r\n\t});\r\n\r\n\t// 城市区接口\r\n\t$(document).on(click, \"#selCityID .select-state a\",function(){\r\n\t\tvar province = $(this).attr(\"value\"); //城市\r\n\t\t$(\"#selCountyID input\").val('');\r\n\t\tgetdistrictsFun(province,function(data){\r\n\t\t\t$(\"#selCountyID .select-state\").html('');\r\n\t\t\t$(\"#selCountyID .select-xiala\").html('---请选择---<s class=\"u-personal\"></s>');\r\n\t\t\tfor( var v in data.result ){\r\n\t\t\t\t$(\"#selCountyID .select-state\").append('<a href=\"javascript:;\" value=\"'+v+'\">'+data.result[v]+'</a>');\r\n\t\t\t}\r\n\t\t});\r\n\t});\r\n\r\n\t// 默认地址选择\r\n\t$(document).on(\"click\",\".set-default\",function(){\r\n\t\tvar $this = $(this);\r\n\t\tif( $this.hasClass(\"z-click\") ){\r\n\t\t\t$this.removeClass(\"z-click\");\r\n\t\t\t$(\"#a_default\").attr({\"value\":\"0\"});\r\n\t\t}else{\r\n\t\t\t$this.addClass(\"z-click\");\r\n\t\t\t$(\"#a_default\").attr({\"value\":\"1\"});\r\n\t\t}\r\n\t});\r\n\r\n\t// 提交\r\n\t$(document).on(\"click\",\"#btnSaveAddress\",function(){\r\n\t\tvar id = $(this).attr(\"_id\");\r\n\t\tvar province = $(\"#selProvinceID\").find(\"input\").val() //省份\r\n\t\tvar city = $(\"#selCityID\").find(\"input\").val() //城市\r\n\t\tvar district = $(\"#selCountyID\").find(\"input\").val() //区\r\n\t\tvar address = $(\"#txtAddress\").val(); //详细地址\r\n\t\tvar txtPostCode = $(\"#txtPostCode\").val(); //邮政编码\r\n\t\tvar name = $(\"#txtConsignee\").val(); //收货人\r\n\t\tvar txtTel = $(\"#txtTel\").val(); //固定电话\r\n\t\tvar txtMobile = $(\"#txtMobile\").val(); //手机号码\r\n\t\tvar is_default = $(\"#a_default\").attr(\"value\");//默认地址\r\n\r\n\r\n\t\tif( province==\"\"||city==\"\"||district==\"\" ){\r\n\t\t\t$(\"#selProvinceID\").parents(\"li\").find(\".orange\").show();\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif( address==\"\" ){\r\n\t\t\t$(\"#txtAddress\").parents(\"li\").find(\".orange\").show();\r\n\t\t\treturn;\r\n\t\t}else{\r\n\t\t\t$(\"#txtAddress\").parents(\"li\").find(\".orange\").hide();\r\n\t\t}\r\n\r\n\t\tif( name==\"\" ){\r\n\t\t\t$(\"#txtConsignee\").parents(\"li\").find(\".orange\").show();\r\n\t\t\treturn;\r\n\t\t}else{\r\n\t\t\t$(\"#txtConsignee\").parents(\"li\").find(\".orange\").hide();\r\n\t\t}\r\n\r\n\t\tif( address==\"\" ){\r\n\t\t\t$(\"#txtAddress\").parents(\"li\").find(\".orange\").show();\r\n\t\t\treturn;\r\n\t\t}else{\r\n\t\t\t$(\"#txtAddress\").parents(\"li\").find(\".orange\").hide();\r\n\t\t}\r\n\r\n\t\tif( txtMobile==\"\" ){\r\n\t\t\t$(\"#txtMobile\").parents(\"li\").find(\".orange\").show();\r\n\t\t\treturn;\r\n\t\t}else{\r\n\t\t\t$(\"#txtMobile\").parents(\"li\").find(\".orange\").hide();\r\n\t\t}\r\n\r\n\t\tvar dataObj = {\r\n\t\t\tid:id,\r\n\t\t\tname:name,\r\n\t\t\tprovince:province,\r\n\t\t\tcity:city,\r\n\t\t\tdistrict:district,\r\n\t\t\taddress:address,\r\n\t\t\tzipcode:txtPostCode,\r\n\t\t\ttelephone:txtTel,\r\n\t\t\tmobile:txtMobile,\r\n\t\t\tis_default:is_default\r\n\t\t}\r\n\t\tsaveaddressFun(dataObj);\r\n\t});\r\n\r\n\t// 地址增加修改\r\n\twindow.saveaddressFun = function (dataObj){\r\n\t\t$.ajax({\r\n\t        url: \"/member/service/saveaddress\",\r\n\t        type: 'POST',\r\n\t        dataType: 'json',\r\n\t        data: dataObj\r\n\t    })\r\n\t    .done(function(data) {\r\n\t        console.log(data);\r\n\t        if( data.success ){\r\n\t            FailDialog(162,60,\"设置成功\",window.location.href);\r\n\t        }else{\r\n\t            alert(data.error_msg);\r\n\t        }\r\n\t    })\r\n\t    .fail(function() {\r\n\t        alert('网络错误！')\r\n\t    })\r\n\t    .always(function() {\r\n\t        ajaxlack = true;\r\n\t    });\r\n\t}\r\n\r\n\t// 设置默认地址\r\n\twindow.setmembercontactdefaultFun = function(dataObj){\r\n\t\t$.ajax({\r\n\t        url: \"/member/service/setmembercontactdefault\",\r\n\t        type: 'POST',\r\n\t        dataType: 'json',\r\n\t        data: dataObj\r\n\t    })\r\n\t    .done(function(data) {\r\n\t        console.log(data);\r\n\t        if( data.success ){\r\n\t            FailDialog(162,60,\"设置成功\",window.location.href);\r\n\t        }else{\r\n\t            alert(data.error_msg);\r\n\t        }\r\n\t    })\r\n\t    .fail(function() {\r\n\t        alert('网络错误！')\r\n\t    })\r\n\t    .always(function() {\r\n\t        ajaxlack = true;\r\n\t    });\r\n\t}\r\n\r\n\t// 删除地址\r\n\twindow.deleteaddressFun = function (dataObj){\r\n\t\t$.ajax({\r\n\t        url: \"/member/service/deleteaddress\",\r\n\t        type: 'POST',\r\n\t        dataType: 'json',\r\n\t        data: dataObj\r\n\t    })\r\n\t    .done(function(data) {\r\n\t        console.log(data);\r\n\t        if( data.success ){\r\n\t            FailDialog(162,60,\"删除成功\",window.location.href);\r\n\t        }else{\r\n\t            FailDialog(162,60,\"删除失败\");\r\n\t        }\r\n\t    })\r\n\t    .fail(function() {\r\n\t        alert('网络错误！')\r\n\t    })\r\n\t    .always(function() {\r\n\t        ajaxlack = true;\r\n\t    });\r\n\t}\r\n});"},{"id":21,"identifier":"D:\\云购\\public\\js\\app\\userphoto.js","name":"./js/app/userphoto.js","index":27,"index2":26,"size":5134,"cacheable":true,"built":false,"optional":false,"prefetched":false,"chunks":[6],"assets":[],"issuer":"D:\\云购\\public\\js\\app\\memberindex.main.js","failed":false,"errors":0,"warnings":0,"reasons":[{"moduleId":0,"moduleIdentifier":"D:\\云购\\public\\js\\app\\memberindex.main.js","module":"./js/app/memberindex.main.js","moduleName":"./js/app/memberindex.main.js","type":"cjs require","userRequest":"./userphoto","loc":"12:0-22"}],"source":"$(function(){\r\n    if( pageTrue==\"userphoto\" ){\r\n    \t// 上传图片\r\n        function showPreview(coords){\r\n            coord = coords;\r\n            console.log(coords);\r\n            if (parseInt(coords.w) > 0){\r\n                var imgSRC = $(\"#imgPhoto\").attr(\"src\");\r\n                var rx160 = 160 / coords.w;\r\n                var ry160 = 160 / coords.h;\r\n                var rx80 = 80 / coords.w;\r\n                var ry80 = 80 / coords.h;\r\n                var rx30 = 30 / coords.w;\r\n                var ry30 = 30 / coords.h;\r\n                $('#img160').attr({\"src\":imgSRC}).css({\r\n                    width: Math.round(rx160 * 400) + 'px',\r\n                    height: Math.round(ry160 * 400) + 'px',\r\n                    marginLeft: '-' + Math.round(rx160 * coords.x) + 'px',\r\n                    marginTop: '-' + Math.round(ry160 * coords.y) + 'px'\r\n                });\r\n                $('#img80').attr({\"src\":imgSRC}).css({\r\n                    width: Math.round(rx80 * 400) + 'px',\r\n                    height: Math.round(ry80 * 400) + 'px',\r\n                    marginLeft: '-' + Math.round(rx80 * coords.x) + 'px',\r\n                    marginTop: '-' + Math.round(ry80 * coords.y) + 'px'\r\n                });\r\n                $('#img30').attr({\"src\":imgSRC}).css({\r\n                    width: Math.round(rx30 * 400) + 'px',\r\n                    height: Math.round(ry30 * 400) + 'px',\r\n                    marginLeft: '-' + Math.round(rx30 * coords.x) + 'px',\r\n                    marginTop: '-' + Math.round(ry30 * coords.y) + 'px'\r\n                });\r\n            }\r\n        }\r\n\r\n        var cxTrue = 0;\r\n        // 重新选择\r\n        $(\"#btnResetUpFile\").on(\"click\",function(){\r\n            cxTrue = 1;\r\n            $(\"#fuploadFace\").click();\r\n        });\r\n\r\n        var options = {\r\n            //target: '#request',           // 把服务器返回的内容放进这个id里面显示出来\r\n            beforeSubmit: showRequest,  // 提交前回调\r\n            success: showResponse,      // 提交后回调\r\n            url: \"/service/file/upload?upload_path=member/avatar\",           // 如果重新申明了就会覆盖action这个url\r\n            dataType:  \"json\"         // 'xml', 'script', or 'json' (接受服务器返回的类型)\r\n        };\r\n        $(\"#fuploadFace\").on(\"change\",function(){\r\n            var addImg = $(this).val();\r\n            if(addImg!=\"\"||addImg!=null){\r\n                if(addImg.toLowerCase().indexOf(\".jpg\") != -1 || addImg.toLowerCase().indexOf(\".gif\") != -1 || addImg.toLowerCase().indexOf(\".png\") != -1 || addImg.toLowerCase().indexOf(\".bmp\") != -1){\r\n                    $('#form').ajaxForm(options);\r\n                    $(\"#btn_submit\").click();\r\n                }else{\r\n                    alert(\"上传失败，超时或非gif，jpg，png，bmp格式图片，请重试！\");\r\n                }\r\n            }\r\n        });\r\n        //提交前回调\r\n        function showRequest(formData, jqForm, options){\r\n            var queryString = $.param(formData);\r\n            tanFun(180,70,'<div class=\"z-popUp z-pop-box\"><span class=\"box-loading\">上传中，请稍等...</span></div>');\r\n            return true;\r\n        } \r\n        //提交后回调\r\n        function showResponse(responseText){\r\n            avatar = responseText.upload.id;\r\n            console.log(responseText);\r\n            console.log(responseText.upload.id);    \r\n            $(\"#fuploadFace, #div_upfile, #pageDialogBG, #pageDialog\").hide();    \r\n            if( cxTrue==0 ){\r\n                $(\"#imgPhoto, #div_operate\").show();\r\n                $(\"#imgPhoto\").attr({\"src\":windwoHost+\"service/file/index?upload_path=member/avatar&id=\"+avatar+\"&w=400&h=400&a=1\"});\r\n                // 上传图片\r\n                $('#imgPhoto').Jcrop({\r\n                    onChange: showPreview,\r\n                    onSelect: showPreview,\r\n                    setSelect:[100,100,200,200],\r\n                    aspectRatio: 1\r\n                });\r\n            }else{\r\n                $(\".jcrop-holder img, #img160, #img80, #img30\").attr({\"src\":windwoHost+\"service/file/index?upload_path=member/avatar&id=\"+avatar+\"&w=400&h=400&a=1\"});\r\n            }\r\n        }\r\n\r\n        // 保存裁切的图片\r\n        $(\"#btnSavePhoto\").on(\"click\", function(){\r\n            console.log(coord);\r\n            var _x = coord.x;\r\n            var _y = coord.y;\r\n            var _w = coord.w;\r\n            var _h = coord.h;\r\n\r\n            var dataObj = {\r\n                avatar : avatar,\r\n                x : _x,\r\n                y : _y,\r\n                width : _w,\r\n                height : _h\r\n            }\r\n\r\n            if( !ajaxlack ) return; ajaxlack = false;\r\n            $.ajax({\r\n                url: \"/member/service/uploadphoto\",\r\n                type: 'POST',\r\n                dataType: 'json',\r\n                data: dataObj\r\n            })\r\n            .done(function(data) {\r\n                console.log(data);\r\n                if( data.success ){\r\n                    FailDialog(162,60,\"上传成功\",\"/member/admin/membermodify\");\r\n                }else{\r\n                    alert(data.error_msg);\r\n                }\r\n            })\r\n            .fail(function() {\r\n                alert('网络错误！')\r\n            })\r\n            .always(function() {\r\n                ajaxlack = true;\r\n            });     \r\n        });\r\n\r\n    }\r\n})"},{"id":22,"identifier":"D:\\云购\\public\\js\\libs\\jquery.qqFace.js","name":"./js/libs/jquery.qqFace.js","index":29,"index2":28,"size":1352,"cacheable":true,"built":false,"optional":false,"prefetched":false,"chunks":[7],"assets":[],"issuer":"D:\\云购\\public\\js\\app\\message.main.js","failed":false,"errors":0,"warnings":0,"reasons":[{"moduleId":0,"moduleIdentifier":"D:\\云购\\public\\js\\app\\message.main.js","module":"./js/app/message.main.js","moduleName":"./js/app/message.main.js","type":"cjs require","userRequest":"../libs/jquery.qqFace","loc":"2:0-32"}],"source":"// QQ表情插件\r\n(function($){\r\n\t$.fn.qqFace = function(options){\r\n\t\tvar defaults = {\r\n\t\t\tid : 'facebox',\r\n\t\t\tpath : 'face/',\r\n\t\t\tassign : 'content',\r\n\t\t\ttip : 'em_'\r\n\t\t};\r\n\t\tvar option = $.extend(defaults, options);\r\n\t\tvar assign = $('#'+option.assign);\r\n\t\tvar id = option.id;\r\n\t\tvar path = option.path;\r\n\t\tvar tip = option.tip;\r\n\t\t\r\n\t\tif(assign.length<=0){\r\n\t\t\talert('缺少表情赋值对象。');\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\t\r\n\t\t$(this).click(function(e){\r\n\t\t\tvar strFace, labFace;\r\n\t\t\tif($('#'+id).length<=0){\r\n\t\t\t\tstrFace = '<div id=\"'+id+'\" style=\"position:absolute;display:none;z-index:1000;\" class=\"qqFace\">' +\r\n\t\t\t\t\t\t\t  '<table border=\"0\" cellspacing=\"0\" cellpadding=\"0\"><tr>';\r\n\t\t\t\tfor(var i=1; i<=45; i++){\r\n\t\t\t\t\tlabFace = '['+tip+i+']';\r\n\t\t\t\t\tstrFace += '<td><img src=\"'+path+i+'.gif\" onclick=\"$(\\'#'+option.assign+'\\').setCaret();$(\\'#'+option.assign+'\\').insertAtCaret(\\'' + labFace + '\\');\" /></td>';\r\n\t\t\t\t\tif( i % 15 == 0 ) strFace += '</tr><tr>';\r\n\t\t\t\t}\r\n\t\t\t\tstrFace += '</tr></table></div>';\r\n\t\t\t}\r\n\t\t\t$(this).parent().append(strFace);\r\n\t\t\tvar offset = $(this).position();\r\n\t\t\tvar top = offset.top + $(this).outerHeight();\r\n\t\t\t$('#'+id).css('bottom',\"30px\");\r\n\t\t\t$('#'+id).css('left',offset.left);\r\n\t\t\t$('#'+id).show();\r\n\t\t\te.stopPropagation();\r\n\t\t});\r\n\r\n\t\t$(document).click(function(){\r\n\t\t\t$('#'+id).hide();\r\n\t\t\t$('#'+id).remove();\r\n\t\t});\r\n\t};\r\n\r\n})(jQuery);"}],"filteredModules":0,"children":[]}